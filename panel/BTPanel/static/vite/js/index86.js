import{_ as e}from"./index53.js?v=1720690738171";import{_ as t,a}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1720690738171";import{e as l,ei as r,ej as s}from"./index.js?v=1720690738171";import{l as i,ad as n,r as o,S as u,Z as c,P as p,V as d,_ as m,W as _,b as f,a3 as v,F as x,s as j}from"./vue.js?v=1720690738171";import{_ as b}from"./Select.js?v=1720690738171";import"./pinia.js?v=1720690738171";import"./Tag.js?v=1720690738171";import"./Empty.js?v=1720690738171";const g={class:"p-20px"},y={class:"w-460px"};const h=i({__name:"index",props:{url:{default:""},mirrors:{default:()=>({})}},emits:["refresh"],setup(i,{expose:h,emit:w}){const S=i,k=w,{t:D}=n(),$=o(null),O=o([]),P=({option:e})=>p(x,null,[e.title?"".concat(e.value,"(").concat(e.title,")"):e.label]),C=e=>{$.value=e},U=async()=>{await k("refresh",(e=>{A(e)}))},A=e=>{O.value=Object.entries(e).map((([e,t])=>({label:()=>{let a;return p("div",{class:"flex items-center justify-between w-full"},[p("span",{class:"mr-16px"},["".concat(e,"(").concat(t,")")]),p(l,{type:"error",onClick:t=>{t.stopPropagation(),(async e=>{await s({registry_mirrors_address:e}),await U()})(e)}},(r=a=D("Public.Btn.Del"),"function"==typeof r||"[object Object]"===Object.prototype.toString.call(r)&&!j(r)?a:{default:()=>[a]}))]);var r},title:t,value:e}))),O.value.push({label:D("Docker.Setting.url.index_5"),value:""})};(()=>{const{url:e,mirrors:t}=S;e&&($.value=e),A(t)})();return h({onConfirm:async()=>{await r({registry_mirrors_address:$.value?$.value:""}),k("refresh")}}),(l,r)=>{const s=b,i=t,n=a,o=e;return u(),c("div",g,[p(n,null,{default:d((()=>[p(i,{label:"Accelerated URL","show-feedback":!1},{default:d((()=>[m("div",y,[p(s,{value:_($),"onUpdate:value":r[0]||(r[0]=e=>f($)?$.value=e:null),filterable:!0,options:_(O),"consistent-menu-width":!1,"render-tag":P,placeholder:l.$t("Docker.Setting.url.index_1"),onSearch:C},null,8,["value","options","placeholder"])])])),_:1})])),_:1}),p(o,{class:"mt-24px"},{default:d((()=>[m("li",null,v(l.$t("Docker.Setting.url.index_2")),1),m("li",null,v(l.$t("Docker.Setting.url.index_3")),1),m("li",null,v(l.$t("Docker.Setting.url.index_4")),1)])),_:1})])}}});export{h as default};
