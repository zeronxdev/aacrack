System.register(["./index-legacy53.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1720690738171","./index-legacy.js?v=1720690738171","./vue-legacy.js?v=1720690738171","./InputGroupLabel-legacy.js?v=1720690738171","./InputGroup-legacy.js?v=1720690738171","./pinia-legacy.js?v=1720690738171"],(function(e,a){"use strict";var t,s,u,l,o,i,n,d,p,r,c,_,f,g,q,y,x,v,m,h,z,b;return{setters:[e=>{t=e._},e=>{s=e._,u=e.a},e=>{l=e.ar,o=e.aj,i=e.J,n=e.a9,d=e.cC},e=>{p=e.l,r=e.f,c=e.r,_=e.S,f=e.Z,g=e.P,q=e.V,y=e._,x=e.W,v=e.q,m=e.a3,h=e.af},e=>{z=e._},e=>{b=e._},null],execute:function(){const a={class:"px-20px py-24px"},j={class:"w-160px"},w={class:"w-160px"},M=y("li",{class:"text-error"},"Reminder: This feature is exclusive to the pro edition",-1),S=y("li",null,"Requires an XFS filesystem and includes the [prjquota] parameter to use",-1),O={key:0},J=y("li",null,'Quota: To cancel quota, set to "0"',-1);e("default",p({__name:"quota-config",props:{data:{}},setup(e,{expose:p}){const P=e,{type:k,info:B,callback:C}=P.data,G=r({used:"0",size:0}),I=c("MB");return(()=>{const e=o(B,"quota.used",0);if(e>0){const a=i(e).split(" ");G.used=a[0],I.value=a[1]}G.size=o(B,"quota.size",0)})(),p({onConfirm:async({hide:e})=>{var a;"site"!==k&&"ftp"!==k||await(a={size:G.size,quota_type:k,path:o(B,"path","")},l.post("/project/quota/modify_path_quota",{data:JSON.stringify({path:a.path,quota_type:a.quota_type,quota_push:{module:"",status:!1,size:0,push_count:0},quota_storage:{size:a.size}})},{requestOptions:{loading:"Processing, please wait...",successMessage:!0,errorMessage:{close:!0}}})),"database"===k&&await(e=>l.post("/project/quota/modify_database_quota",{data:JSON.stringify({db_name:e.db_name,quota_push:{module:"",status:!1,size:0,push_count:0},quota_storage:{size:e.size}})},{requestOptions:{loading:"Processing, please wait...",successMessage:!0,errorMessage:{close:!0}}}))({size:G.size,db_name:o(B,"name","")}),C?.(),e()}}),(e,l)=>{const o=n,i=z,p=b,r=s,c=d,P=u,B=t;return _(),f("div",a,[g(P,{"label-width":"180"},{default:q((()=>[g(r,{label:"Quota already set"},{default:q((()=>[y("div",j,[g(p,null,{default:q((()=>[g(o,{value:x(G).used,"onUpdate:value":l[0]||(l[0]=e=>x(G).used=e),disabled:!0},null,8,["value"]),g(i,{class:"w-44px text-center"},{default:q((()=>[v(m(x(I)),1)])),_:1})])),_:1})])])),_:1}),g(r,{label:"Set new quota"},{default:q((()=>[y("div",w,[g(p,null,{default:q((()=>[g(c,{value:x(G).size,"onUpdate:value":l[1]||(l[1]=e=>x(G).size=e),min:0,"show-button":!1},null,8,["value"]),g(i,{class:"w-44px text-center"},{default:q((()=>[v("MB")])),_:1})])),_:1})])])),_:1})])),_:1}),g(B,{class:"mt-8px"},{default:q((()=>[M,S,"database"!==x(k)?(_(),f("li",O," Example of fstab: /dev/vdc1 /data xfs defaults,prjquota 0 0 ")):h("",!0),J])),_:1})])}}}))}}}));
