import{_ as e,a as r}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1720690738171";import{bu as t,aD as l,bF as n,bB as a,bE as o,bp as i,aR as s,bC as d,B as c,aV as u,bf as h,bK as f,a9 as b,a_ as p,aQ as g,ax as v,az as m,aA as x,av as S,aP as C,aF as R,aG as z,bk as T,aM as k,bo as y,c5 as F,aS as w,u as O,n as P,h as A,dD as _,a as L}from"./index.js?v=1720690738171";import{l as V,p as B,a as I,r as U,d as D,k as H,A as j,S as E,Z as M,P as q,V as N,_ as W,W as G,b as K}from"./vue.js?v=1720690738171";import{g as Q,V as X}from"./Select.js?v=1720690738171";import{c as Y,_ as Z}from"./Checkbox.js?v=1720690738171";import{e as J,_ as $}from"./Empty.js?v=1720690738171";import"./pinia.js?v=1720690738171";import"./Tag.js?v=1720690738171";const ee=V({name:"Search",render:()=>B("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:"enable-background: new 0 0 512 512"},B("path",{d:"M443.5,420.2L336.7,312.4c20.9-26.2,33.5-59.4,33.5-95.5c0-84.5-68.5-153-153.1-153S64,132.5,64,217s68.5,153,153.1,153\n  c36.6,0,70.1-12.8,96.5-34.2l106.1,107.1c3.2,3.4,7.6,5.1,11.9,5.1c4.1,0,8.2-1.5,11.3-4.5C449.5,437.2,449.7,426.8,443.5,420.2z\n   M217.1,337.1c-32.1,0-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-84.9c0-32.1,12.5-62.3,35.2-84.9c22.7-22.7,52.9-35.2,85-35.2\n  c32.1,0,62.3,12.5,85,35.2c22.7,22.7,35.2,52.9,35.2,84.9c0,32.1-12.5,62.3-35.2,84.9C279.4,324.6,249.2,337.1,217.1,337.1z"}))}),re={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},te=t({name:"Transfer",common:l,peers:{Checkbox:Y,Scrollbar:n,Input:a,Empty:J,Button:o},self:e=>{const{fontWeight:r,fontSizeLarge:t,fontSizeMedium:l,fontSizeSmall:n,heightLarge:a,heightMedium:o,borderRadius:s,cardColor:d,tableHeaderColor:c,textColor1:u,textColorDisabled:h,textColor2:f,textColor3:b,borderColor:p,hoverColor:g,closeColorHover:v,closeColorPressed:m,closeIconColor:x,closeIconColorHover:S,closeIconColorPressed:C}=e;return Object.assign(Object.assign({},re),{itemHeightSmall:o,itemHeightMedium:o,itemHeightLarge:a,fontSizeSmall:n,fontSizeMedium:l,fontSizeLarge:t,borderRadius:s,dividerColor:p,borderColor:p,listColor:d,headerColor:i(d,c),titleTextColor:u,titleTextColorDisabled:h,extraTextColor:b,extraTextColorDisabled:h,itemTextColor:f,itemTextColorDisabled:h,itemColorPending:g,titleFontWeight:r,closeColorHover:v,closeColorPressed:m,closeIconColor:x,closeIconColorHover:S,closeIconColorPressed:C})}}),le=s("n-transfer"),ne=V({name:"TransferHeader",props:{size:{type:String,required:!0},selectAllText:String,clearText:String,source:Boolean,onCheckedAll:Function,onClearAll:Function,title:String},setup(e){const{targetOptionsRef:r,canNotSelectAnythingRef:t,canBeClearedRef:l,allCheckedRef:n,mergedThemeRef:a,disabledRef:o,mergedClsPrefixRef:i,srcOptionsLengthRef:s}=I(le),{localeRef:u}=d("Transfer");return()=>{const{source:d,onClearAll:h,onCheckedAll:f,selectAllText:b,clearText:p}=e,{value:g}=a,{value:v}=i,{value:m}=u,x="large"===e.size?"small":"tiny",{title:S}=e;return B("div",{class:"".concat(v,"-transfer-list-header")},S&&B("div",{class:"".concat(v,"-transfer-list-header__title")},S),d&&B(c,{class:"".concat(v,"-transfer-list-header__button"),theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,size:x,tertiary:!0,onClick:n.value?h:f,disabled:t.value||o.value},{default:()=>n.value?p||m.unselectAll:b||m.selectAll}),!d&&l.value&&B(c,{class:"".concat(v,"-transfer-list-header__button"),theme:g.peers.Button,themeOverrides:g.peerOverrides.Button,size:x,tertiary:!0,onClick:h,disabled:o.value},{default:()=>m.clearAll}),B("div",{class:"".concat(v,"-transfer-list-header__extra")},d?m.total(s.value):m.selected(r.value.length)))}}}),ae=V({name:"NTransferListItem",props:{source:Boolean,label:{type:String,required:!0},value:{type:[String,Number],required:!0},disabled:Boolean,option:{type:Object,required:!0}},setup(e){const{targetValueSetRef:r,mergedClsPrefixRef:t,mergedThemeRef:l,handleItemCheck:n,renderSourceLabelRef:a,renderTargetLabelRef:o,showSelectedRef:i}=I(le),s=u((()=>r.value.has(e.value)));return{mergedClsPrefix:t,mergedTheme:l,checked:s,showSelected:i,renderSourceLabel:a,renderTargetLabel:o,handleClick:function(){e.disabled||n(!s.value,e.value)}}},render(){const{disabled:e,mergedTheme:r,mergedClsPrefix:t,label:l,checked:n,source:a,renderSourceLabel:o,renderTargetLabel:i}=this;return B("div",{class:["".concat(t,"-transfer-list-item"),e&&"".concat(t,"-transfer-list-item--disabled"),"".concat(t,a?"-transfer-list-item--source":"-transfer-list-item--target")],onClick:a?this.handleClick:void 0},B("div",{class:"".concat(t,"-transfer-list-item__background")}),a&&this.showSelected&&B("div",{class:"".concat(t,"-transfer-list-item__checkbox")},B(Z,{theme:r.peers.Checkbox,themeOverrides:r.peerOverrides.Checkbox,disabled:e,checked:n})),B("div",{class:"".concat(t,"-transfer-list-item__label"),title:Q(l)},a?o?o({option:this.option}):l:i?i({option:this.option}):l),!a&&!e&&B(h,{focusable:!1,class:"".concat(t,"-transfer-list-item__close"),clsPrefix:t,onClick:this.handleClick}))}}),oe=V({name:"TransferList",props:{virtualScroll:{type:Boolean,required:!0},itemSize:{type:Number,required:!0},options:{type:Array,required:!0},disabled:{type:Boolean,required:!0},source:Boolean},setup(){const{mergedThemeRef:e,mergedClsPrefixRef:r}=I(le),t=U(null),l=U(null);return{mergedTheme:e,mergedClsPrefix:r,scrollerInstRef:t,vlInstRef:l,syncVLScroller:function(){var e;null===(e=t.value)||void 0===e||e.sync()},scrollContainer:function(){const{value:e}=l;if(!e)return null;const{listElRef:r}=e;return r},scrollContent:function(){const{value:e}=l;if(!e)return null;const{itemsElRef:r}=e;return r}}},render(){const{mergedTheme:e,options:r}=this;if(0===r.length)return B($,{theme:e.peers.Empty,themeOverrides:e.peerOverrides.Empty});const{mergedClsPrefix:t,virtualScroll:l,source:n,disabled:a,syncVLScroller:o}=this;return B(f,{ref:"scrollerInstRef",theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,container:l?this.scrollContainer:void 0,content:l?this.scrollContent:void 0},{default:()=>l?B(X,{ref:"vlInstRef",style:{height:"100%"},class:"".concat(t,"-transfer-list-content"),items:this.options,itemSize:this.itemSize,showScrollbar:!1,onResize:o,onScroll:o,keyField:"value"},{default:({item:e})=>{const{source:r,disabled:t}=this;return B(ae,{source:r,key:e.value,value:e.value,disabled:e.disabled||t,label:e.label,option:e})}}):B("div",{class:"".concat(t,"-transfer-list-content")},r.map((e=>B(ae,{source:n,key:e.value,value:e.value,disabled:e.disabled||a,label:e.label,option:e}))))})}}),ie=V({name:"TransferFilter",props:{value:String,placeholder:String,disabled:Boolean,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:e,mergedClsPrefixRef:r}=I(le);return{mergedClsPrefix:r,mergedTheme:e}},render(){const{mergedTheme:e,mergedClsPrefix:r}=this;return B("div",{class:"".concat(r,"-transfer-filter")},B(b,{value:this.value,onUpdateValue:this.onUpdateValue,disabled:this.disabled,placeholder:this.placeholder,theme:e.peers.Input,themeOverrides:e.peerOverrides.Input,clearable:!0,size:"small"},{"clear-icon-placeholder":()=>B(p,{clsPrefix:r},{default:()=>B(ee,null)})}))}});const se=v("transfer","\n width: 100%;\n font-size: var(--n-font-size);\n height: 300px;\n display: flex;\n flex-wrap: nowrap;\n word-break: break-word;\n",[m("disabled",[v("transfer-list",[v("transfer-list-header",[x("title","\n color: var(--n-header-text-color-disabled);\n "),x("extra","\n color: var(--n-header-extra-text-color-disabled);\n ")])])]),v("transfer-list","\n flex: 1;\n min-width: 0;\n height: inherit;\n display: flex;\n flex-direction: column;\n background-clip: padding-box;\n position: relative;\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-list-color);\n ",[m("source","\n border-top-left-radius: var(--n-border-radius);\n border-bottom-left-radius: var(--n-border-radius);\n ",[x("border","border-right: 1px solid var(--n-divider-color);")]),m("target","\n border-top-right-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n ",[x("border","border-left: none;")]),x("border","\n padding: 0 12px;\n border: 1px solid var(--n-border-color);\n transition: border-color .3s var(--n-bezier);\n pointer-events: none;\n border-radius: inherit;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n "),v("transfer-list-header","\n min-height: var(--n-header-height);\n box-sizing: border-box;\n display: flex;\n padding: 12px 12px 10px 12px;\n align-items: center;\n background-clip: padding-box;\n border-radius: inherit;\n border-bottom-left-radius: 0;\n border-bottom-right-radius: 0;\n line-height: 1.5;\n transition:\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n ",[S("> *:not(:first-child)","\n margin-left: 8px;\n "),x("title","\n flex: 1;\n min-width: 0;\n line-height: 1.5;\n font-size: var(--n-header-font-size);\n font-weight: var(--n-header-font-weight);\n transition: color .3s var(--n-bezier);\n color: var(--n-header-text-color);\n "),x("button","\n position: relative;\n "),x("extra","\n transition: color .3s var(--n-bezier);\n font-size: var(--n-extra-font-size);\n margin-right: 0;\n white-space: nowrap;\n color: var(--n-header-extra-text-color);\n ")]),v("transfer-list-body","\n flex-basis: 0;\n flex-grow: 1;\n box-sizing: border-box;\n position: relative;\n display: flex;\n flex-direction: column;\n border-radius: inherit;\n border-top-left-radius: 0;\n border-top-right-radius: 0;\n ",[v("transfer-filter","\n padding: 4px 12px 8px 12px;\n box-sizing: border-box;\n transition:\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),v("transfer-list-flex-container","\n flex: 1;\n position: relative;\n ",[v("scrollbar","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n height: unset;\n "),v("empty","\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateY(-50%) translateX(-50%);\n "),v("transfer-list-content","\n padding: 0;\n margin: 0;\n position: relative;\n ",[v("transfer-list-item","\n padding: 0 12px;\n min-height: var(--n-item-height);\n display: flex;\n align-items: center;\n color: var(--n-item-text-color);\n position: relative;\n transition: color .3s var(--n-bezier);\n ",[x("background","\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n "),x("checkbox","\n position: relative;\n margin-right: 8px;\n "),x("close","\n opacity: 0;\n pointer-events: none;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n "),x("label","\n position: relative;\n min-width: 0;\n flex-grow: 1;\n "),m("source","cursor: pointer;"),m("disabled","\n cursor: not-allowed;\n color: var(--n-item-text-color-disabled);\n "),C("disabled",[S("&:hover",[x("background","background-color: var(--n-item-color-pending);"),x("close","\n opacity: 1;\n pointer-events: all;\n ")])])])])])])])]),de=V({name:"Transfer",props:Object.assign(Object.assign({},z.props),{value:Array,defaultValue:{type:Array,default:null},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:void 0},virtualScroll:Boolean,sourceTitle:String,selectAllText:String,clearText:String,targetTitle:String,filterable:{type:Boolean,default:void 0},sourceFilterable:Boolean,targetFilterable:Boolean,showSelected:{type:Boolean,default:!0},sourceFilterPlaceholder:String,targetFilterPlaceholder:String,filter:{type:Function,default:(e,r)=>!e||~(""+r.label).toLowerCase().indexOf((""+e).toLowerCase())},size:String,renderSourceLabel:Function,renderTargetLabel:Function,renderSourceList:Function,renderTargetList:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),setup(e){const{mergedClsPrefixRef:r}=R(e),t=z("Transfer","-transfer",se,te,e,r),l=T(e),{mergedSizeRef:n,mergedDisabledRef:a}=l,o=H((()=>{const{value:e}=n,{self:{[k("itemHeight",e)]:r}}=t.value;return y(r)})),{uncontrolledValueRef:i,mergedValueRef:s,targetValueSetRef:d,valueSetForCheckAllRef:c,valueSetForUncheckAllRef:u,valueSetForClearRef:h,filteredTgtOptionsRef:f,filteredSrcOptionsRef:b,targetOptionsRef:p,canNotSelectAnythingRef:v,canBeClearedRef:m,allCheckedRef:x,srcPatternRef:S,tgtPatternRef:C,mergedSrcFilterableRef:O,handleSrcFilterUpdateValue:P,handleTgtFilterUpdateValue:A}=function(e){const r=U(e.defaultValue),t=g(D(e,"value"),r),l=H((()=>{const r=new Map;return(e.options||[]).forEach((e=>r.set(e.value,e))),r})),n=H((()=>new Set(t.value||[]))),a=H((()=>{const e=l.value,r=[];return(t.value||[]).forEach((t=>{const l=e.get(t);l&&r.push(l)})),r})),o=U(""),i=U(""),s=H((()=>e.sourceFilterable||!!e.filterable)),d=H((()=>{const{showSelected:r,options:t,filter:l}=e;return s.value?t.filter((e=>l(o.value,e,"source")&&(r||!n.value.has(e.value)))):r?t:t.filter((e=>!n.value.has(e.value)))})),c=H((()=>{if(!e.targetFilterable)return a.value;const{filter:r}=e;return a.value.filter((e=>r(i.value,e,"target")))})),u=H((()=>{const{value:e}=t;return null===e?new Set:new Set(e)})),h=H((()=>{const e=new Set(u.value);return d.value.forEach((r=>{r.disabled||e.has(r.value)||e.add(r.value)})),e})),f=H((()=>{const e=new Set(u.value);return d.value.forEach((r=>{!r.disabled&&e.has(r.value)&&e.delete(r.value)})),e})),b=H((()=>{const e=new Set(u.value);return c.value.forEach((r=>{r.disabled||e.delete(r.value)})),e})),p=H((()=>d.value.every((e=>e.disabled)))),v=H((()=>{if(!d.value.length)return!1;const e=u.value;return d.value.every((r=>r.disabled||e.has(r.value)))})),m=H((()=>c.value.some((e=>!e.disabled))));return{uncontrolledValueRef:r,mergedValueRef:t,targetValueSetRef:n,valueSetForCheckAllRef:h,valueSetForUncheckAllRef:f,valueSetForClearRef:b,filteredTgtOptionsRef:c,filteredSrcOptionsRef:d,targetOptionsRef:a,canNotSelectAnythingRef:p,canBeClearedRef:m,allCheckedRef:v,srcPatternRef:o,tgtPatternRef:i,mergedSrcFilterableRef:s,handleSrcFilterUpdateValue:function(e){o.value=null!=e?e:""},handleTgtFilterUpdateValue:function(e){i.value=null!=e?e:""}}}(e);function _(r){const{onUpdateValue:t,"onUpdate:value":n,onChange:a}=e,{nTriggerFormInput:o,nTriggerFormChange:s}=l;t&&w(t,r),n&&w(n,r),a&&w(a,r),i.value=r,o(),s()}function L(e,r){_(e?(s.value||[]).concat(r):(s.value||[]).filter((e=>e!==r)))}return j(le,{targetValueSetRef:d,mergedClsPrefixRef:r,disabledRef:a,mergedThemeRef:t,targetOptionsRef:p,canNotSelectAnythingRef:v,canBeClearedRef:m,allCheckedRef:x,srcOptionsLengthRef:H((()=>e.options.length)),handleItemCheck:L,renderSourceLabelRef:D(e,"renderSourceLabel"),renderTargetLabelRef:D(e,"renderTargetLabel"),showSelectedRef:D(e,"showSelected")}),{mergedClsPrefix:r,mergedDisabled:a,itemSize:o,isMounted:F(),mergedTheme:t,filteredSrcOpts:b,filteredTgtOpts:f,srcPattern:S,tgtPattern:C,mergedSize:n,mergedSrcFilterable:O,handleSrcFilterUpdateValue:P,handleTgtFilterUpdateValue:A,handleSourceCheckAll:function(){_([...c.value])},handleSourceUncheckAll:function(){_([...u.value])},handleTargetClearAll:function(){_([...h.value])},handleItemCheck:L,handleChecked:function(e){_(e)},cssVars:H((()=>{const{value:e}=n,{common:{cubicBezierEaseInOut:r},self:{borderRadius:l,borderColor:a,listColor:o,titleTextColor:i,titleTextColorDisabled:s,extraTextColor:d,itemTextColor:c,itemColorPending:u,itemTextColorDisabled:h,titleFontWeight:f,closeColorHover:b,closeColorPressed:p,closeIconColor:g,closeIconColorHover:v,closeIconColorPressed:m,closeIconSize:x,closeSize:S,dividerColor:C,extraTextColorDisabled:R,[k("extraFontSize",e)]:z,[k("fontSize",e)]:T,[k("titleFontSize",e)]:y,[k("itemHeight",e)]:F,[k("headerHeight",e)]:w}}=t.value;return{"--n-bezier":r,"--n-border-color":a,"--n-border-radius":l,"--n-extra-font-size":z,"--n-font-size":T,"--n-header-font-size":y,"--n-header-extra-text-color":d,"--n-header-extra-text-color-disabled":R,"--n-header-font-weight":f,"--n-header-text-color":i,"--n-header-text-color-disabled":s,"--n-item-color-pending":u,"--n-item-height":F,"--n-item-text-color":c,"--n-item-text-color-disabled":h,"--n-list-color":o,"--n-header-height":w,"--n-close-size":S,"--n-close-icon-size":x,"--n-close-color-hover":b,"--n-close-color-pressed":p,"--n-close-icon-color":g,"--n-close-icon-color-hover":v,"--n-close-icon-color-pressed":m,"--n-divider-color":C}}))}},render(){const{mergedClsPrefix:e,renderSourceList:r,renderTargetList:t,mergedTheme:l,mergedSrcFilterable:n,targetFilterable:a}=this;return B("div",{class:["".concat(e,"-transfer"),this.mergedDisabled&&"".concat(e,"-transfer--disabled")],style:this.cssVars},B("div",{class:"".concat(e,"-transfer-list ").concat(e,"-transfer-list--source")},B(ne,{source:!0,selectAllText:this.selectAllText,clearText:this.clearText,title:this.sourceTitle,onCheckedAll:this.handleSourceCheckAll,onClearAll:this.handleSourceUncheckAll,size:this.mergedSize}),B("div",{class:"".concat(e,"-transfer-list-body")},n?B(ie,{onUpdateValue:this.handleSrcFilterUpdateValue,value:this.srcPattern,disabled:this.mergedDisabled,placeholder:this.sourceFilterPlaceholder}):null,B("div",{class:"".concat(e,"-transfer-list-flex-container")},r?B(f,{theme:l.peers.Scrollbar,themeOverrides:l.peerOverrides.Scrollbar},{default:()=>r({onCheck:this.handleChecked,checkedOptions:this.filteredTgtOpts,pattern:this.srcPattern})}):B(oe,{source:!0,options:this.filteredSrcOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,itemSize:this.itemSize}))),B("div",{class:"".concat(e,"-transfer-list__border")})),B("div",{class:"".concat(e,"-transfer-list ").concat(e,"-transfer-list--target")},B(ne,{onClearAll:this.handleTargetClearAll,size:this.mergedSize,title:this.targetTitle}),B("div",{class:"".concat(e,"-transfer-list-body")},a?B(ie,{onUpdateValue:this.handleTgtFilterUpdateValue,value:this.tgtPattern,disabled:this.mergedDisabled,placeholder:this.sourceFilterPlaceholder}):null,B("div",{class:"".concat(e,"-transfer-list-flex-container")},t?B(f,{theme:l.peers.Scrollbar,themeOverrides:l.peerOverrides.Scrollbar},{default:()=>t({onCheck:this.handleChecked,checkedOptions:this.filteredTgtOpts,pattern:this.tgtPattern})}):B(oe,{options:this.filteredTgtOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,itemSize:this.itemSize}))),B("div",{class:"".concat(e,"-transfer-list__border")})))}}),ce={class:"p-20px"},ue={class:"w-220px"},he=L(V({__name:"index",props:{data:{}},setup(t,{expose:l}){const n=t,{sid:a,databaseList:o}=n.data,i=O(),s=U([]),d=H((()=>o.map((e=>({label:e.name,value:e.id})))));return l({onConfirm:({hide:e})=>{null!==a?0!==s.value.length?A({title:"Clear database",content:"Data cannot be restored after being cleared. Do you want to continue?",onConfirm:async({hide:r})=>{await _({sid:a,ids:s.value}),i.setRefresh(!0),r(),e()}}):P.error("Select the database that you want to delete!"):P.error("Please select remote database!")}}),(t,l)=>{const n=de,a=e,o=r;return E(),M("div",ce,[q(o,null,{default:N((()=>[q(a,{label:"Select database","show-feedback":!1},{default:N((()=>[W("div",ue,[q(n,{value:G(s),"onUpdate:value":l[0]||(l[0]=e=>K(s)?s.value=e:null),options:G(d)},null,8,["value","options"])])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-46996bbc"]]);export{he as default};
