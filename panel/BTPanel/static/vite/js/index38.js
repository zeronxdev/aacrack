const __vite__fileDeps=["js/index114.js?v=1720690738171","js/index.js?v=1720690738171","js/vue.js?v=1720690738171","js/pinia.js?v=1720690738171","css/index29.css?v=1720690738171","js/site2.js?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang12.js?v=1720690738171","js/Progress.js?v=1720690738171","js/DataTable.js?v=1720690738171","js/Checkbox.js?v=1720690738171","js/Ellipsis.js?v=1720690738171","js/Select.js?v=1720690738171","js/Tag.js?v=1720690738171","js/Empty.js?v=1720690738171","js/omit.js?v=1720690738171","js/file2.js?v=1720690738171","js/use-theme-vars.js?v=1720690738171","css/index27.css?v=1720690738171","js/index115.js?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang.js?v=1720690738171","js/useTableColumns.js?v=1720690738171","css/useTableColumns.css?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang2.js?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang3.js?v=1720690738171","js/useTableData.js?v=1720690738171","js/Skeleton.js?v=1720690738171","js/useLoading.js?v=1720690738171","js/index49.js?v=1720690738171","css/index8.css?v=1720690738171","js/site.js?v=1720690738171","js/useAccount.js?v=1720690738171","js/index111.js?v=1720690738171","js/Tabs.js?v=1720690738171","css/index12.css?v=1720690738171","js/index85.js?v=1720690738171","css/index10.css?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang5.js?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang10.js?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang7.js?v=1720690738171","js/InputGroupLabel.js?v=1720690738171","js/InputGroup.js?v=1720690738171","js/index57.js?v=1720690738171","css/index9.css?v=1720690738171","js/index53.js?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang11.js?v=1720690738171","js/Spin.js?v=1720690738171","js/form.vue_vue_type_script_setup_true_lang.js?v=1720690738171","js/php.js?v=1720690738171","js/Space.js?v=1720690738171","js/Alert.js?v=1720690738171","js/index112.js?v=1720690738171","css/index13.css?v=1720690738171","js/_createCompounder.js?v=1720690738171","js/index116.js?v=1720690738171","css/index28.css?v=1720690738171","js/index117.js?v=1720690738171","js/uniq.js?v=1720690738171","js/_baseUniq.js?v=1720690738171","js/_baseFindIndex.js?v=1720690738171","js/old3.js?v=1720690738171","js/index118.js?v=1720690738171","js/RadioButton.js?v=1720690738171","js/index119.js?v=1720690738171","js/index120.js?v=1720690738171"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{cy as e,cc as t,aG as a,aR as l,bu as i,aD as n,ce as o,av as s,ax as r,cE as d,aE as c,aP as u,bC as p,bL as m,aF as h,aI as v,c5 as f,a_ as g,cG as w,cH as b,bM as y,cf as _,bS as C,aU as x,ar as S,aq as k,H as P,j as L,e as T,v as R,h as $,k as E,n as D,B as O,G as U,p as W,a9 as M,aj as j,g as A,q as B,b8 as I,cC as z,cI as N,a as H,b1 as V,cJ as q,cp as Z,z as X,_ as F,m as K,r as Y}from"./index.js?v=1720690738171";import{_ as G}from"./index49.js?v=1720690738171";import{_ as J}from"./index.vue_vue_type_script_setup_true_lang.js?v=1720690738171";import{_ as Q,a as ee}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1720690738171";import{_ as te}from"./index.vue_vue_type_script_setup_true_lang3.js?v=1720690738171";import{u as ae,_ as le}from"./useTableData.js?v=1720690738171";import{s as ie}from"./pinia.js?v=1720690738171";import{l as ne}from"./site.js?v=1720690738171";import{b as oe,a as se}from"./useAccount.js?v=1720690738171";import{u as re}from"./useLoading.js?v=1720690738171";import{B as de,_ as ce,b as ue,i as pe,d as me,e as he,j as ve}from"./useTableColumns.js?v=1720690738171";import{V as fe,W as ge,X as we,Y as be,Z as ye,_ as _e,$ as Ce,a0 as xe,a1 as Se,a2 as ke,a3 as Pe,a4 as Le,a5 as Te,a6 as Re,a7 as $e,a8 as Ee,a9 as De,aa as Oe,ab as Ue,ac as We,ad as Me,ae as je,af as Ae,ag as Be,ah as Ie,ai as ze,aj as Ne,ak as He,al as Ve,am as qe,an as Ze,ao as Xe,ap as Fe,aq as Ke,ar as Ye,as as Ge,at as Je,au as Qe,av as et,aw as tt,ax as at,ay as lt,az as it,aA as nt,aB as ot,aC as st,aD as rt,aE as dt,aF as ct,aG as ut,a as pt}from"./site2.js?v=1720690738171";import{p as mt,l as ht,d as vt,r as ft,w as gt,y as wt,a as bt,k as yt,B as _t,J as Ct,F as xt,M as St,$ as kt,A as Pt,v as Lt,x as Tt,I as Rt,a1 as $t,P as Et,q as Dt,ad as Ot,s as Ut,S as Wt,Z as Mt,_ as jt,V as At,a3 as Bt,W as It,b as zt,f as Nt,af as Ht,t as Vt,U as qt,al as Zt,a5 as Xt,a6 as Ft,ai as Kt,ag as Yt,n as Gt}from"./vue.js?v=1720690738171";import{_ as Jt}from"./index111.js?v=1720690738171";import{_ as Qt}from"./index85.js?v=1720690738171";import{_ as ea,a as ta}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1720690738171";import{_ as aa}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1720690738171";import{_ as la}from"./Select.js?v=1720690738171";import{_ as ia}from"./index57.js?v=1720690738171";import{_ as na}from"./index53.js?v=1720690738171";import{_ as oa,a as sa}from"./Checkbox.js?v=1720690738171";import{_ as ra}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1720690738171";import{_ as da,a as ca,b as ua,c as pa}from"./form.vue_vue_type_script_setup_true_lang.js?v=1720690738171";import{a as ma,b as ha}from"./php.js?v=1720690738171";import{_ as va}from"./Space.js?v=1720690738171";import{_ as fa}from"./Alert.js?v=1720690738171";import{_ as ga}from"./InputGroupLabel.js?v=1720690738171";import{_ as wa}from"./InputGroup.js?v=1720690738171";import{_ as ba}from"./index112.js?v=1720690738171";import{_ as ya}from"./Spin.js?v=1720690738171";import{_ as _a}from"./Progress.js?v=1720690738171";import{c as Ca}from"./_createCompounder.js?v=1720690738171";import{d as xa}from"./DataTable.js?v=1720690738171";var Sa=Ca((function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}));const ka=e("download",mt("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},mt("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},mt("g",{fill:"currentColor","fill-rule":"nonzero"},mt("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Pa=e("rotateClockwise",mt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mt("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),mt("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),La=e("rotateClockwise",mt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mt("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),mt("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Ta=e("zoomIn",mt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mt("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),mt("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Ra=e("zoomOut",mt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mt("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),mt("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),$a=ht({name:"ResizeSmall",render:()=>mt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},mt("g",{fill:"none"},mt("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}),Ea=t&&"loading"in document.createElement("img"),Da=new WeakMap,Oa=new WeakMap,Ua=new WeakMap,Wa=(e,t,a)=>{if(!e)return()=>{};const l=((e={})=>{var t;const{root:a=null}=e;return{hash:"".concat(e.rootMargin||"0px 0px 0px 0px","-").concat(Array.isArray(e.threshold)?e.threshold.join(","):null!==(t=e.threshold)&&void 0!==t?t:"0"),options:Object.assign(Object.assign({},e),{root:("string"==typeof a?document.querySelector(a):a)||document.documentElement})}})(t),{root:i}=l.options;let n;const o=Da.get(i);let s,r;o?n=o:(n=new Map,Da.set(i,n)),n.has(l.hash)?(r=n.get(l.hash),r[1].has(e)||(s=r[0],r[1].add(e),s.observe(e))):(s=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=Oa.get(e.target),a=Ua.get(e.target);t&&t(),a&&(a.value=!0)}}))}),l.options),s.observe(e),r=[s,new Set([e])],n.set(l.hash,r));let d=!1;const c=()=>{d||(Oa.delete(e),Ua.delete(e),d=!0,r[1].has(e)&&(r[0].unobserve(e),r[1].delete(e)),r[1].size<=0&&n.delete(l.hash),n.size||Da.delete(i))};return Oa.set(e,c),Ua.set(e,a),c},Ma=Object.assign(Object.assign({},a.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),ja=l("n-image");const Aa=i({name:"Image",common:n,peers:{Tooltip:o},self:function(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}}),Ba=mt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mt("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),Ia=mt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mt("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),za=mt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mt("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),Na=s([s("body >",[r("image-container","position: fixed;")]),r("image-preview-container","\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n "),r("image-preview-overlay","\n z-index: -1;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n background: rgba(0, 0, 0, .3);\n ",[d()]),r("image-preview-toolbar","\n z-index: 1;\n position: absolute;\n left: 50%;\n transform: translateX(-50%);\n border-radius: var(--n-toolbar-border-radius);\n height: 48px;\n bottom: 40px;\n padding: 0 12px;\n background: var(--n-toolbar-color);\n box-shadow: var(--n-toolbar-box-shadow);\n color: var(--n-toolbar-icon-color);\n transition: color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n ",[r("base-icon","\n padding: 0 8px;\n font-size: 28px;\n cursor: pointer;\n "),d()]),r("image-preview-wrapper","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n pointer-events: none;\n ",[c()]),r("image-preview","\n user-select: none;\n -webkit-user-select: none;\n pointer-events: all;\n margin: auto;\n max-height: calc(100vh - 32px);\n max-width: calc(100vw - 32px);\n transition: transform .3s var(--n-bezier);\n "),r("image","\n display: inline-flex;\n max-height: 100%;\n max-width: 100%;\n ",[u("preview-disabled","\n cursor: pointer;\n "),s("img","\n border-radius: inherit;\n ")])]),Ha=ht({name:"ImagePreview",props:Object.assign(Object.assign({},Ma),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=a("Image","-image",Na,Aa,e,vt(e,"clsPrefix"));let l=null;const i=ft(null),n=ft(null),o=ft(void 0),s=ft(!1),r=ft(!1),{localeRef:d}=p("Image");function c(t){var a,l;switch(t.key){case" ":t.preventDefault();break;case"ArrowLeft":null===(a=e.onPrev)||void 0===a||a.call(e);break;case"ArrowRight":null===(l=e.onNext)||void 0===l||l.call(e);break;case"Escape":A()}}gt(s,(e=>{e?y("keydown",document,c):m("keydown",document,c)})),wt((()=>{m("keydown",document,c)}));let u=0,g=0,w=0,b=0,x=0,S=0,k=0,P=0,L=!1;function T(e){const{clientX:t,clientY:a}=e;w=t-u,b=a-g,C(j)}function R(e){const{value:t}=i;if(!t)return{offsetX:0,offsetY:0};const a=t.getBoundingClientRect(),{moveVerticalDirection:l,moveHorizontalDirection:n,deltaHorizontal:o,deltaVertical:s}=e||{};let r=0,d=0;return r=a.width<=window.innerWidth?0:a.left>0?(a.width-window.innerWidth)/2:a.right<window.innerWidth?-(a.width-window.innerWidth)/2:"horizontalRight"===n?Math.min((a.width-window.innerWidth)/2,x-(null!=o?o:0)):Math.max(-(a.width-window.innerWidth)/2,x-(null!=o?o:0)),d=a.height<=window.innerHeight?0:a.top>0?(a.height-window.innerHeight)/2:a.bottom<window.innerHeight?-(a.height-window.innerHeight)/2:"verticalBottom"===l?Math.min((a.height-window.innerHeight)/2,S-(null!=s?s:0)):Math.max(-(a.height-window.innerHeight)/2,S-(null!=s?s:0)),{offsetX:r,offsetY:d}}function $(e){m("mousemove",document,T),m("mouseup",document,$);const{clientX:t,clientY:a}=e;L=!1;const l=function(e){const{mouseUpClientX:t,mouseUpClientY:a,mouseDownClientX:l,mouseDownClientY:i}=e,n=l-t,o=i-a;return{moveVerticalDirection:"vertical".concat(o>0?"Top":"Bottom"),moveHorizontalDirection:"horizontal".concat(n>0?"Left":"Right"),deltaHorizontal:n,deltaVertical:o}}({mouseUpClientX:t,mouseUpClientY:a,mouseDownClientX:k,mouseDownClientY:P}),i=R(l);w=i.offsetX,b=i.offsetY,j()}const E=bt(ja,null);let D=0,O=1,U=0;function W(){O=1,D=0}function M(){const{value:e}=i;if(!e)return 1;const{innerWidth:t,innerHeight:a}=window,l=e.naturalHeight/(a-32),n=e.naturalWidth/(t-32);return l<1&&n<1?1:Math.max(l,n)}function j(e=!0){var t;const{value:a}=i;if(!a)return;const{style:l}=a,n=kt(null===(t=null==E?void 0:E.previewedImgPropsRef.value)||void 0===t?void 0:t.style);let o="";if("string"==typeof n)o=n+";";else for(const i in n)o+="".concat(Sa(i),": ").concat(n[i],";");const s="transform-origin: center; transform: translateX(".concat(w,"px) translateY(").concat(b,"px) rotate(").concat(U,"deg) scale(").concat(O,");");l.cssText=L?o+"cursor: grabbing; transition: none;"+s:o+"cursor: grab;"+s+(e?"":"transition: none;"),e||a.offsetHeight}function A(){s.value=!s.value,r.value=!0}const B={setPreviewSrc:e=>{o.value=e},setThumbnailEl:e=>{l=e},toggleShow:A};const I=yt((()=>{const{common:{cubicBezierEaseInOut:e},self:{toolbarIconColor:a,toolbarBorderRadius:l,toolbarBoxShadow:i,toolbarColor:n}}=t.value;return{"--n-bezier":e,"--n-toolbar-icon-color":a,"--n-toolbar-color":n,"--n-toolbar-border-radius":l,"--n-toolbar-box-shadow":i}})),{inlineThemeDisabled:z}=h(),N=z?v("image-preview",void 0,I,e):void 0;return Object.assign({previewRef:i,previewWrapperRef:n,previewSrc:o,show:s,appear:f(),displayed:r,previewedImgProps:null==E?void 0:E.previewedImgPropsRef,handleWheel(e){e.preventDefault()},handlePreviewMousedown:function(e){var t,a;if(null===(a=null===(t=null==E?void 0:E.previewedImgPropsRef.value)||void 0===t?void 0:t.onMousedown)||void 0===a||a.call(t,e),0!==e.button)return;const{clientX:l,clientY:i}=e;L=!0,u=l-w,g=i-b,x=w,S=b,k=l,P=i,j(),y("mousemove",document,T),y("mouseup",document,$)},handlePreviewDblclick:function(e){var t,a;null===(a=null===(t=null==E?void 0:E.previewedImgPropsRef.value)||void 0===t?void 0:t.onDblclick)||void 0===a||a.call(t,e);const l=M();O=O===l?1:l,j()},syncTransformOrigin:function(){const{value:e}=n;if(!l||!e)return;const{style:t}=e,a=l.getBoundingClientRect(),i=a.left+a.width/2,o=a.top+a.height/2;t.transformOrigin="".concat(i,"px ").concat(o,"px")},handleAfterLeave:()=>{W(),U=0,r.value=!1},handleDragStart:e=>{var t,a;null===(a=null===(t=null==E?void 0:E.previewedImgPropsRef.value)||void 0===t?void 0:t.onDragstart)||void 0===a||a.call(t,e),e.preventDefault()},zoomIn:function(){const e=function(){const{value:e}=i;if(!e)return 1;const{innerWidth:t,innerHeight:a}=window,l=Math.max(1,e.naturalHeight/(a-32)),n=Math.max(1,e.naturalWidth/(t-32));return Math.max(3,2*l,2*n)}();O<e&&(D+=1,O=Math.min(e,Math.pow(1.5,D)),j())},zoomOut:function(){if(O>.5){const e=O;D-=1,O=Math.max(.5,Math.pow(1.5,D));const t=e-O;j(!1);const a=R();O+=t,j(!1),O-=t,w=a.offsetX,b=a.offsetY,j()}},handleDownloadClick:function(){const e=o.value;e&&xa(e,void 0)},rotateCounterclockwise:function(){U-=90,j()},rotateClockwise:function(){U+=90,j()},handleSwitchPrev:function(){var t;W(),U=0,null===(t=e.onPrev)||void 0===t||t.call(e)},handleSwitchNext:function(){var t;W(),U=0,null===(t=e.onNext)||void 0===t||t.call(e)},withTooltip:function(a,l){if(e.showToolbarTooltip){const{value:e}=t;return mt(_,{to:!1,theme:e.peers.Tooltip,themeOverrides:e.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>d.value[l],trigger:()=>a})}return a},resizeToOrignalImageSize:function(){O=M(),D=Math.ceil(Math.log(O)/Math.log(1.5)),w=0,b=0,j()},cssVars:z?void 0:I,themeClass:null==N?void 0:N.themeClass,onRender:null==N?void 0:N.onRender},B)},render(){var e,t;const{clsPrefix:a,renderToolbar:l,withTooltip:i}=this,n=i(mt(g,{clsPrefix:a,onClick:this.handleSwitchPrev},{default:()=>Ba}),"tipPrevious"),o=i(mt(g,{clsPrefix:a,onClick:this.handleSwitchNext},{default:()=>Ia}),"tipNext"),s=i(mt(g,{clsPrefix:a,onClick:this.rotateCounterclockwise},{default:()=>mt(La,null)}),"tipCounterclockwise"),r=i(mt(g,{clsPrefix:a,onClick:this.rotateClockwise},{default:()=>mt(Pa,null)}),"tipClockwise"),d=i(mt(g,{clsPrefix:a,onClick:this.resizeToOrignalImageSize},{default:()=>mt($a,null)}),"tipOriginalSize"),c=i(mt(g,{clsPrefix:a,onClick:this.zoomOut},{default:()=>mt(Ra,null)}),"tipZoomOut"),u=i(mt(g,{clsPrefix:a,onClick:this.handleDownloadClick},{default:()=>mt(ka,null)}),"tipDownload"),p=i(mt(g,{clsPrefix:a,onClick:this.toggleShow},{default:()=>za}),"tipClose"),m=i(mt(g,{clsPrefix:a,onClick:this.zoomIn},{default:()=>mt(Ta,null)}),"tipZoomIn");return mt(xt,null,null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e),mt(w,{show:this.show},{default:()=>{var e;return this.show||this.displayed?(null===(e=this.onRender)||void 0===e||e.call(this),_t(mt("div",{class:["".concat(a,"-image-preview-container"),this.themeClass],style:this.cssVars,onWheel:this.handleWheel},mt(Ct,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?mt("div",{class:"".concat(a,"-image-preview-overlay"),onClick:this.toggleShow}):null}),this.showToolbar?mt(Ct,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?mt("div",{class:"".concat(a,"-image-preview-toolbar")},l?l({nodes:{prev:n,next:o,rotateCounterclockwise:s,rotateClockwise:r,resizeToOriginalSize:d,zoomOut:c,zoomIn:m,download:u,close:p}}):mt(xt,null,this.onPrev?mt(xt,null,n,o):null,s,r,d,c,m,u,p)):null}):null,mt(Ct,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:e={}}=this;return _t(mt("div",{class:"".concat(a,"-image-preview-wrapper"),ref:"previewWrapperRef"},mt("img",Object.assign({},e,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:["".concat(a,"-image-preview"),e.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[St,this.show]])}})),[[b,{enabled:this.show}]])):null}}))}}),Va=l("n-image-group"),qa=ht({name:"ImageGroup",props:Ma,setup(e){let t;const{mergedClsPrefixRef:a}=h(e),l="c".concat(x()),i=Lt(),n=e=>{var a;t=e,null===(a=s.value)||void 0===a||a.setPreviewSrc(e)};function o(a){var o,s;if(!(null==i?void 0:i.proxy))return;const r=i.proxy.$el.parentElement.querySelectorAll("[data-group-id=".concat(l,"]:not([data-error=true])"));if(!r.length)return;const d=Array.from(r).findIndex((e=>e.dataset.previewSrc===t));n(~d?r[(d+a+r.length)%r.length].dataset.previewSrc:r[0].dataset.previewSrc),1===a?null===(o=e.onPreviewNext)||void 0===o||o.call(e):null===(s=e.onPreviewPrev)||void 0===s||s.call(e)}Pt(Va,{mergedClsPrefixRef:a,setPreviewSrc:n,setThumbnailEl:e=>{var t;null===(t=s.value)||void 0===t||t.setThumbnailEl(e)},toggleShow:()=>{var e;null===(e=s.value)||void 0===e||e.toggleShow()},groupId:l,renderToolbarRef:vt(e,"renderToolbar")});const s=ft(null);return{mergedClsPrefix:a,previewInstRef:s,next:()=>{o(1)},prev:()=>{o(-1)}}},render(){return mt(Ha,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},this.$slots)}}),Za=ht({name:"Image",props:Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Ma),inheritAttrs:!1,setup(e){const t=ft(null),a=ft(!1),l=ft(null),i=bt(Va,null),{mergedClsPrefixRef:n}=i||h(e),o={click:()=>{if(e.previewDisabled||a.value)return;const n=e.previewSrc||e.src;if(i)return i.setPreviewSrc(n),i.setThumbnailEl(t.value),void i.toggleShow();const{value:o}=l;o&&(o.setPreviewSrc(n),o.setThumbnailEl(t.value),o.toggleShow())}},s=ft(!e.lazy);Tt((()=>{var e;null===(e=t.value)||void 0===e||e.setAttribute("data-group-id",(null==i?void 0:i.groupId)||"")})),Tt((()=>{if(e.lazy&&e.intersectionObserverOptions){let a;const l=Rt((()=>{null==a||a(),a=void 0,a=Wa(t.value,e.intersectionObserverOptions,s)}));wt((()=>{l(),null==a||a()}))}})),Rt((()=>{var t;e.src||null===(t=e.imgProps)||void 0===t||t.src,a.value=!1}));const r=ft(!1);return Pt(ja,{previewedImgPropsRef:vt(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:n,groupId:null==i?void 0:i.groupId,previewInstRef:l,imageRef:t,showError:a,shouldStartLoading:s,loaded:r,mergedOnClick:t=>{var a,l;o.click(),null===(l=null===(a=e.imgProps)||void 0===a?void 0:a.onClick)||void 0===l||l.call(a,t)},mergedOnError:t=>{if(!s.value)return;a.value=!0;const{onError:l,imgProps:{onError:i}={}}=e;null==l||l(t),null==i||i(t)},mergedOnLoad:t=>{const{onLoad:a,imgProps:{onLoad:l}={}}=e;null==a||a(t),null==l||l(t),r.value=!0}},o)},render(){var e,t;const{mergedClsPrefix:a,imgProps:l={},loaded:i,$attrs:n,lazy:o}=this,s=null===(t=(e=this.$slots).placeholder)||void 0===t?void 0:t.call(e),r=this.src||l.src,d=mt("img",Object.assign(Object.assign({},l),{ref:"imageRef",width:this.width||l.width,height:this.height||l.height,src:this.showError?this.fallbackSrc:o&&this.intersectionObserverOptions?this.shouldStartLoading?r:void 0:r,alt:this.alt||l.alt,"aria-label":this.alt||l.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Ea&&o&&!this.intersectionObserverOptions?"lazy":"eager",style:[l.style||"",s&&!i?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return mt("div",Object.assign({},n,{role:"none",class:[n.class,"".concat(a,"-image"),(this.previewDisabled||this.showError)&&"".concat(a,"-image--preview-disabled")]}),this.groupId?d:mt(Ha,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:a,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},{default:()=>d,toolbar:()=>{var e,t;return null===(t=(e=this.$slots).toolbar)||void 0===t?void 0:t.call(e)}}),!i&&s)}}),Xa=e=>S.post("/site?action=AddWPSite",{...e,webname:JSON.stringify(e.webname),project_type:"WP2"},{requestOptions:{loading:"Creating website, please wait..."}}),Fa=e=>S.post("/site?action=get_wp_versions",e),Ka=e=>S.post("/site?action=wp_backup_list",e),Ya=(e,t=!0)=>S.post("/site?action=wp_backup",e,{requestOptions:{loading:t?"Backing up, please wait...":"",successMessage:t}}),Ga=(e,t=!0)=>S.post("/site?action=wp_restore",e,{requestOptions:{loading:t?"Restoring, please wait...":"",successMessage:!0}}),Ja=(e,t=!0)=>S.post("/site?action=wp_remove_backup",e,{requestOptions:{loading:t?"Processing, please wait...":"",successMessage:t}}),Qa=()=>S.post("/site?action=wp_can_migrate_from_website_to_wptoolkit"),el=()=>S.post("/site?action=wp_migrate_from_website_to_wptoolkit",{},{requestOptions:{loading:"Migrating, please wait...",successMessage:!0}}),tl=e=>S.post("/site?action=get_wp_security_info",e),al=e=>S.post("/site?action=open_wp_file_protection",{paths:JSON.stringify(e.paths)},{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}),ll=e=>S.post("/site?action=close_wp_file_protection",e,{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}),il=e=>S.post("/site?action=get_wp_file_info",e),nl=e=>S.post("/site?action=open_wp_firewall_protection",{obj:"open",...e},{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}),ol=e=>S.post("/site?action=close_wp_firewall_protection",e,{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}),sl=e=>S.post("/site?action=wp_clone",e,{requestOptions:{loading:k.global.t("WP.api.index_1"),successMessage:!0}}),rl=e=>S.post("/site?action=wp_create_with_aap_bak",e,{requestOptions:{loading:k.global.t("WP.api.index_2"),successMessage:!0}}),dl=e=>S.post("/site?action=wp_create_with_plesk_or_cpanel_bak",e,{requestOptions:{loading:k.global.t("WP.api.index_2"),successMessage:!0}}),{t:cl}=k.global;function ul(e){P({title:1===e.length?"".concat(cl("Site.Cert.DelSite")," [").concat(e[0].name,"]"):"".concat(cl("Site.Cert.BathDelSite")),width:480,minHeight:248,footer:!0,data:{rows:e},component:$t((()=>R((()=>import("./index114.js?v=1720690738171")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))))})}function pl({onClick:e}){return{key:"ssl",title:cl("Site.TableRow.SSL"),width:"9%",minWidth:100,render:t=>{const{ssl:a}=t;return L(a)?Et(T,{type:a.endtime<0?"error":"primary",onClick:()=>{e(t)}},{default:()=>[a.endtime<0?"Expired":"Exp in ".concat(a.endtime," days")]}):Et(T,{type:"warning",onClick:()=>{e(t)}},{default:()=>[Dt("Not Set")]})}}}const ml=e=>{const{row:t}=e;return Et("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;"},[t.name])},hl=e=>{const{row:t}=e,{t:a}=Ot();return Et(T,{type:t.backup_count>0?"primary":"warning",onClick:()=>{P({title:"".concat(a("Site.Config.Back.Title")," [").concat(t.name,"]"),width:720,minHeight:200,data:{row:t},component:$t((()=>R((()=>import("./index115.js?v=1720690738171")),__vite__mapDeps([18,19,20,1,2,3,4,7,21,22,8,9,10,11,12,13,14,23,24,25,26,27,28,29,30,5,31,32,33,34,16,35,36,37,38,39,40,41,42,43,44,15,45,46,47,48,49,50,51,52]))))})}},{default:()=>[t.backup_count>0?"Exists(".concat(t.backup_count,")"):"Not exist"]})},vl=e=>{let t;const{row:a}=e,{t:l}=Ot();return Et(T,{onClick:()=>{P({title:"".concat(l("WP.Config.Protection.Title")," [").concat(a.name,"]"),width:600,minHeight:228,data:{site:a},component:$t((()=>R((()=>import("./index116.js?v=1720690738171")),__vite__mapDeps([53,1,2,3,4,29,30,5,41,32,14,42,24,25,8,9,10,11,12,13,26,20,7,21,43,49,46,36,27,28,19,22,23,31,33,34,16,35,37,38,39,40,44,15,45,47,48,50,51,52,54]))))})}},"function"==typeof(i=t=l("Public.Btn.Setup"))||"[object Object]"===Object.prototype.toString.call(i)&&!Ut(i)?t:{default:()=>[t]});var i},fl=e=>{const{row:t}=e;return Et(T,null,{default:()=>[t.wp_version]})},gl=e=>{const{row:t}=e;return Et(T,null,{default:()=>[t.php_version]})},wl=Symbol("server-list");function bl(){return bt(wl)}const{t:yl}=k.global;function _l({delDomain:e}){return{key:"action",title:yl("Site.TableRow.OPT"),width:80,align:"right",render:t=>Et(de,{options:[{label:yl("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(yl("Site.Batch.DeleteDomain.Title"),"[").concat(t.name,"]"),content:yl("Site.Batch.DeleteDomain.Content"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const Cl={class:"flex justify-between items-center mb-24px"},xl={class:"w-400px"},Sl={class:"pr-40px"},kl=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),{data:l}=bl(),i=ft(""),n=async()=>{""!==i.value.trim()?(await we({id:l.id,webname:l.name,domain:i.value.trim().split("\n").join(",")}),i.value="",h()):D.error(a("Site.RulesError.Domain"))},o=async e=>{await fe({id:l.id,webname:l.name,domain:e.name,port:e.port}),h()},{keys:s,table:r,columns:d}=ae([{type:"selection",width:40},{key:"name",title:yl("Site.TableRow.Domain"),render:e=>Et(T,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})},{key:"port",title:yl("Site.TableRow.Port"),width:100},_l({delDomain:o})]),c=()=>{r.data.length>1?d.value[d.value.length-1]=_l({delDomain:o}):d.value[d.value.length-1]={key:"action",title:yl("Site.TableRow.OPT"),width:80,align:"right",render:()=>Et("span",{class:"text-default"},[yl("Site.TableOP.Inoperable")])}},u=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),api:e=>fe({id:l.id,webname:l.name,domain:e.name,port:e.port},!1),done:()=>{h()},columns:[{key:"name",title:a("Site.Cert.HolderTable.Domain"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:p,setLoading:m}=re(),h=async()=>{try{m(!0);const e={id:l.id},{message:t}=await ge(e);r.data=E(t)?t:[],c()}finally{s.value=[],m(!1)}};return h(),t({init:h}),(e,t)=>{const a=Qt,l=O,o=le,c=te,m=J;return Wt(),Mt("div",null,[jt("div",Cl,[jt("div",xl,[Et(a,{value:It(i),"onUpdate:value":t[0]||(t[0]=e=>zt(i)?i.value=e:null)},{default:At((()=>[jt("p",null,Bt(e.$t("Site.Config.Domain.TopTips.0")),1),jt("p",null,Bt(e.$t("Site.Config.Domain.TopTips.1")),1),jt("p",null,Bt(e.$t("Site.Config.Domain.TopTips.2")),1)])),_:1},8,["value"])]),jt("div",Sl,[Et(l,{type:"primary",onClick:n},{default:At((()=>[Dt(Bt(e.$t("Site.Cert.Add")),1)])),_:1})])]),Et(m,null,{table:At((()=>[Et(o,{"checked-row-keys":It(s),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(s)?s.value=e:null),loading:It(p),"max-height":400,data:It(r).data,columns:It(d)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Et(c,{"checked-row-keys":It(s),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>zt(s)?s.value=e:null),data:It(r).data,options:u},null,8,["checked-row-keys","data"])])),_:1})])}}}),Pl={class:"pt-16px"},Ll={class:"flex-1"},Tl={class:"w-240px"},Rl={class:"mt-8px text-desc"},$l={class:"flex-1"},El={class:"w-240px"},Dl={class:"mt-12px text-desc"},Ol={class:"my-16px"},Ul={class:"text-desc"},Wl=jt("div",{class:"text-desc"},null,-1),Ml={class:"my-20px"},jl=jt("div",{class:"text-desc"},null,-1),Al={class:"w-240px"},Bl={class:"w-240px"},Il={class:"w-240px"},zl=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),{data:l}=bl(),i=ft("");let n="";const o=async()=>{""!==i.value.trim()?i.value!==n?(await be({id:l.id,name:l.name,path:i.value}),w()):D.success(a("Site.RulesError.OriginalPath")):D.error(a("Site.RulesError.Directory"))},s=ft(null),r=ft([]),d=async()=>{null!==s.value?(await ye({id:l.id,runPath:s.value}),w()):D.error(a("Site.RulesError.RuntimeDirectory"))},c=ft(!1),u=async()=>{await _e({id:l.id,path:l.path}),w()},p=ft(!1),m=async()=>{await Ce({id:l.id}),w()},h=ft(!1),v=Nt({username_get:"",password_get_1:"",password_get_2:""}),f=async e=>{e||(await xe({id:l.id}),w())},g=async()=>{""!==v.username_get.trim()?""!==v.password_get_1.trim()?""!==v.password_get_2.trim()?v.username_get.trim().length<3||v.password_get_1.trim().length<3?D.error(a("Site.RulesError.UserName2")):v.password_get_1.trim()===v.password_get_2.trim()?(await Se({id:l.id,username:v.username_get,password:v.password_get_1}),v.username_get="",v.password_get_1="",v.password_get_2="",w()):D.error(a("Site.RulesError.Password3")):D.error(a("Site.RulesError.Password2")):D.error(a("Site.RulesError.Password1")):D.error(a("Site.RulesError.UserName1"))},w=()=>{(async()=>{const{message:e}=await ke({id:l.id});L(e)&&(i.value=e.result||"/www",n=i.value)})(),(async()=>{const{message:e}=await Pe({id:l.id,path:l.path});if(L(e)){s.value=j(e,"runPath.runPath",null),c.value=j(e,"userini",!1),p.value=j(e,"logs.result",!1),h.value=j(e,"pass.result",!1);const t=j(e,"runPath.dirs",[]);r.value=t.map((e=>({label:e,value:e})))}})()};return w(),t({init:w}),(e,t)=>{const a=aa,l=O,n=U,w=ea,b=la,y=W,_=ce,C=M,x=ta;return Wt(),Mt("div",Pl,[Et(x,{"label-width":"140"},{default:At((()=>[Et(w,{label:e.$t("Site.Lable.SiteDirectory"),"show-feedback":!1},{default:At((()=>[jt("div",Ll,[Et(n,null,{default:At((()=>[jt("div",Tl,[Et(a,{value:It(i),"onUpdate:value":t[0]||(t[0]=e=>zt(i)?i.value=e:null)},null,8,["value"])]),Et(l,{type:"primary",onClick:o},{default:At((()=>[Dt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1}),jt("div",Rl,Bt(e.$t("Site.Config.SiteDirectory.Content")),1)])])),_:1},8,["label"]),Et(w,{class:"mt-16px",label:e.$t("Site.Lable.RunningDirectory"),"show-feedback":!1},{default:At((()=>[jt("div",$l,[Et(n,null,{default:At((()=>[jt("div",El,[Et(b,{value:It(s),"onUpdate:value":t[1]||(t[1]=e=>zt(s)?s.value=e:null),options:It(r)},null,8,["value","options"])]),Et(l,{type:"primary",onClick:d},{default:At((()=>[Dt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1}),jt("div",Dl,Bt(e.$t("Site.Config.SiteDirectory.Content1")),1)])])),_:1},8,["label"]),jt("div",Ol,[Et(y,{dashed:""})]),Et(w,{label:e.$t("Site.Lable.AntiXSS"),"show-feedback":!1},{default:At((()=>[Et(n,{class:"items-center"},{default:At((()=>[Et(_,{value:It(c),"onUpdate:value":[t[2]||(t[2]=e=>zt(c)?c.value=e:null),u]},null,8,["value"]),jt("div",Ul,Bt(e.$t("Site.Config.SiteDirectory.Content2")),1)])),_:1})])),_:1},8,["label"]),Et(w,{class:"mt-16px",label:e.$t("Site.Lable.WriteAL"),"show-feedback":!1},{default:At((()=>[Et(n,{class:"items-center"},{default:At((()=>[Et(_,{value:It(p),"onUpdate:value":[t[3]||(t[3]=e=>zt(p)?p.value=e:null),m]},null,8,["value"]),Wl])),_:1})])),_:1},8,["label"]),jt("div",Ml,[Et(y,{dashed:""})]),Et(w,{label:e.$t("Site.Lable.PasswordAccess"),"show-feedback":!1},{default:At((()=>[Et(n,{class:"items-center"},{default:At((()=>[Et(_,{value:It(h),"onUpdate:value":[t[4]||(t[4]=e=>zt(h)?h.value=e:null),f]},null,8,["value"]),jl])),_:1})])),_:1},8,["label"]),It(h)?(Wt(),Mt(xt,{key:0},[Et(w,{class:"mt-16px",label:e.$t("Site.Lable.Authorized"),"show-feedback":!1},{default:At((()=>[jt("div",Al,[Et(C,{value:It(v).username_get,"onUpdate:value":t[5]||(t[5]=e=>It(v).username_get=e),placeholder:"Please leave blank if not modified"},null,8,["value"])])])),_:1},8,["label"]),Et(w,{class:"mt-16px",label:e.$t("Site.Lable.PasswordAccess"),"show-feedback":!1},{default:At((()=>[jt("div",Bl,[Et(C,{value:It(v).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>It(v).password_get_1=e),type:"password",placeholder:"Please leave blank if not modified"},null,8,["value"])])])),_:1},8,["label"]),Et(w,{class:"mt-16px",label:e.$t("Site.Lable.RepeatPassword"),"show-feedback":!1},{default:At((()=>[jt("div",Il,[Et(C,{value:It(v).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>It(v).password_get_2=e),type:"password",placeholder:"Please leave blank if not modified"},null,8,["value"])])])),_:1},8,["label"]),Et(w,{class:"mt-16px",label:" ","show-feedback":!1},{default:At((()=>[Et(l,{type:"primary",onClick:g},{default:At((()=>[Dt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})],64)):Ht("",!0)])),_:1})])}}}),Nl={class:"p-20px"},Hl={class:"w-280px"},Vl={class:"w-280px"},ql={class:"w-280px"},Zl={class:"w-280px"},Xl=ht({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Ot(),l=e,{isEdit:i,siteId:n,row:o,getList:s}=l.data,r=ft(null),d=Nt({name:"",site_dir:"",username:"",password:""}),c={name:{required:!0,message:a("Site.RulesError.Name"),trigger:["blur","input"]},site_dir:{required:!0,message:a("Site.RulesError.Path"),trigger:["blur","input"]},username:{required:!0,message:a("Site.RulesError.UserName1"),trigger:["blur","input"]},password:{required:!0,message:a("Site.RulesError.Password1"),trigger:["blur","input"]}};return i&&o&&(d.name=o.name,d.site_dir=o.site_dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate()),i?await Le({id:n,name:d.name,username:d.username,password:d.password}):await Te({...Vt(d),id:n}),null==s||s(),e()}}),(e,t)=>{const a=M,l=ea,n=ta,o=na;return Wt(),Mt("div",Nl,[Et(n,{ref_key:"formRef",ref:r,model:It(d),rules:c},{default:At((()=>[Et(l,{label:e.$t("Site.TableRow.Name"),path:"name"},{default:At((()=>[jt("div",Hl,[Et(a,{value:It(d).name,"onUpdate:value":t[0]||(t[0]=e=>It(d).name=e),disabled:It(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.TableRow.Path"),path:"site_dir"},{default:At((()=>[jt("div",Vl,[Et(a,{value:It(d).site_dir,"onUpdate:value":t[1]||(t[1]=e=>It(d).site_dir=e),disabled:It(i),placeholder:"Enter the path: /text/，/test/api"},null,8,["value","disabled"])])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.UserName"),path:"username"},{default:At((()=>[jt("div",ql,[Et(a,{value:It(d).username,"onUpdate:value":t[2]||(t[2]=e=>It(d).username=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.Password"),path:"password"},{default:At((()=>[jt("div",Zl,[Et(a,{value:It(d).password,"onUpdate:value":t[3]||(t[3]=e=>It(d).password=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Et(o,{class:"mt-4px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.0")),1),jt("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.1")),1)])),_:1})])}}}),Fl=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),{data:l}=bl(),{keys:i,table:n,columns:o}=ae([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:a("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},ue({width:130,options:e=>[{label:a("Site.TableOP.Edit"),onClick:()=>{m(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(a("Site.TableOP.Delete")," [").concat(e.name,"]"),content:a("Site.Batch.DeleteDomain.Content1"),onConfirm:async({hide:t})=>{await Re({id:l.id,name:e.name}),c(),t()}})}}]})]),s=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[o.value[1]],api:e=>Re({id:l.id,name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:d}=re(),c=async()=>{try{d(!0);const{message:e}=await $e({id:l.id});if(L(e)){n.data=[];for(const[t,a]of Object.entries(e))if(l.name===t){n.data=a;break}}}finally{i.value=[],d(!1)}},u=A(a("Site.Config.LimitAccess.Add"),{row:void 0,siteId:l.id,isEdit:!1,getList:c}),p=()=>{u.data.isEdit=!1,u.title=a("Site.Config.LimitAccess.Add"),u.show=!0},m=e=>{u.data.row=e,u.data.isEdit=!0,u.title=a("Site.Config.LimitAccess.Edit"),u.show=!0};return c(),t({init:c}),(e,t)=>{const a=O,l=le,d=te,c=J,m=na,h=B;return Wt(),Mt("div",null,[Et(c,null,{toolsLeft:At((()=>[Et(a,{type:"primary",onClick:p},{default:At((()=>[Dt(Bt(e.$t("Site.Config.LimitAccess.Add")),1)])),_:1})])),table:At((()=>[Et(l,{"checked-row-keys":It(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(i)?i.value=e:null),"row-key":"name",loading:It(r),"max-height":440,data:It(n).data,columns:It(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Et(d,{"checked-row-keys":It(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(i)?i.value=e:null),"row-key":"name",data:It(n).data,options:s},null,8,["checked-row-keys","data"])])),_:1}),Et(m,{class:"mt-16px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.0")),1),jt("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.1")),1)])),_:1}),Et(h,{show:It(u).show,"onUpdate:show":t[2]||(t[2]=e=>It(u).show=e),title:It(u).title,data:It(u).data,width:480,footer:!0,component:Xl},null,8,["show","title","data"])])}}}),Kl={class:"p-20px"},Yl={class:"w-280px"},Gl={class:"w-280px"},Jl={class:"w-280px"},Ql=jt("li",null,"Name: The rule name.",-1),ei=jt("li",null," Suffix: Indicates the suffix that is not allowed to access, if there are more than one, separate with'|' ",-1),ti=jt("li",null,"Path: Quote rules in this directory. e.g: /a/",-1),ai=jt("li",null,"For Example, if you want to deny http://test.com/a/index.php",-1),li=jt("li",null,"Please fill in [ /a/ ]",-1),ii=ht({__name:"form",props:{data:{}},setup(e,{expose:t}){const a=e,{isEdit:l,siteName:i,row:n,getList:o}=a.data,s=ft(null),r=Nt({deny_name:"",suffix:"php|jsp",dir:""}),d={deny_name:{required:!0,message:"Please enter the name",trigger:["blur","input"]},suffix:{required:!0,message:"Please enter the path",trigger:["blur","input"]},dir:{required:!0,message:"Please enter the username",trigger:["blur","input"]}},c=()=>({...Vt(r),dir:r.dir.replace(/\/$/,"")+"/",website:i});return l&&n&&(r.deny_name=n.name,r.suffix=n.suffix,r.dir=n.dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=s.value)?void 0:t.validate()),l?await Ee(c()):await De(c()),null==o||o(),e()}}),(e,t)=>{const a=M,i=ea,n=ta,o=na;return Wt(),Mt("div",Kl,[Et(n,{ref_key:"formRef",ref:s,model:It(r),rules:d},{default:At((()=>[Et(i,{label:"Name",path:"deny_name"},{default:At((()=>[jt("div",Yl,[Et(a,{value:It(r).deny_name,"onUpdate:value":t[0]||(t[0]=e=>It(r).deny_name=e),disabled:It(l),placeholder:"The rule name"},null,8,["value","disabled"])])])),_:1}),Et(i,{label:"Suffix",path:"suffix"},{default:At((()=>[jt("div",Gl,[Et(a,{value:It(r).suffix,"onUpdate:value":t[1]||(t[1]=e=>It(r).suffix=e),placeholder:"Suffixes that are not allowed"},null,8,["value"])])])),_:1}),Et(i,{label:"Path",path:"dir"},{default:At((()=>[jt("div",Jl,[Et(a,{value:It(r).dir,"onUpdate:value":t[2]||(t[2]=e=>It(r).dir=e),placeholder:"Quote rules in this directory. e.g: /a/"},null,8,["value"])])])),_:1})])),_:1},8,["model"]),Et(o,{class:"mt-4px"},{default:At((()=>[Ql,ei,ti,ai,li])),_:1})])}}}),ni=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),{data:l}=bl(),{keys:i,table:n,columns:o}=ae([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.Suffix"),ellipsis:{tooltip:{width:"trigger"}}},ue({width:130,options:e=>[{label:a("Site.TableOP.Edit"),onClick:()=>{m(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(a("Site.TableOP.Delete")," [").concat(e.name,"]"),content:a("Site.Batch.DeleteDomain.Content1"),onConfirm:async({hide:t})=>{await Oe({website:l.name,deny_name:e.name}),c(),t()}})}}]})]),s=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[o.value[1]],api:e=>Oe({website:l.name,deny_name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:d}=re(),c=async()=>{try{d(!0);const{message:e}=await Ue({website:l.name});n.data=E(e)?e:[]}finally{i.value=[],d(!1)}},u=A(a("Site.Config.LimitAccess.Add"),{row:void 0,siteName:l.name,isEdit:!1,getList:c}),p=()=>{u.data.row=void 0,u.data.isEdit=!1,u.title=a("Site.Config.LimitAccess.Add"),u.show=!0},m=e=>{u.data.row=e,u.data.isEdit=!0,u.title=a("Site.Config.LimitAccess.Edit"),u.show=!0};return c(),t({init:c}),(e,t)=>{const a=O,l=le,d=te,c=J,m=na,h=B;return Wt(),Mt("div",null,[Et(c,null,{toolsLeft:At((()=>[Et(a,{type:"primary",onClick:p},{default:At((()=>[Dt(Bt(e.$t("Site.Config.LimitAccess.Add")),1)])),_:1})])),table:At((()=>[Et(l,{"checked-row-keys":It(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(i)?i.value=e:null),"row-key":"name",loading:It(r),"max-height":440,data:It(n).data,columns:It(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Et(d,{"checked-row-keys":It(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(i)?i.value=e:null),"row-key":"name",data:It(n).data,options:s},null,8,["checked-row-keys","data"])])),_:1}),Et(m,{class:"mt-16px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.2"))+" |",1),jt("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.3")),1),jt("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.4")),1),jt("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.5")),1)])),_:1}),Et(h,{show:It(u).show,"onUpdate:show":t[2]||(t[2]=e=>It(u).show=e),title:It(u).title,data:It(u).data,width:480,footer:!0,component:ii},null,8,["show","title","data"])])}}}),oi=ht({__name:"index",setup(e){const t=ft("limit"),a=[{key:"limit",label:"Limit access",component:Fl},{key:"deny",label:"Deny access",component:ni}];return(e,l)=>{const i=ia;return Wt(),qt(i,{value:It(t),"onUpdate:value":l[0]||(l[0]=e=>zt(t)?t.value=e:null),data:a},null,8,["value"])}}}),si={class:"pt-8px"},ri={class:"w-200px"},di={class:"flex flex-col"},ci={class:"w-200px"},ui={class:"mt-8px text-desc"},pi={class:"flex flex-col"},mi={class:"w-200px"},hi={class:"mt-8px text-desc"},vi={class:"flex flex-col"},fi={class:"w-200px"},gi={class:"mt-8px text-desc"},wi=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),{data:l}=bl(),i=ft(null),n=Nt({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),o={perserver:{trigger:["blur","change"],validator:()=>!!n.perserver||new Error(a("Site.RulesError.Concurrency"))},perip:{trigger:["blur","change"],validator:()=>!!n.perip||new Error(a("Site.RulesError.SingleIP"))},limit_rate:{trigger:["blur","change"],validator:()=>!!n.limit_rate||new Error(a("Site.RulesError.Traffic"))}},s=ft([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),r=async e=>{e?u():(await We({id:l.id}),p())},d=(e,t)=>{const{items:a}=t;L(a)&&c(a)},c=e=>{n.perserver=e.perserver,n.perip=e.perip,n.limit_rate=e.limit_rate},u=async()=>{var e;await(null==(e=i.value)?void 0:e.validate()),await Me({id:l.id,perserver:n.perserver,perip:n.perip,limit_rate:n.limit_rate}),p()},p=async()=>{const{message:e}=await je({id:l.id});L(e)&&(n.status=0!=e.perserver,c(s.value[0].items),I(e.perserver)&&0!=e.perserver&&(n.perserver=e.perserver),I(e.perip)&&0!=e.perip&&(n.perip=e.perip),I(e.limit_rate)&&0!=e.limit_rate&&(n.limit_rate=e.limit_rate))};return p(),t({init:p}),(e,t)=>{const a=oa,l=ea,c=la,p=z,m=O,h=ta;return Wt(),Mt("div",si,[Et(h,{ref_key:"formRef",ref:i,"label-width":"150",class:"px-8px",model:It(n),rules:o},{default:At((()=>[Et(l,{label:" "},{default:At((()=>[Et(a,{checked:It(n).status,"onUpdate:checked":[t[0]||(t[0]=e=>It(n).status=e),r]},{default:At((()=>[Dt(Bt(e.$t("Site.Config.TrafficCofig.Tips.0")),1)])),_:1},8,["checked"])])),_:1}),Et(l,{label:e.$t("Site.Lable.Limit"),path:"type"},{default:At((()=>[jt("div",ri,[Et(c,{value:It(n).type,"onUpdate:value":[t[1]||(t[1]=e=>It(n).type=e),d],options:It(s)},null,8,["value","options"])])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.Concurrency"),path:"perserver"},{default:At((()=>[jt("div",di,[jt("div",ci,[Et(p,{value:It(n).perserver,"onUpdate:value":t[2]||(t[2]=e=>It(n).perserver=e),"show-button":!1,min:0},null,8,["value"])]),jt("div",ui,Bt(e.$t("Site.Config.TrafficCofig.Tips.1")),1)])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.BlockIP"),path:"perip"},{default:At((()=>[jt("div",pi,[jt("div",mi,[Et(p,{value:It(n).perip,"onUpdate:value":t[3]||(t[3]=e=>It(n).perip=e),"show-button":!1,min:0},null,8,["value"])]),jt("div",hi,Bt(e.$t("Site.Config.TrafficCofig.Tips.2")),1)])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Config.Traffic"),path:"limit_rate"},{default:At((()=>[jt("div",vi,[jt("div",fi,[Et(p,{value:It(n).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>It(n).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),jt("div",gi,Bt(e.$t("Site.Config.TrafficCofig.Tips.3")),1)])])),_:1},8,["label"]),Et(l,{label:" "},{default:At((()=>[Et(m,{type:"primary",onClick:u},{default:At((()=>[Dt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),bi={class:"mt-8px"},yi=ht({__name:"index",setup(e,{expose:t}){const{data:a}=bl(),l=N(),i=ft(null),n=ft((()=>{const{webserver:e}=l,t="openlitespeed"===e?"".concat(e,"/detail"):e;return"/www/server/panel/vhost/".concat(t,"/").concat(a.name,".conf")})()),o=async()=>{var e;null==(e=i.value)||e.getContent()},s=()=>{var e;null==(e=i.value)||e.saveFile()};return Tt((()=>{o()})),t({init:o}),(e,t)=>{const a=O,l=na;return Wt(),Mt("div",null,[Et(ra,{ref_key:"configRef",ref:i,path:It(n),"onUpdate:path":t[0]||(t[0]=e=>zt(n)?n.value=e:null),height:"500"},null,8,["path"]),jt("div",bi,[Et(a,{type:"primary",onClick:s},{default:At((()=>[Dt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})]),Et(l,{class:"mt-16px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.ConfConfig.Tips.0")),1),jt("li",null,Bt(e.$t("Site.Config.ConfConfig.Tips.1")),1)])),_:1})])}}}),_i={class:"p-8"},Ci=jt("li",null,"Directory temporarily only supports reading alarm operation",-1),xi=ht({__name:"form",setup(e,{expose:t}){const a=ft(null),l=ft(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=Nt({path:"",operation:[]}),o=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{var e;await(null==(e=a.value)?void 0:e.validate())}}),(e,t)=>{const s=aa,r=ea,d=oa,c=va,u=sa,p=ta,m=U,h=na;return Wt(),Mt("div",_i,[Et(m,null,{default:At((()=>[Et(p,{ref_key:"formRef",ref:a,model:It(n),rules:i},{default:At((()=>[Et(r,{label:"Detection path",path:"path"},{default:At((()=>[Et(s,{disabled:"",value:It(n).path,"onUpdate:value":t[0]||(t[0]=e=>It(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:o},null,8,["value"])])),_:1}),Et(r,{label:"Alert operation",path:"operation"},{default:At((()=>[Et(u,{value:It(n).operation,"onUpdate:value":t[1]||(t[1]=e=>It(n).operation=e)},{default:At((()=>[Et(c,null,{default:At((()=>[Et(d,{value:0},{default:At((()=>[Dt(" Read ")])),_:1}),Et(d,{value:1,disabled:It(l)},{default:At((()=>[Dt(" delete ")])),_:1},8,["disabled"]),Et(d,{value:2,disabled:It(l)},{default:At((()=>[Dt(" Modify/increase ")])),_:1},8,["disabled"])])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),Et(h,{class:"mt-16px"},{default:At((()=>[Ci])),_:1})])}}}),Si={class:"p-5"},ki=jt("img",{src:da,class:"w-5"},null,-1),Pi={class:"mt-16px"},Li=jt("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1),Ti=jt("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1),Ri=ht({__name:"monitor",setup(e){const t=ft(!1),a=ft(!1),l=ft([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=ft([]);return(e,n)=>{const o=O,s=U,r=le,d=na,c=B;return Wt(),Mt("div",Si,[jt("div",null,[Et(s,{justify:"space-between"},{default:At((()=>[Et(o,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:At((()=>[Dt(" Add monitor ")])),_:1}),Et(o,null,{icon:At((()=>[ki])),_:1})])),_:1})]),jt("div",Pi,[Et(r,{loading:It(a),"loading-num":6,data:It(i),columns:It(l)},null,8,["loading","data","columns"])]),jt("div",null,[Et(d,{class:"mt-16px"},{default:At((()=>[Li,Ti,jt("li",null,[Et(o,{text:"",class:"color-#20a53a"},{default:At((()=>[Dt("Tutorial")])),_:1})])])),_:1})]),Et(c,{show:It(t),"onUpdate:show":n[1]||(n[1]=e=>zt(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:xi},null,8,["show"])])}}});const $i=H({},[["render",function(e,t){return Wt(),Mt("div",null,"555")}]]),Ei=e=>(Xt("data-v-43bec92c"),e=e(),Ft(),e),Di={class:"box mt-16px"},Oi=Ei((()=>jt("div",null,"Site protection",-1))),Ui=Ei((()=>jt("div",null,"today: 0",-1))),Wi=Ei((()=>jt("div",null,"Total alarm: 0",-1))),Mi={key:0,class:"items-center warning"},ji=Ei((()=>jt("img",{src:ua,class:"h-8"},null,-1))),Ai={class:"warning"},Bi={class:"color-#f23836"},Ii=Ei((()=>jt("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1))),zi=Ei((()=>jt("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1))),Ni=Ei((()=>jt("img",{src:ca,class:"h-10"},null,-1))),Hi=H(ht({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=N(),a=ft(!1),l=ft(!1),i=ft(!1),n=e,o=V(),s=()=>{oe({source:114})},r=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";$({title:e,content:t,onConfirm:async()=>{const e=ma(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,d)=>{const c=ce,u=U,p=O,m=na,h=T,v=G,f=B;return Wt(),Mt(xt,null,[jt("div",Di,[Et(v,{install:It(o).isPro,class:"install"},Zt({default:At((()=>[Et(u,{class:"items-center color-#666"},{default:At((()=>[Oi,jt("div",null,[Et(c,{value:It(a),"onUpdate:value":[d[0]||(d[0]=e=>zt(a)?a.value=e:null),r]},null,8,["value"])]),Ui,Wi,It(a)?Ht("",!0):(Wt(),Mt("div",Mi,[ji,jt("span",Ai,[Dt(" Please open "),jt("span",Bi,"PHP-"+Bt(n.phpVersion),1),Dt(" protection first ")])]))])),_:1}),Et(u,{class:"mt-16px"},{default:At((()=>[Et(p,{onClick:d[1]||(d[1]=e=>l.value=!0)},{default:At((()=>[Dt("Monitor")])),_:1}),Et(p,{onClick:d[2]||(d[2]=e=>i.value=!0)},{default:At((()=>[Dt("Trigger log")])),_:1})])),_:1}),Et(m,{class:"mt-16px"},{default:At((()=>[Ii,zi])),_:1})])),_:2},[n.isInstall?{name:"desc",fn:At((()=>[Et(u,{class:"items-center"},{default:At((()=>[Ni,jt("span",null,[Dt("If you need to use the [PHP website security alarm] function, please buy first "),Et(h,{onClick:s},{default:At((()=>[Dt("click to buy")])),_:1})])])),_:1})])),key:"0"}:{name:"desc",fn:At((()=>[Et(u,{class:"items-center"},{default:At((()=>[jt("img",{src:ca,class:"h-10"}),jt("span",null,[Dt("Currently not installed [PHP website security alarm], "),Et(h,null,{default:At((()=>[Dt("Click to install")])),_:1})])])),_:1})])),key:"1"}]),1032,["install"])]),Et(f,{show:It(l),"onUpdate:show":d[3]||(d[3]=e=>zt(l)?l.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:Ri},null,8,["show"]),Et(f,{show:It(i),"onUpdate:show":d[4]||(d[4]=e=>zt(i)?i.value=e:null),title:"[".concat(It(t).siteName,"] Site security log"),width:1e3,"min-height":148,footer:!1,component:$i},null,8,["show","title"])],64)}}}),[["__scopeId","data-v-43bec92c"]]),Vi={class:"w-140px"},qi={class:"my-16px"},Zi={key:0,class:"my-16px"},Xi=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),{data:l}=bl(),i=N(),n=ft(null),o=ft(!1),s=ft(!1);let r="";const d=ft([]),c=async()=>{null!==n.value?(await Ae({siteName:l.name,version:n.value,other:r}),i.setRefresh(!0),m()):D.error(a("Site.RulesError.PHP"))},u=async()=>{const{message:e}=await Ne({id:l.id});L(e)&&(o.value=e.result)},p=async e=>{await Be({id:l.id,act:e?1:0}),u()},m=()=>{(async()=>{const{message:e}=await ha();L(e)&&(s.value=e.php_status)})(),u(),(async()=>{const{message:e}=await ze();E(e)&&(d.value=e.reverse().map((e=>({label:e.name,value:e.version}))))})(),(async()=>{const{message:e}=await Ie({siteName:l.name});L(e)&&(n.value=e.phpversion,r=e.php_other||"")})()};return m(),t({init:m}),(e,t)=>{const a=la,l=O,i=U,r=na,u=W,m=ce;return Wt(),Mt("div",null,[Et(i,{class:"items-center"},{default:At((()=>[jt("div",null,Bt(e.$t("Site.Lable.PHPVersion")),1),jt("div",Vi,[Et(a,{value:It(n),"onUpdate:value":t[0]||(t[0]=e=>zt(n)?n.value=e:null),options:It(d)},null,8,["value","options"])]),jt("div",null,[Et(l,{type:"primary",onClick:c},{default:At((()=>[Dt(Bt(e.$t("Site.Cert.Switch")),1)])),_:1})])])),_:1}),Et(r,{class:"mt-16px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.PHP.Tips.0")),1),jt("li",null,Bt(e.$t("Site.Config.PHP.Tips.1")),1),jt("li",null,Bt(e.$t("Site.Config.PHP.Tips.2")),1),jt("li",null,Bt(e.$t("Site.Config.PHP.Tips.3")),1),jt("li",null,Bt(e.$t("Site.Config.PHP.Tips.4")),1),jt("li",null,Bt(e.$t("Site.Config.PHP.Tips.5")),1)])),_:1}),jt("div",qi,[Et(u,{dashed:""})]),Et(i,{class:"items-center"},{default:At((()=>[jt("div",null,Bt(e.$t("Site.Config.PHP.SessionI")),1),jt("div",null,[Et(m,{value:It(o),"onUpdate:value":[t[1]||(t[1]=e=>zt(o)?o.value=e:null),p]},null,8,["value"])])])),_:1}),Et(r,{class:"mt-16px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.PHP.Tips.6")),1),jt("li",null,Bt(e.$t("Site.Config.PHP.Tips.7")),1)])),_:1}),It(q)?(Wt(),Mt("div",Zi,[Et(u,{dashed:""}),Et(Hi,{isInstall:It(s),phpVersion:It(n)},null,8,["isInstall","phpVersion"])])):Ht("",!0)])}}}),Fi=ht({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const t=Kt(e,"value"),{loading:a,setLoading:l}=re(),i=ft([]);return(async()=>{try{l(!0);const{message:e}=await He();L(e)&&(i.value=Object.entries(e).map((([e,t])=>({label:t,value:e}))))}finally{l(!1)}})(),(e,l)=>{const n=la;return Wt(),qt(n,{value:t.value,"onUpdate:value":l[0]||(l[0]=e=>t.value=e),loading:It(a),filterable:"",options:It(i)},null,8,["value","loading","options"])}}}),Ki={class:"w-200px"},Yi={class:"w-200px mr-8px"},Gi={class:"flex flex-col"},Ji={class:"mt-8px text-desc"},Qi={class:"flex flex-col"},en={class:"mt-8px text-desc"},tn=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),l=N(),i=ft(null),{data:n}=bl(),o=Nt({Login_url:"",redirection_url:"",wps:!1,admin_email:"",home_url:""}),s=ft(!1),r=ft("--"),d=ft("--"),c=yt((()=>s.value?"".concat(a("WP.RulesError.NewVersion")," (").concat(d.value,") ").concat(a("WP.RulesError.NewVersionLast")):"".concat(a("WP.TableRow.WP")," ").concat(r.value," ").concat(a("WP.RulesError.LastVersion")))),u=ft(!1),p=ft(null),m=ft("en"),h=ft(""),v=ft("--"),f=async()=>{var e;await(null==(e=i.value)?void 0:e.validate()),await(e=>S.post("/site?action=save_wp_configurations",e,{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}))({s_id:n.id,language:m.value,admin_password:h.value?h.value:null,admin_email:o.admin_email,whl_enabled:o.wps?1:0,whl_page:o.Login_url,whl_redirect_admin:o.redirection_url}),C()},g={admin_email:{required:!0,trigger:["blur","input"],validator:()=>""!==o.admin_email.trim()||new Error(a("WP.RulesError.Email"))},redirection_url:{required:!0,trigger:["blur","input"],validator:()=>""!==o.redirection_url.trim()||new Error(a("WP.RulesError.Redirection"))},Login_url:{required:!0,trigger:["blur","input"],validator:()=>""!==o.Login_url.trim()||new Error(a("WP.RulesError.Login"))}},w=async()=>{s.value?(await Ve({s_id:n.id,version:d.value}),C()):D.error(a("WP.RulesError.LastVersion"))},b=async e=>{await qe({version:n.php_version,sitename:n.name,act:e}),n.cache_status=e,l.setRefresh(!0)},y=async()=>{await Ze({s_id:n.id})},_=async()=>{h.value=Z(16,"wp")},C=async()=>{const{message:e}=await(e=>S.post("/site?action=get_wp_configurations",e,{requestOptions:{loading:"Processing, please wait..."}}))({s_id:n.id});L(e)&&(u.value=e.cache_enabled,r.value=e.local_version,d.value=e.latest_version,s.value=e.can_upgrade,v.value=e.login_url,p.value=e.admin_user,m.value=e.language,o.admin_email=e.admin_email,o.Login_url=e.whl_page,o.home_url=e.home_url,o.redirection_url=e.whl_redirect_admin,o.wps=e.whl_enabled)};return C(),t({init:C}),(e,t)=>{const a=T,l=ea,n=fa,r=O,d=ce,C=M,x=oa,S=U,k=ta;return Wt(),Mt("div",null,[Et(k,{"label-width":"160px",modelValue:It(o),"onUpdate:modelValue":t[8]||(t[8]=e=>zt(o)?o.value=e:null),ref_key:"formRef",ref:i,rules:g},{default:At((()=>[Et(l,{label:e.$t("WP.Config.LoginUrl")},{default:At((()=>[Et(a,{href:It(v),target:"_blank"},{default:At((()=>[Dt(Bt(It(v)),1)])),_:1},8,["href"])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.TableRow.Status")},{default:At((()=>[Et(n,{type:It(s)?"warning":"default","show-icon":!1},{default:At((()=>[Dt(Bt(It(c)),1)])),_:1},8,["type"]),Et(r,{class:"ml-8px",type:"primary",onClick:w},{default:At((()=>[Dt(Bt(e.$t("WP.Config.Upgrade")),1)])),_:1})])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.Cache")},{default:At((()=>[Et(d,{value:It(u),"onUpdate:value":[t[0]||(t[0]=e=>zt(u)?u.value=e:null),b],class:"mr-20px"},null,8,["value"]),Et(r,{onClick:y},{default:At((()=>[Dt(Bt(e.$t("WP.Config.Clear")),1)])),_:1})])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.UserName")},{default:At((()=>[jt("div",Ki,[Et(C,{value:It(p),"onUpdate:value":t[1]||(t[1]=e=>zt(p)?p.value=e:null),readonly:""},null,8,["value"])])])),_:1},8,["label"]),Et(l,{label:e.$t("WP.Label.RePassword")},{default:At((()=>[jt("div",Yi,[Et(C,{value:It(h),"onUpdate:value":t[2]||(t[2]=e=>zt(h)?h.value=e:null),placeholder:e.$t("WP.Placeholder.Password")},null,8,["value","placeholder"])]),Et(r,{type:"primary",onClick:_},{default:At((()=>[Dt(Bt(e.$t("WP.Config.Generate")),1)])),_:1})])),_:1},8,["label"]),Et(l,{label:e.$t("WP.Label.EmailAddress"),path:"admin_email"},{default:At((()=>[Et(C,{class:"w-410px!",value:It(o).admin_email,"onUpdate:value":t[3]||(t[3]=e=>It(o).admin_email=e),placeholder:e.$t("Site.Placeholder.Email")},null,8,["value","placeholder"])])),_:1},8,["label"]),Et(l,{label:e.$t("WP.Label.Language")},{default:At((()=>[Et(Fi,{class:"w-410px",value:It(m),"onUpdate:value":t[4]||(t[4]=e=>zt(m)?m.value=e:null)},null,8,["value"])])),_:1},8,["label"]),Et(l,{label:e.$t("WP.Label.WPS")},{default:At((()=>[Et(x,{checked:It(o).wps,"onUpdate:checked":t[5]||(t[5]=e=>It(o).wps=e)},{default:At((()=>[jt("span",null,Bt(e.$t("WP.Add.EnableWPS")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),It(o).wps?(Wt(),Mt(xt,{key:0},[Et(l,{label:e.$t("WP.Add.Login"),path:"Login_url"},{default:At((()=>[jt("div",Gi,[jt("div",null,[Et(S,{class:"items-center"},{default:At((()=>[jt("div",null,Bt(It(o).home_url)+"/",1),Et(C,{class:"w-200px!",value:It(o).Login_url,"onUpdate:value":t[6]||(t[6]=e=>It(o).Login_url=e),placeholder:e.$t("Site.Placeholder.Login")},null,8,["value","placeholder"])])),_:1})]),jt("div",Ji,Bt(e.$t("WP.Config.RedirectionTips.0")),1)])])),_:1},8,["label"]),Et(l,{label:e.$t("WP.Add.Redirection"),path:"redirection_url"},{default:At((()=>[jt("div",Qi,[jt("div",null,[Et(S,{class:"items-center"},{default:At((()=>[jt("div",null,Bt(It(o).home_url)+"/",1),Et(C,{class:"w-200px!",value:It(o).redirection_url,"onUpdate:value":t[7]||(t[7]=e=>It(o).redirection_url=e),placeholder:e.$t("Site.Placeholder.Redirection")},null,8,["value","placeholder"])])),_:1})]),jt("div",en,Bt(e.$t("WP.Config.RedirectionTips.1")),1)])])),_:1},8,["label"])],64)):Ht("",!0),Et(l,{label:" "},{default:At((()=>[Et(r,{type:"primary",onClick:f},{default:At((()=>[Dt(Bt(e.$t("WP.Config.Save")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])}}}),an={class:"px-20px py-24px"},ln={class:"w-120px"},nn={class:"w-120px"},on={class:"w-200px"},sn={class:"w-200px"},rn={class:"w-200px"},dn=ht({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Ot(),l=e,{isEdit:i,siteId:n,siteName:o,row:s,getList:r}=l.data,d=ft(null),c=Nt({redirectname:"".concat((new Date).valueOf()),type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),u={redirectdomain:{trigger:["change"],validator:()=>0!==c.redirectdomain.length||new Error(a("Site.RulesError.RedirectedDomain"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==c.redirectpath.trim()||new Error(a("Site.RulesError.RedirectedPath"))},tourl:{trigger:["blur","input"],validator:()=>""!==c.tourl.trim()||new Error(a("Site.RulesError.RedirectedUrl"))}},p=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],h=ft([]),v=()=>{c.redirectdomain=[],c.redirectpath=""},{loading:f,setLoading:g}=re();return i&&s&&(c.redirectname=s.redirectname,c.type=s.type,c.holdpath=s.holdpath,c.redirecttype=s.redirecttype,c.redirectpath=s.redirectpath,c.domainorpath=s.domainorpath,c.redirectdomain=s.redirectdomain,c.tourl=s.tourl),(async()=>{try{g(!0);const{message:e}=await ge({id:n});h.value=E(e)?e.map((e=>({label:e.name,value:e.name}))):[]}finally{g(!1)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate());const a={...Vt(c),sitename:o};i?await Fe(a):await Xe(a),null==r||r(),e()}}),(e,t)=>{const a=ce,l=ea,i=U,n=la,o=M,s=ta,r=na;return Wt(),Mt("div",an,[Et(s,{ref_key:"formRef",ref:d,model:It(c),rules:u},{default:At((()=>[Et(i,{size:60},{default:At((()=>[Et(l,{label:e.$t("Site.Lable.Enable")},{default:At((()=>[Et(a,{value:It(c).type,"onUpdate:value":t[0]||(t[0]=e=>It(c).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.TableRow.KeepUP"),"label-width":"120"},{default:At((()=>[Et(a,{value:It(c).holdpath,"onUpdate:value":t[1]||(t[1]=e=>It(c).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),Et(i,{size:30},{default:At((()=>[Et(l,{label:e.$t("Site.TableRow.Type")},{default:At((()=>[jt("div",ln,[Et(n,{value:It(c).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>It(c).domainorpath=e),v],options:p},null,8,["value"])])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.TableRow.Mode"),"label-width":"70"},{default:At((()=>[jt("div",nn,[Et(n,{value:It(c).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>It(c).redirecttype=e),options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===It(c).domainorpath?(Wt(),qt(l,{key:0,label:e.$t("Site.Lable.Source"),path:"redirectdomain"},{default:At((()=>[jt("div",on,[Et(n,{value:It(c).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>It(c).redirectdomain=e),multiple:!0,loading:It(f),options:It(h),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):Ht("",!0),"path"===It(c).domainorpath?(Wt(),qt(l,{key:1,label:e.$t("Site.Lable.Redirect"),path:"redirectpath"},{default:At((()=>[jt("div",sn,[Et(o,{value:It(c).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>It(c).redirectpath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Ht("",!0),Et(l,{label:e.$t("Site.Lable.Target"),path:"tourl"},{default:At((()=>[jt("div",rn,[Et(o,{value:It(c).tourl,"onUpdate:value":t[6]||(t[6]=e=>It(c).tourl=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Et(r,{class:"mt-12px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.0")),1),jt("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.1")),1),jt("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.2")),1),jt("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.3")),1),jt("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.4")),1),jt("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.5")),1)])),_:1})])}}}),cn={class:"p-20px"},un={class:"mt-12px"},pn=ht({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:n}=a.data,o=t,s=N(),r=ft(""),d=ft(""),c=ft(""),u=async()=>{const{message:e}=await Ye({path:c.value,data:r.value,encoding:d.value});L(e)&&D.success(e.msg),null==n||n(),o("close")};return(async()=>{const{message:e}=await Ke({sitename:i,redirectname:l.redirectname,webserver:s.webserver});L(e)&&(c.value=e.file,r.value=e.data,d.value=e.encoding)})(),(e,t)=>{const a=O,l=na;return Wt(),Mt("div",cn,[Et(ra,{value:It(r),"onUpdate:value":t[0]||(t[0]=e=>zt(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),jt("div",un,[Et(a,{type:"primary",onClick:u},{default:At((()=>[Dt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})]),Et(l,{class:"mt-24px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),mn=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),{data:l}=bl(),i=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:n,table:o,columns:s}=ae([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.Type"),ellipsis:{tooltip:{width:"trigger"}}},{key:"redirecttype",title:a("Site.TableRow.Mode"),width:90},{key:"holdpath",title:a("Site.TableRow.KeepUP"),width:140,render:e=>Et(T,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await Ge({...i(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?"Enable":"Turn off"]})},{key:"type",title:"Status",width:100,render:e=>Et(pe,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await Ge({...i(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},ue({width:120,options:e=>[{label:a("Site.TableOP.Conf"),onClick:()=>{f(e)}},{label:a("Site.TableOP.Edit"),onClick:()=>{h(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(a("Site.Batch.DeleteRedirection.Label")," [").concat(e.redirectname,"]"),content:a("Site.Batch.DeleteRedirection.Content"),onConfirm:async({hide:t})=>{await Je({sitename:l.name,redirectname:e.redirectname}),u(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[s.value[1]],api:e=>Je({sitename:l.name,redirectname:e.redirectname},!1),done:()=>{u()}}}],{loading:d,setLoading:c}=re(),u=async()=>{try{c(!0);const{message:e}=await Qe({sitename:l.name});o.data=E(e)?e:[]}finally{n.value=[],c(!1)}},p=A(a("Site.Config.RedirectConfig.Create"),{row:void 0,siteId:l.id,siteName:l.name,isEdit:!1,getList:u}),m=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.RedirectConfig.Create"),p.show=!0},h=e=>{p.data.row=e,p.data.isEdit=!0,p.title="".concat(a("Site.Config.RedirectConfig.Modify")," [").concat(e.redirectname,"]"),p.show=!0},v=A("",{row:void 0,siteName:l.name,getList:u}),f=e=>{v.data.row=e,v.title="".concat(a("Site.Config.RedirectConfig.Edit")," [").concat(e.redirectname,"]"),v.show=!0};return u(),t({init:u}),(e,t)=>{const a=O,l=le,i=te,c=J,u=B;return Wt(),Mt("div",null,[Et(c,null,{toolsLeft:At((()=>[Et(a,{type:"primary",onClick:m},{default:At((()=>[Dt(Bt(e.$t("Site.Config.RedirectConfig.Add")),1)])),_:1})])),table:At((()=>[Et(l,{"checked-row-keys":It(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(n)?n.value=e:null),"row-key":"redirectname",loading:It(d),"max-height":440,data:It(o).data,columns:It(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Et(i,{"checked-row-keys":It(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(n)?n.value=e:null),"row-key":"redirectname",data:It(o).data,options:r},null,8,["checked-row-keys","data"])])),_:1}),Et(u,{show:It(p).show,"onUpdate:show":t[2]||(t[2]=e=>It(p).show=e),title:It(p).title,data:It(p).data,width:660,footer:!0,component:dn},null,8,["show","title","data"]),Et(u,{show:It(v).show,"onUpdate:show":t[3]||(t[3]=e=>It(v).show=e),title:It(v).title,data:It(v).data,width:580,component:pn},null,8,["show","title","data"])])}}}),hn={class:"px-20px py-24px"},vn={class:"w-220px"},fn={class:"w-220px"},gn={class:"w-220px"},wn={class:"w-220px"},bn={class:"w-220px"},yn={class:"w-220px"},_n={class:"w-220px"},Cn=ht({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Ot(),l=e,{isEdit:i,siteName:n,row:o,getList:s}=l.data,r=ft(null),d=Nt({type:1,proxyname:"",cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advanced:0,sitename:n}),c={proxyname:{trigger:["blur","input"],validator:()=>""!==d.proxyname.trim()||new Error(a("Site.RulesError.ProxyName"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===d.cache&&!d.cachetime)||new Error(a("Site.RulesError.CacheTime"))},proxydir:{trigger:["blur","input"],validator:()=>1!==d.advanced||""!==d.proxydir.trim()||new Error(a("Site.RulesError.ProxyDir"))},proxysite:{trigger:["blur","input"],validator:()=>""!==d.proxysite.trim()||new Error(a("Site.RulesError.RedirectedUrl"))},todomain:{trigger:["blur","input"],validator:()=>""!==d.todomain.trim()||new Error(a("Site.RulesError.Sent"))}},u=e=>{e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)?d.todomain="$host":d.todomain=e},p=ft([]),m=()=>{p.value.length>=3||p.value.push({sub1:"",sub2:""})};m();return(()=>{if(i&&o){d.type=o.type,d.cache=o.cache,d.advanced=o.advanced,d.proxyname=o.proxyname,d.cachetime=o.cachetime,d.proxydir=o.proxydir,d.proxysite=o.proxysite,d.todomain=o.todomain,d.sitename=o.sitename;const e=o.subfilter.filter((e=>""!==e.sub1||""!==e.sub2));e.length>0&&(p.value=e)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate());const a=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];return e.forEach(((e,t)=>{p.value.length-1<t||(e.sub1=p.value[t].sub1,e.sub2=p.value[t].sub2)})),{...Vt(d),subfilter:e}})();i?await tt(a):await et(a),null==s||s(),e()}}),(e,t)=>{const a=ce,l=ea,n=U,o=M,s=z,h=ga,v=wa,f=T,g=O,w=ta,b=na;return Wt(),Mt("div",hn,[Et(w,{ref_key:"formRef",ref:r,model:It(d),rules:c},{default:At((()=>[Et(n,{size:32},{default:At((()=>[Et(l,{label:e.$t("Site.Lable.EnableProxy")},{default:At((()=>[Et(a,{value:It(d).type,"onUpdate:value":t[0]||(t[0]=e=>It(d).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.EnableCache"),"label-width":"100"},{default:At((()=>[Et(a,{value:It(d).cache,"onUpdate:value":t[1]||(t[1]=e=>It(d).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.Advanced"),"label-width":"126"},{default:At((()=>[Et(a,{value:It(d).advanced,"onUpdate:value":t[2]||(t[2]=e=>It(d).advanced=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),Et(l,{label:e.$t("Site.Lable.ProxyName"),path:"proxyname"},{default:At((()=>[jt("div",vn,[Et(o,{value:It(d).proxyname,"onUpdate:value":t[3]||(t[3]=e=>It(d).proxyname=e),disabled:It(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),1===It(d).cache?(Wt(),qt(l,{key:0,label:e.$t("Site.Lable.CacheTime"),path:"cachetime"},{default:At((()=>[jt("div",fn,[Et(v,null,{default:At((()=>[Et(s,{value:It(d).cachetime,"onUpdate:value":t[4]||(t[4]=e=>It(d).cachetime=e),min:1,"show-button":!1,placeholder:""},null,8,["value"]),Et(h,{class:"w-70px text-center"},{default:At((()=>[Dt(Bt(It(d).cachetime>1?"Minutes":"Minute"),1)])),_:1})])),_:1})])])),_:1},8,["label"])):Ht("",!0),1===It(d).advanced?(Wt(),qt(l,{key:1,label:e.$t("Site.TableRow.ProxyDir"),path:"proxydir"},{default:At((()=>[jt("div",gn,[Et(o,{value:It(d).proxydir,"onUpdate:value":t[5]||(t[5]=e=>It(d).proxydir=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Ht("",!0),Et(l,{label:e.$t("Site.Lable.Target")},{default:At((()=>[jt("div",wn,[Et(o,{value:It(d).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>It(d).proxysite=e),u],placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.Sent")},{default:At((()=>[jt("div",bn,[Et(o,{value:It(d).todomain,"onUpdate:value":t[7]||(t[7]=e=>It(d).todomain=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Et(l,{label:e.$t("Site.Lable.ContentReplace")},{default:At((()=>[Et(n,{class:"flex-1",vertical:""},{default:At((()=>[(Wt(!0),Mt(xt,null,Yt(It(p),((t,a)=>(Wt(),qt(n,{key:"".concat(a+1),class:"items-center"},{default:At((()=>[jt("div",yn,[Et(o,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.Source")},null,8,["value","onUpdate:value","placeholder"])]),jt("div",_n,[Et(o,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.Replace")},null,8,["value","onUpdate:value","placeholder"])]),jt("div",null,[Et(f,{type:"error",disabled:0===a&&1===It(p).length,onClick:e=>(e=>{p.value.length<=1||p.value.splice(e,1)})(a)},{default:At((()=>[Dt(Bt(e.$t("Site.TableOP.Del")),1)])),_:2},1032,["disabled","onClick"])])])),_:2},1024)))),128)),jt("div",null,[Et(g,{type:"primary",disabled:It(p).length>=3,onClick:m},{default:At((()=>[jt("span",null,Bt(e.$t("Site.Config.ProxyConfig.Replacement")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["label"])])),_:1},8,["model"]),Et(b,{class:"mt-12px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.ProxyConfig.Tips.0")),1),jt("li",null,Bt(e.$t("Site.Config.ProxyConfig.Tips.1")),1),jt("li",null,Bt(e.$t("Site.Config.ProxyConfig.Tips.2")),1),jt("li",null,Bt(e.$t("Site.Config.ProxyConfig.Tips.3")),1)])),_:1})])}}}),xn={class:"p-20px"},Sn={class:"mt-12px"},kn=ht({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:n}=a.data,o=t,s=N(),r=ft(""),d=ft(""),c=ft(""),u=async()=>{const{message:e}=await lt({path:c.value,data:r.value,encoding:d.value});L(e)&&D.success(e.msg),null==n||n(),o("close")};return(async()=>{const{message:e}=await at({sitename:i,proxyname:l.proxyname,webserver:s.webserver});L(e)&&(c.value=e.file,r.value=e.data,d.value=e.encoding)})(),(e,t)=>{const a=O,l=na;return Wt(),Mt("div",xn,[Et(ra,{value:It(r),"onUpdate:value":t[0]||(t[0]=e=>zt(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),jt("div",Sn,[Et(a,{type:"primary",onClick:u},{default:At((()=>[Dt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})]),Et(l,{class:"mt-24px"},{default:At((()=>[jt("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),Pn=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),{data:l}=bl(),i=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime}),{keys:n,table:o,columns:s}=ae([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.Name"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.ProxyDir"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.Target"),ellipsis:{tooltip:{width:"trigger"}},render:e=>Et("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.Cache"),width:90,render:e=>Et(T,{type:1===e.cache?"primary":"error",onClick:async()=>{await tt({...i(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.Status"),width:90,render:e=>Et(pe,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await tt({...i(e),type:t,cache:e.cache}),e.type=t}},null)},ue({width:120,options:e=>[{label:a("Site.TableOP.Conf"),onClick:()=>{f(e)}},{label:a("Site.TableOP.Edit"),onClick:()=>{h(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(a("Site.Batch.DeleteProxy.Label")," [").concat(e.proxyname,"]"),content:a("Site.Batch.DeleteProxy.Content"),onConfirm:async({hide:t})=>{await it({sitename:l.name,proxyname:e.proxyname}),u(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),api:e=>it({sitename:l.name,proxyname:e.proxyname},!1),done:()=>{u()},columns:[{key:"proxyname",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:d,setLoading:c}=re(),u=async()=>{try{c(!0);const{message:e}=await nt({sitename:l.name});o.data=E(e)?e:[]}finally{n.value=[],c(!1)}},p=A(a("Site.Config.ProxyConfig.Create"),{row:void 0,siteName:l.name,isEdit:!1,getList:u}),m=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.ProxyConfig.Create"),p.show=!0},h=e=>{p.data.row=e,p.data.isEdit=!0,p.title="".concat(a("Site.Config.RedirectConfig.Modify")," [").concat(e.proxyname,"]"),p.show=!0},v=A("",{row:void 0,siteName:l.name,getList:u}),f=e=>{v.data.row=e,v.title="".concat(a("Site.Config.RedirectConfig.Edit")," [").concat(e.proxyname,"]"),v.show=!0};return u(),t({init:u}),(e,t)=>{const a=O,l=le,i=te,c=J,u=B;return Wt(),Mt("div",null,[Et(c,null,{toolsLeft:At((()=>[Et(a,{type:"primary",onClick:m},{default:At((()=>[Dt(Bt(e.$t("Site.Config.ProxyConfig.Add")),1)])),_:1})])),table:At((()=>[Et(l,{"checked-row-keys":It(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(n)?n.value=e:null),"row-key":"proxyname",loading:It(d),"max-height":440,data:It(o).data,columns:It(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Et(i,{"checked-row-keys":It(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(n)?n.value=e:null),"row-key":"proxyname",data:It(o).data,options:r},null,8,["checked-row-keys","data"])])),_:1}),Et(u,{show:It(p).show,"onUpdate:show":t[2]||(t[2]=e=>It(p).show=e),title:It(p).title,data:It(p).data,width:660,footer:!0,component:Cn},null,8,["show","title","data"]),Et(u,{show:It(v).show,"onUpdate:show":t[3]||(t[3]=e=>It(v).show=e),title:It(v).title,data:It(v).data,width:580,component:kn},null,8,["show","title","data"])])}}}),Ln={class:"pt-8px"},Tn=ht({__name:"index",setup(e,{expose:t}){const{data:a}=bl(),l=ft();return t({init:async()=>{l.value.init()}}),(e,t)=>(Wt(),Mt("div",Ln,[Et(pa,{ref_key:"formRef",ref:l,site:It(a)},null,8,["site"])]))}}),Rn=ht({__name:"index",setup(e,{expose:t}){const{data:a}=bl(),l=ft("None"),{loading:i,setLoading:n}=re(),o=async()=>{try{n(!0);const{message:e}=await ot({siteName:a.name});L(e)&&(l.value=X(e.result)?e.result:"None")}finally{n(!1)}};return o(),t({init:o}),(e,t)=>{const a=ba,n=ya;return Wt(),qt(n,{class:"h-560px",show:It(i)},{default:At((()=>[Et(a,{log:It(l)},null,8,["log"])])),_:1},8,["show"])}}}),$n=ht({__name:"index",setup(e,{expose:t}){const{data:a}=bl(),l=ft("None"),{loading:i,setLoading:n}=re(),o=async()=>{try{n(!0);const{message:e}=await st({siteName:a.name});L(e)&&(l.value=X(e.result)?e.result:"None")}finally{n(!1)}};return o(),t({init:o}),(e,t)=>{const a=ba,n=ya;return Wt(),qt(n,{class:"h-560px",show:It(i)},{default:At((()=>[Et(a,{log:It(l)},null,8,["log"])])),_:1},8,["show"])}}}),En=ht({__name:"logs",props:{data:{}},setup(e){const t=e,{type:a,path:l}=t.data,i=ft(""),{loading:n,setLoading:o}=re();return(async()=>{try{o(!0);const{message:e}=await rt({type:a,path:l});L(e)&&(i.value=e.result)}finally{o(!1)}})(),(e,t)=>{const a=ba,l=ya;return Wt(),qt(l,{class:"w-650px h-550px bg-#282C34",show:It(n)},{default:At((()=>[Et(a,{log:It(i)},null,8,["log"])])),_:1},8,["show"])}}}),Dn={class:"text-error"},On={class:"w-400px p-20px"},Un={class:"mb-16px"},Wn=ht({__name:"index",setup(e,{expose:t}){const a=N(),{t:l}=Ot(),{data:i}=bl(),n=yt((()=>{let e="";switch(a.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return"/www/wwwlogs/".concat(i.name).concat(e)})),o=yt((()=>{const e=n.value.split("/");return e[e.length-1]})),s=()=>{$({title:l("Site.Config.LogsConfig.ScanTitle"),content:"".concat(l("Site.Config.LogsConfig.ScanContent")," [").concat(o.value,"] ").concat(l("Site.Config.LogsConfig.ScanContent1")),onConfirm:async({hide:e})=>{await dt({path:n.value}),e(),c()}})},r=ft(!1),d=ft(0),c=async()=>{r.value=!0,u()},u=(e=0)=>{let t=setTimeout((async()=>{const{message:e}=await ct({path:n.value});L(e)&&(d.value=e.result,d.value>=100?(D.success(l("Site.Config.LogsConfig.Complete")),r.value=!1,d.value=0,g(),clearTimeout(t)):u(1e3))}),e)},p=e=>{P({title:"[".concat(e,"] ").concat(l("Site.Config.LogsConfig.Details")),data:{type:e,path:n.value},component:En})},{table:m,columns:h}=ae([{key:"start_time",title:"Date"},{key:"time",title:l("Site.DelSite.Time"),render:e=>"".concat(e.time.substring(0,4)," s")},{key:"xss",title:l("Site.TableRow.XSS"),render:e=>e.xss>0?Et("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:l("Site.TableRow.SQL"),render:e=>e.sql>0?Et("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:l("Site.TableRow.Sacn"),render:e=>e.san>0?Et("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:l("Site.TableRow.PHP"),render:e=>e.php>0?Et("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:l("Site.TableRow.IPTop"),render:e=>e.ip>0?Et(T,{onClick:()=>{p("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:l("Site.TableRow.URLTop"),render:e=>e.url>0?Et(T,{onClick:()=>{p("url")}},{default:()=>[e.url]}):e.url}]),{loading:v,setLoading:f}=re(),g=async()=>{try{f(!0);const{message:e}=await ut({path:n.value});L(e)&&(m.data=[e])}finally{f(!1)}},w=()=>{g()};return w(),t({init:w}),(e,t)=>{const a=O,l=le,i=J,n=na,o=_a,c=B;return Wt(),Mt("div",null,[Et(i,null,{toolsLeft:At((()=>[Et(a,{type:"primary",onClick:s},{default:At((()=>[Dt(Bt(e.$t("Site.Config.LogsConfig.Scan")),1)])),_:1})])),table:At((()=>[Et(l,{loading:It(v),"loading-num":1,data:It(m).data,columns:It(h)},null,8,["loading","data","columns"])])),_:1}),Et(n,{class:"mt-16px"},{default:At((()=>[jt("li",null,[Dt(Bt(e.$t("Site.Config.LogsConfig.Tips.0"))+" ",1),jt("span",Dn,Bt(e.$t("Site.Config.LogsConfig.Tips.1")),1),Dt(") ")]),jt("li",null,Bt(e.$t("Site.Config.LogsConfig.Tips.2")),1),jt("li",null,Bt(e.$t("Site.Config.LogsConfig.Tips.3"))+")",1),jt("li",null,Bt(e.$t("Site.Config.LogsConfig.Tips.4")),1),jt("li",null,[Et(T,{href:"https://forum.aapanel.com/d/3351-nginx-waf-instructions",target:"_blank"},{default:At((()=>[Dt(Bt(e.$t("Site.Config.LogsConfig.Tips.5")),1)])),_:1}),Dt(" "+Bt(e.$t("Site.Config.LogsConfig.Tips.6")),1)])])),_:1}),Et(c,{show:It(r),"onUpdate:show":t[0]||(t[0]=e=>zt(r)?r.value=e:null)},{default:At((()=>[jt("div",On,[jt("div",Un,Bt(e.$t("Site.Config.LogsConfig.Tips.7")),1),Et(o,{type:"line",status:"success",height:24,percentage:It(d),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),Mn=ht({__name:"index",setup(e,{expose:t}){const{t:a}=Ot(),{config:l}=bl(),i=ft("access"),n=ft(),o=[{key:"access",label:a("Site.Config.LogsConfig.Access"),component:Rn},{key:"error",label:a("Site.Config.LogsConfig.Error"),component:$n},{key:"security",label:a("Site.Config.LogsConfig.Security"),component:Wn}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Gt((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=ia;return Wt(),qt(a,{value:It(i),"onUpdate:value":t[0]||(t[0]=e=>zt(i)?i.value=e:null),ref_key:"tabsRef",ref:n,data:o},null,8,["value"])}}}),jn=ht({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:t}=Ot(),a=N(),{siteName:l}=ie(a),i=$t((()=>R((()=>import("./index117.js?v=1720690738171")),__vite__mapDeps([55,1,2,3,4,36,43,5,44,26,15,11,12,13,45,56,57,58,27,28,19,20,7,21,22,8,9,10,14,23,24,25,29,30,31,32,33,34,16,35,37,38,39,40,41,42,46,47,48,49,50,51,52])))),n=$t((()=>R((()=>import("./old3.js?v=1720690738171")),__vite__mapDeps([59,29,1,2,3,4,27,28,19,20,7,21,22,8,9,10,11,12,13,14,23,24,25,30,26,5,31,32,33,34,16,35,36,37,38,39,40,41,42,43,44,15,45,46,47,48,49,50,51,52])))),o=e,{siteInfo:s,config:r}=o;l.value=o.siteInfo.name;const d=ft();s&&Pt(wl,{data:s,config:r});const c=ft("domain"),u=[{key:"domain",label:t("Site.Config.Manager"),component:kl},{key:"wordpress",label:t("Site.Config.Setting"),component:tn},{key:"directory",label:t("Site.Config.Directory"),component:zl},{key:"access",label:t("Site.Config.Limit"),component:oi},{key:"traffic",label:t("Site.Config.Traffic"),component:wi},{key:"rewrite",label:t("Site.Config.URL"),component:i},{key:"config",label:t("Site.Config.Conf"),component:yi},{key:"ssl",label:t("Site.TableRow.SSL"),component:n},{key:"php",label:t("Site.Lable.PHPVersion"),component:Xi},{key:"redirect",label:t("Site.Config.Redirect"),component:mn},{key:"proxy",label:t("Site.Config.Proxy"),component:Pn},{key:"hotlink",label:t("Site.Config.Hotlink"),component:Tn},{key:"logs",label:t("Site.Config.Response"),component:Mn}];return c.value=r.menu||"domain",r.menu="",(e,t)=>{const a=Jt;return Wt(),qt(a,{value:It(c),"onUpdate:value":t[0]||(t[0]=e=>zt(c)?c.value=e:null),ref_key:"tabsRef",ref:d,data:u},null,8,["value"])}}}),An=e=>(Xt("data-v-d249cfd9"),e=e(),Ft(),e),Bn={class:"pt-50px pb-40px"},In=An((()=>jt("div",{class:"mb-24px text-center text-22px font-bold"},"WordPress Toolkit introdution",-1))),zn={class:"mb-16px"},Nn={class:"ul-style"},Hn=An((()=>jt("span",{class:"ml-4px"},"OneClick Install WordPress",-1))),Vn=An((()=>jt("span",{class:"ml-4px"},"Special safety protection",-1))),qn=An((()=>jt("span",{class:"ml-4px"},"Full Backup",-1))),Zn=An((()=>jt("span",{class:"ml-4px"},"Fastcgi Cache",-1))),Xn=An((()=>jt("div",{class:"text-center text-14px color-desc"}," More features are under development, looking forward to your feedback ",-1))),Fn={class:"text-center my-24px"},Kn={class:"flex justify-center"},Yn={class:"w-76%"},Gn=H(ht({__name:"transition",setup(e){const t=()=>{oe({source:180})};return(e,a)=>{const l=F,i=O,n=Za;return Wt(),Mt("div",Bn,[In,jt("div",zn,[jt("ul",Nn,[jt("li",null,[Et(l,{name:"wp-install",size:"22"}),Hn]),jt("li",null,[Et(l,{name:"wp-safe",size:"22"}),Vn]),jt("li",null,[Et(l,{name:"wp-backup",size:"22"}),qn]),jt("li",null,[Et(l,{name:"wp-cache",size:"22"}),Zn])])]),Xn,jt("div",Fn,[Et(i,{type:"primary",class:"h-36px text-14px",onClick:t},{default:At((()=>[Dt("Buy now")])),_:1})]),jt("div",Kn,[jt("div",Yn,[Et(n,{width:"100%",src:It("/static/vite/images/preview.png")},null,8,["src"])])])])}}}),[["__scopeId","data-v-d249cfd9"]]),Jn=jt("span",null,"Web server is not installed, ",-1),Qn=jt("span",{class:"mx-4px"},"|",-1),eo={class:"w-860px h-700px"},to=ht({__name:"index",setup(e){const t=$t((()=>R((()=>import("./index118.js?v=1720690738171")),__vite__mapDeps([60,41,32,2,1,3,4,14,42,27,28,36,30,5,26,11,12,13,9,37,38,39,40,15,7,8,10,61,19,20,21,22,23,24,25,29,31,33,34,16,35,43,44,45,46,47,48,49,50,51,52])))),a=$t((()=>R((()=>import("./index119.js?v=1720690738171")),__vite__mapDeps([62,19,20,1,2,3,4,7,21,24,25,8,9,10,11,12,13,14,43,26,27,28,22,23,29,30,5,31,32,33,34,16,35,36,37,38,39,40,41,42,44,15,45,46,47,48,49,50,51,52])))),l=$t((()=>R((()=>import("./index120.js?v=1720690738171")),__vite__mapDeps([63,36,2,1,3,4,8,9,10,11,12,13,14,39,40,20,7,21,27,28,19,22,23,24,25,29,30,26,5,31,32,33,34,16,35,37,38,41,42,43,44,15,45,46,47,48,49,50,51,52])))),{t:i}=Ot(),n=N(),o=V(),{web:s}=ie(n),{isPro:r}=ie(o),d=A(i("WP.Migrate.Title")),c=A(i("WP.Add.Title")),u=()=>{c.show=!0},p=()=>{d.show=!0},m=Nt({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),h=(e,t={})=>{m.title="".concat(i("Site.Cert.Modification")," [").concat(e.name,"] -- ").concat(i("Site.Cert.Added")," [").concat(e.addtime,"]"),m.siteInfo=e,m.config=Object.assign({menu:"",subMenu:""},t),m.show=!0},{keys:v,table:f,columns:g}=ae([{type:"selection",width:40},{key:"name",title:i("Site.TableRow.SiteName"),width:"12%",minWidth:120,ellipsis:{tooltip:!0},render:e=>Et(ml,{row:e,onClick:()=>{h(e)}},null)},me({width:"8%",minWidth:90,checkedLabel:"Running",uncheckedLabel:"Stopped",confirm:(e,t)=>({title:"".concat("1"===e?"Start":"Stop "," site [").concat(t.name,"]"),content:()=>{const t=i("Site.Cert.StatusConfirm.Start"),a=i("Site.Cert.StatusConfirm.Stop");return"1"===e?t:a},onConfirm:async({hide:a})=>{await pt("1"===e,{id:t.id,name:t.name}),t.status="1"===e?"1":"0",a()}})}),{key:"backup_count",title:i("Site.TableRow.BackUp"),width:"8%",minWidth:80,render:e=>Et(hl,{row:e},null)},he(),{key:"protection",title:i("WP.TableRow.Protection"),width:"8%",minWidth:80,render:e=>Et(vl,{row:e},null)},ve({key:"cache_status",title:"Cache",width:"6%",minWidth:60,onClick:async(e,t)=>{await qe({version:t.php_version,sitename:t.name,act:e})}}),{key:"wp_version",title:i("WP.TableRow.WP"),width:"8%",minWidth:80,render:e=>Et(fl,{row:e,onClick:()=>{h(e,{menu:"wordpress"})}},null)},{key:"php_version",title:i("Site.TableRow.PHP"),width:"6%",minWidth:60,render:e=>Et(gl,{row:e,onClick:()=>{h(e,{menu:"wordpress"})}},null)},pl({onClick:e=>{h(e,{menu:"ssl"})}}),ue({title:i("Site.TableRow.Operation"),width:168,options:e=>[{label:i("Site.TableOP.Login"),onClick:()=>{window.open(e.login_url,"_blank")}},{label:i("WP.index_1"),onClick:()=>{b(e)}},{label:i("Site.TableOP.Conf"),onClick:()=>{h(e)}},{label:i("Public.Btn.Del"),onClick:()=>{ul([e])}}]})]),w=A(i("WP.index_2")),b=async e=>{w.data.row=e,w.show=!0},y=[{key:"enable",type:"confirm",label:i("Site.Batch.EnableWeb.Label"),confirm:{title:i("Site.Batch.EnableWeb.Title"),desc:i("Site.Batch.EnableWeb.Content"),columns:[g.value[1]],api:e=>pt(!0,{id:e.id,name:e.name},!1),done:()=>{k()}}},{key:"disable",type:"confirm",label:i("Site.Batch.DisableWeb.Label"),confirm:{title:i("Site.Batch.DisableWeb.Title"),desc:i("Site.Batch.DisableWeb.Content"),columns:[g.value[1]],api:e=>pt(!1,{id:e.id,name:e.name},!1),done:()=>{k()}}},{key:"backup",type:"confirm",label:i("Site.Batch.BackupWeb.Label"),confirm:{title:i("Site.Batch.BackupWeb.Title"),desc:i("Site.Batch.BackupWeb.Content"),columns:[g.value[1]],api:e=>Ya({s_id:e.id,bak_type:3},!1),done:()=>{k()}}},{key:"delete",label:i("Site.Batch.DeleteWeb.Label"),onBatch:e=>{ul(e)}}],{loading:_,setLoading:C}=re(!0),x=Nt({p:1,limit:10,table:"sites",search:""}),k=async()=>{try{C(!0);const{message:t}=await(e=Vt(x),S.post("/data?action=getData",{...e,table:"sites",project_type:"WP2"}));L(t)?(f.data=E(t.data)?t.data:[],f.total=K(t.page)):(f.data=[],f.total=0)}finally{v.value=[],C(!1)}var e};gt((()=>n.isRefresh),(e=>{e&&(n.setRefresh(!1),k())}));return(async()=>{try{await n.getConfig(),n.web.setup?k():(C(!1),ne())}catch(e){C(!1)}})(),(e,i)=>{const n=T,o=O,h=Q,b=le,C=te,S=ee,P=J,L=B,R=G,$=Y;return Wt(),qt($,null,{default:At((()=>[It(r)?(Wt(),qt(R,{key:0,install:It(s).setup},{desc:At((()=>[Jn,Et(n,{class:"ml-4px",onClick:i[0]||(i[0]=e=>It(se)("nginx"))},{default:At((()=>[Dt("Install Nginx")])),_:1}),Qn,Et(n,{onClick:i[1]||(i[1]=e=>It(se)("apache"))},{default:At((()=>[Dt("Install Apache")])),_:1})])),default:At((()=>[Et(P,{class:"p-16px",feedback:!0},{toolsLeft:At((()=>[Et(o,{type:"primary",onClick:u},{default:At((()=>[Dt("Add Wordpress")])),_:1}),Et(o,{onClick:p},{default:At((()=>[Dt("Migrate Site")])),_:1})])),toolsRight:At((()=>[Et(h,{value:It(x).search,"onUpdate:value":i[2]||(i[2]=e=>It(x).search=e),placeholder:"Domain or Remarks",onSearch:k},null,8,["value"])])),table:At((()=>[Et(b,{"checked-row-keys":It(v),"onUpdate:checkedRowKeys":i[3]||(i[3]=e=>zt(v)?v.value=e:null),loading:It(_),data:It(f).data,columns:It(g)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Et(C,{"checked-row-keys":It(v),"onUpdate:checkedRowKeys":i[4]||(i[4]=e=>zt(v)?v.value=e:null),data:It(f).data,options:y},null,8,["checked-row-keys","data"])])),pageRight:At((()=>[Et(S,{page:It(x).p,"onUpdate:page":i[5]||(i[5]=e=>It(x).p=e),"page-size":It(x).limit,"onUpdate:pageSize":i[6]||(i[6]=e=>It(x).limit=e),"item-count":It(f).total,"store-key":"wp-toolkit",onRefresh:k},null,8,["page","page-size","item-count"])])),_:1}),Et(L,{show:It(c).show,"onUpdate:show":i[7]||(i[7]=e=>It(c).show=e),title:It(c).title,width:640,height:590,footer:!0,component:It(t)},null,8,["show","title","component"]),Et(L,{show:It(d).show,"onUpdate:show":i[8]||(i[8]=e=>It(d).show=e),title:It(d).title,width:640,footer:!1,component:It(a)},null,8,["show","title","component"]),Et(L,{show:It(w).show,"onUpdate:show":i[9]||(i[9]=e=>It(w).show=e),title:It(w).title,data:It(w).data,width:640,"min-height":268,footer:!0,component:It(l)},null,8,["show","title","data","component"]),Et(L,{show:It(m).show,"onUpdate:show":i[10]||(i[10]=e=>It(m).show=e),title:It(m).title},{default:At((()=>[jt("div",eo,[Et(jn,{"site-info":It(m).siteInfo,config:It(m).config},null,8,["site-info","config"])])])),_:1},8,["show","title"])])),_:1},8,["install"])):(Wt(),qt(Gn,{key:1}))])),_:1})}}}),ao=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"}));export{ka as D,qa as N,Za as _,Fi as a,Xa as b,rl as c,dl as d,Qa as e,sl as f,Fa as g,Ja as h,Ka as i,Ya as j,il as k,ll as l,el as m,nl as n,al as o,ol as p,tl as q,Ga as r,ao as s,bl as u};
