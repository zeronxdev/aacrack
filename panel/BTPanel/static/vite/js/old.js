import{U as e,b2 as t,e as s,p as a,B as i,q as o,a as l}from"./index.js?v=1720690738171";import{e as p,u as n,d as r,i as u}from"./index25.js?v=1720690738171";import{B as d}from"./details.js?v=1720690738171";import{l as m,k as v,r as c,S as x,Z as b,_ as j,a3 as w,W as _,q as f,P as g,V as h,F as y,b as k,a5 as T,a6 as C}from"./vue.js?v=1720690738171";import"./pinia.js?v=1720690738171";import"./useLoop.js?v=1720690738171";import"./useTableColumns.js?v=1720690738171";import"./Progress.js?v=1720690738171";import"./useAccount.js?v=1720690738171";import"./index42.js?v=1720690738171";import"./Tag.js?v=1720690738171";import"./Countdown.js?v=1720690738171";import"./Select.js?v=1720690738171";import"./Empty.js?v=1720690738171";import"./use-theme-vars.js?v=1720690738171";import"./useTableData.js?v=1720690738171";import"./Skeleton.js?v=1720690738171";import"./DataTable.js?v=1720690738171";import"./Checkbox.js?v=1720690738171";import"./Ellipsis.js?v=1720690738171";import"./omit.js?v=1720690738171";import"./useLoading.js?v=1720690738171";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1720690738171";import"./index72.js?v=1720690738171";import"./data.js?v=1720690738171";import"./index.vue_vue_type_script_setup_true_lang9.js?v=1720690738171";import"./Tabs.js?v=1720690738171";const S=e=>(T("data-v-4ac42965"),e=e(),C(),e),U={class:"update-old"},B=S((()=>j("div",{class:"absolute -top-90px right-40px w-150px"},[j("img",{class:"w-full",src:"/static/vite/images/update-rocket.svg",alt:"rocket img"})],-1))),L={class:"absolute top-15px left-15px text-white text-14px"},M={class:"pt-140px"},A=S((()=>j("div",{class:"text-22px text-center font-bold text-[#565656]"},"New panel version available",-1))),F={class:"flex justify-between mx-32px mt-20px mb-16px text-14px"},I={class:"mt-10px mx-32px mb-32px p-20px bg-[#F6FBF7] rounded-4px"},P=["innerHTML"],q={class:"update-tips"},D={class:"mr-16px"},E=S((()=>j("span",null,"If you need update to beta version, please click ",-1))),H={class:"mr-16px"},R={class:"update-btn"},V=l(m({__name:"old",props:{data:{}},emits:["close"],setup(l,{expose:m,emit:T}){const C=l,{info:S}=C.data,V=T,N=v((()=>S.is_beta)),W=v((()=>N.value?z.value:Z.value)),Z=v((()=>({uptime:S.uptime.replaceAll("/","-"),downUrl:S.downUrl,version:S.version,updateMsg:S.updateMsg}))),z=v((()=>({uptime:S.beta.uptime.replaceAll("/","-"),downUrl:S.beta.downUrl,version:S.beta.version,updateMsg:S.beta.updateMsg}))),G=c(!1),J=()=>{G.value=!0},K=()=>{e({title:"Switch to the stable version",content:"Are you sure to switch from the beta to the stable version?",onConfirm:async({hide:e})=>{await p(),await n(),await r(),t(),e()}})},O=async()=>{await u({version:W.value.version}),setTimeout((()=>{V("close")}),2e3)},Q=async()=>{await n(),await r(),t()};return m({onClose:async()=>{await u({version:W.value.version},!1)}}),(e,t)=>{const l=s,p=a,n=i,r=o;return x(),b("div",U,[B,j("div",L,[j("span",null,"[Linux"+w(_(N)?"Beta":"Stable")+"] - Version update",1)]),j("div",M,[A,j("div",F,[j("div",null,[f(" Latest version: "),g(l,{href:"https://forum.aapanel.com/d/9-aapanel-linux-panel-6-1-5-installation-tutorial/36",target:"_blank"},{default:h((()=>[f(" aaPanel "+w(_(N)?"Beta":"Stable")+" "+w(_(W).version),1)])),_:1})]),j("div",null,"Update time: "+w(_(W).uptime),1)]),j("div",I,[j("div",{class:"update-logs",innerHTML:_(W).updateMsg},null,8,P),g(p,{class:"my-20px!"}),j("div",q,[_(N)?(x(),b(y,{key:1},[j("div",null,[j("span",H,"The latest version is Stable "+w(_(Z).version),1),j("span",null,"Release: "+w(_(Z).uptime),1)]),j("div",null,[g(l,{onClick:K},{default:h((()=>[f("Switch to the stable version")])),_:1})])],64)):(x(),b(y,{key:0},[j("div",null,[j("span",D,"The latest version is Beta "+w(_(z).version),1),j("span",null,"Release: "+w(_(z).uptime),1)]),j("div",null,[E,g(l,{onClick:J},{default:h((()=>[f("details")])),_:1})])],64))])]),j("div",R,[g(n,{class:"ignore mr-48px",round:"",onClick:O},{default:h((()=>[f("Ignore updates")])),_:1}),g(n,{type:"primary",round:"",onClick:Q},{default:h((()=>[f("Update now")])),_:1})])]),g(r,{show:_(G),"onUpdate:show":t[0]||(t[0]=e=>k(G)?G.value=e:null),title:"Apply for Linux Beta version",component:d},null,8,["show"])])}}}),[["__scopeId","data-v-4ac42965"]]);export{V as default};
