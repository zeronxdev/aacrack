System.register(["./index-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1720690738171","./index-legacy85.js?v=1720690738171","./useLoading-legacy.js?v=1720690738171","./vue-legacy.js?v=1720690738171","./Select-legacy.js?v=1720690738171"],(function(e,a){"use strict";var t,l,o,r,i,n,d,m,p,s,c,_,u,f,v,g,k,x,j,w,y,h,C,b,D,$,E;return{setters:[e=>{t=e.I,l=e.a4,o=e.k,r=e.H,i=e.v,n=e.dT,d=e.dU,m=e.e,p=e.a9},e=>{s=e._,c=e.a},e=>{_=e._},e=>{u=e.u},e=>{f=e.l,v=e.ad,g=e.r,k=e.f,x=e.S,j=e.Z,w=e.P,y=e.V,h=e._,C=e.W,b=e.q,D=e.a3,$=e.a1},e=>{E=e._}],execute:function(){const U={class:"p-20px"},R={class:"w-300px"},S={class:"w-300px"},H={class:"w-300px"};e("_",f({__name:"index",props:{row:{default:void 0},isEdit:{type:Boolean,default:!1}},setup(e,{expose:f}){const L=e,{t:q}=v(),B=t(),I=g(null),P=k({template_id:null,project_name:"",remark:""}),T={template_id:{trigger:["change"],validator:()=>null!=P.template_id||new Error(q("Docker.Compose.form.index_5"))},project_name:{trigger:["blur","input"],validator:()=>""!==P.project_name.trim()||new Error(q("Docker.Compose.form.index_6"))}},V=g([]),{loading:W,setLoading:Z}=u(),z=async()=>{try{Z(!0);const{message:e}=await l();o(e)&&(V.value=e.map((e=>({label:e.name,value:e.id}))),P.template_id=e[0].id)}finally{Z(!1)}},A=()=>{r({title:q("Docker.Compose.form.index_7"),footer:!0,width:650,minHeight:484,data:{onRefresh:()=>{z()}},component:$((()=>i((()=>a.import("./index-legacy81.js?v=1720690738171")),void 0)))})};return(()=>{const{row:e,isEdit:a}=L;a&&e&&(P.template_id=e.template_id,P.project_name=e.name,P.remark=e.remark)})(),z(),f({onConfirm:async()=>{await(I.value?.validate());const e={template_id:P.template_id||0,project_name:P.project_name,remark:P.remark},{row:a,isEdit:t}=L;t&&a?await n({...e,project_id:a.id}):await d(e),B.setRefresh(!0)}}),(e,a)=>{const t=E,l=m,o=s,r=p,i=_,n=c;return x(),j("div",U,[w(n,{ref_key:"formRef",ref:I,model:C(P),rules:T,"label-width":"150"},{default:y((()=>[w(o,{label:e.$t("Docker.Compose.form.index_1"),path:"template_id"},{default:y((()=>[h("div",R,[w(t,{value:C(P).template_id,"onUpdate:value":a[0]||(a[0]=e=>C(P).template_id=e),loading:C(W),options:C(V)},null,8,["value","loading","options"])]),w(l,{class:"ml-8px",onClick:A},{default:y((()=>[b(D(e.$t("Docker.Compose.form.index_2")),1)])),_:1})])),_:1},8,["label"]),w(o,{label:e.$t("Docker.Compose.form.index_3"),path:"project_name"},{default:y((()=>[h("div",S,[w(r,{value:C(P).project_name,"onUpdate:value":a[1]||(a[1]=e=>C(P).project_name=e),placeholder:e.$t("Docker.Compose.form.index_3")},null,8,["value","placeholder"])])])),_:1},8,["label"]),w(o,{label:e.$t("Docker.Compose.form.index_4"),path:"remark","show-feedback":!1},{default:y((()=>[h("div",H,[w(i,{value:C(P).remark,"onUpdate:value":a[2]||(a[2]=e=>C(P).remark=e),rows:3,placeholder:e.$t("Docker.Compose.form.index_4")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}))}}}));
