import{j as a,h as s,_ as t,B as e,e as o,p as n,G as r,b3 as i,a as l}from"./index.js?v=1720690738171";import{c}from"./data.js?v=1720690738171";import{g as m,s as u}from"./php.js?v=1720690738171";import{u as p}from"./useLoading.js?v=1720690738171";import{e as f}from"./useAccount.js?v=1720690738171";import{l as d,r as _,k as v,S as g,U as y,V as h,W as j,P as k,_ as x,a3 as S,aj as C,q as w}from"./vue.js?v=1720690738171";import{_ as N}from"./Skeleton.js?v=1720690738171";const b={class:"m-2px"},z=l(d({__name:"index",props:{softName:{default:""},openSoft:{default:""}},setup(l){const d=l,z=_({status:!0,s_status:!0,msg:"",version:"0",name:"",title:"",admin:!1,s_version:""}),A=v((()=>c(z.value.name)+" "+z.value.version)),{loading:L,setLoading:R}=p(),q=async()=>{try{R(!0);const{message:s}=await m({name:d.softName});a(s)&&(z.value=s)}finally{R(!1)}},B=a=>{const t="".concat(c(a)," ").concat(A.value),e="Are you sure you have to ".concat(a," the ").concat(c(z.value.name)," service and continue?");s({title:t,content:e,onConfirm:async()=>{await u({name:z.value.s_version,type:a}),q()}})},G=()=>{f({name:d.openSoft?d.openSoft:d.softName,title:A.value,admin:!1})};return q(),(a,s)=>{const l=N,c=t,m=e,u=o,p=n,f=r,d=i;return g(),y(d,{trigger:"hover"},{trigger:h((()=>[j(L)?(g(),y(l,{key:0,width:120,height:32,sharp:!1})):(g(),y(m,{key:1,class:"min-w-120px soft-btn",type:j(z).s_status?"default":"error",onClick:G},{default:h((()=>[k(c,{name:"soft-".concat(a.softName),size:"20"},null,8,["name"]),x("span",b,S(j(A)),1),x("span",{class:C(["iconfont","icon-".concat(j(z).s_status?"start":"stop")])},null,2)])),_:1},8,["type"]))])),default:h((()=>[k(f,{class:"items-center",size:8},{default:h((()=>[k(u,{onClick:s[0]||(s[0]=a=>B(j(z).s_status?"stop":"start"))},{default:h((()=>[w(S(j(z).s_status?"Stop":"Start"),1)])),_:1}),k(p,{class:"mx-0!",vertical:""}),k(u,{onClick:s[1]||(s[1]=a=>B("restart"))},{default:h((()=>[w("Restart")])),_:1}),k(p,{class:"mx-0!",vertical:""}),k(u,{onClick:s[2]||(s[2]=a=>B("reload"))},{default:h((()=>[w("Reload")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-32a56b08"]]);export{z as _};
