System.register(["./index-legacy53.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1720690738171","./index-legacy85.js?v=1720690738171","./check-legacy.js?v=1720690738171","./site-legacy2.js?v=1720690738171","./vue-legacy.js?v=1720690738171","./Select-legacy.js?v=1720690738171","./index-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1720690738171","./InputGroupLabel-legacy.js?v=1720690738171","./InputGroup-legacy.js?v=1720690738171","./use-theme-vars-legacy.js?v=1720690738171","./Tag-legacy.js?v=1720690738171","./Empty-legacy.js?v=1720690738171","./pinia-legacy.js?v=1720690738171"],(function(e,t){"use strict";var a,l,r,s,n,o,u,p,d,i,h,c,y,m,_,x,g,f,v,b,w,j,k;return{setters:[e=>{a=e._},e=>{l=e._,r=e.a},e=>{s=e._},e=>{n=e._},e=>{o=e.b},e=>{u=e.bd},e=>{p=e.l,d=e.r,i=e.f,h=e.x,c=e.S,y=e.Z,m=e.P,_=e.V,x=e._,g=e.W,f=e.U,v=e.q},e=>{b=e._},e=>{w=e.a9,j=e.G,k=e.cf},null,null,null,null,null,null,null],execute:function(){const t={class:"m-15px"},U={class:"w-440px"},$=x("p",null,"A domain per line, the default port is 80",-1),q=x("p",null,"Wildcard domain format: *.domain.com",-1),L=x("p",null,"To add another port, the format is www.domain.com:88",-1),P=x("li",null," Target: you can fill in the site you need to proxy, the target if you choose the URL address must be a normal access to the URL, if you choose UNIX must be a socket file ",-1),R=x("li",null," Send domain name: add the domain name to the request header to pass to the back-end server, the default is the target URL domain name, if not set properly may lead to the proxy can not be accessed properly, for example: ",-1),T=x("li",{class:"list-none!"}," http://192.168.100.20:19888, then just send the domain name keeping $http_host ",-1),S=x("li",{class:"list-none!"}," http://www.bt.cn, then the sending domain should be changed to www.bt.cn ",-1),E=x("li",{class:"list-none!"}," The above examples are only common cases, please refer to the actual situation ",-1);e("default",p({__name:"index",emits:["refresh"],setup(e,{expose:p,emit:I}){const G=I,C=()=>{"2"===D.proxy_type?D.proxy_host="$http_host":D.proxy_host=""},N=e=>{if("2"===D.proxy_type)return void(D.proxy_host="$http_host");let t=e.replace(/^http[s]?:\/\//,"");t=t.replace(/(:|\?|\/|\\)(.*)$/,""),D.proxy_host=t},W=d(null),A=[{label:"URL address",value:"1"},{label:"Unix address",value:"2"}],D=i({domains:"",proxy_type:"1",url:"http://",unx:"",proxy_host:"$http_host",remark:""}),H={domains:{required:!0,trigger:["blur","change"],validator:(e,t)=>{if(""===t.trim())return new Error("Please enter the domain name");const a=t.trim().split("\n")[0].split(":")[1];return!(a&&(!o(a)||Number(a)<100))||new Error("Port range is incorrect! should be between 100-65535")}},url:{required:!0,trigger:["blur","change"],validator:(e,t)=>{if(!t.replace(/^http[s]?:\/\//,""))return new Error("Please input the URL address");let a=t.replace(/^http[s]?:\/\//,"");return a=a.replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(a)?D.proxy_host="$http_host":D.proxy_host=a,!0}},unx:{required:!0,message:"Please select the website path",trigger:["blur","change"]},proxy_host:{required:!0,message:"Please select the website path",trigger:["blur","change"]}},V=e=>{const t=e.trim().split("\n")[0].split(":")[0];t&&(D.remark=t)};return h((()=>{})),p({onConfirm:async()=>{await(W.value?.validate());let e={remark:D.remark,proxy_type:"1"==D.proxy_type,proxy_pass:"1"==D.proxy_type?D.url:D.unx,domains:D.domains,proxy_host:D.proxy_host};await u(e),G("refresh")}}),(e,o)=>{const u=n,p=l,d=b,i=w,h=s,I=j,G=k,X=r,Z=a;return c(),y("div",t,[m(X,{ref_key:"formRef",ref:W,model:g(D),rules:H},{default:_((()=>[m(p,{label:"Domain name",path:"domains"},{default:_((()=>[x("div",U,[m(u,{value:g(D).domains,"onUpdate:value":[o[0]||(o[0]=e=>g(D).domains=e),V]},{default:_((()=>[$,q,L])),_:1},8,["value"])])])),_:1}),m(I,null,{default:_((()=>[m(p,{label:"Target"},{default:_((()=>[m(d,{value:g(D).proxy_type,"onUpdate:value":[o[1]||(o[1]=e=>g(D).proxy_type=e),C],options:A,class:"w-120px"},null,8,["value"])])),_:1}),"1"==g(D).proxy_type?(c(),f(p,{key:0,path:"url",class:"w-310px"},{default:_((()=>[m(i,{value:g(D).url,"onUpdate:value":o[2]||(o[2]=e=>g(D).url=e),onInput:N},null,8,["value"])])),_:1})):(c(),f(p,{key:1,path:"unx",class:"w-310px"},{default:_((()=>[m(h,{"checked-type":["dir","file"],value:g(D).unx,"onUpdate:value":o[3]||(o[3]=e=>g(D).unx=e),onChange:N},null,8,["value"])])),_:1}))])),_:1}),m(p,{label:"Send Host",path:"proxy_host",class:"w-570px"},{default:_((()=>[m(G,{trigger:"hover"},{trigger:_((()=>[m(i,{value:g(D).proxy_host,"onUpdate:value":o[4]||(o[4]=e=>g(D).proxy_host=e)},null,8,["value"])])),default:_((()=>[v(" The hostname when the request is forwarded to the back-end server, usually $http_host, if the target URL is a domain name, you need to change it to a domain name ")])),_:1})])),_:1}),m(p,{label:"remark",class:"w-570px"},{default:_((()=>[m(i,{value:g(D).remark,"onUpdate:value":o[5]||(o[5]=e=>g(D).remark=e),placeholder:"Please enter a comment to be empty"},null,8,["value"])])),_:1})])),_:1},8,["model"]),m(Z,{class:"mt-16px"},{default:_((()=>[P,R,T,S,E])),_:1})])}}}))}}}));
