System.register(["./index-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1720690738171","./useTableData-legacy.js?v=1720690738171","./useLoading-legacy.js?v=1720690738171","./useTableColumns-legacy.js?v=1720690738171","./index-legacy72.js?v=1720690738171","./vue-legacy.js?v=1720690738171","./pinia-legacy.js?v=1720690738171","./Skeleton-legacy.js?v=1720690738171","./DataTable-legacy.js?v=1720690738171","./Checkbox-legacy.js?v=1720690738171","./Ellipsis-legacy.js?v=1720690738171","./Select-legacy.js?v=1720690738171","./Tag-legacy.js?v=1720690738171","./Empty-legacy.js?v=1720690738171","./omit-legacy.js?v=1720690738171","./Progress-legacy.js?v=1720690738171"],(function(e,t){"use strict";var a,l,i,n,s,o,c,u,d,r,p,m,y,g,k,h,_,w,b,x,C,j,S,D,f,P,v,E,U,W,T,B,K,L,R;return{setters:[e=>{a=e.Y,l=e.I,i=e.g,n=e.K,s=e.Z,o=e.U,c=e.$,u=e.a0,d=e.k,r=e.a1,p=e.r,m=e.h,y=e.a2,g=e.B,k=e.q,h=e.v},e=>{_=e._},e=>{w=e.u,b=e._},e=>{x=e.u},e=>{C=e.b},e=>{j=e._},e=>{S=e.ad,D=e.P,f=e.l,P=e.f,v=e.w,E=e.U,U=e.V,W=e.S,T=e.q,B=e.a3,K=e.W,L=e.b,R=e.a1},null,null,null,null,null,null,null,null,null,null],execute:function(){function $({onSelect:e}){const{t:t}=S(),l={key:"run_status",title:"Status",width:"12%",minWidth:100,render:l=>{const i=(e=>{const{t:t}=S();return"running"===e.run_status?[{key:"stop",label:t("Public.Status.Stop")},{key:"restart",label:t("Public.Status.Restart")},{key:"kill",label:t("Public.Status.Kill")},{key:"pause",label:t("Public.Status.Pause")}]:"exited"===e.run_status?[{key:"start",label:t("Public.Status.Start")}]:[{key:"unpause",label:t("Public.Status.Unpause")},{key:"kill",label:t("Public.Status.Kill")}]})(l);return D(a,{options:i,width:78,onSelect:t=>{e(t,l)}},{default:()=>[D(j,{class:"min-w-68px",value:l.run_status,"checked-value":"running","unchecked-label":"exited"===l.status?t("Public.Status.Stopped"):t("Public.Status.Paused")},null)]})}};return l}e("default",f({__name:"index",setup(e){const a=R((()=>h((()=>t.import("./index-legacy79.js?v=1720690738171")),void 0))),j=R((()=>h((()=>t.import("./index-legacy80.js?v=1720690738171")),void 0))),{t:f}=S(),q=l(),z=i(f("Docker.Compose.index_1"),{isEdit:!1}),I=()=>{z.data.row=void 0,z.data.isEdit=!1,z.title=f("Docker.Compose.index_1"),z.show=!0},V=()=>{m({title:f("Docker.Compose.index_2"),content:f("Docker.Compose.index_3"),onConfirm:async()=>{await y(),Q()}})},Y=P({page:1,pageSize:10}),{keys:Z,columns:A,table:F}=w([{key:"name",title:f("Docker.Compose.index_4"),width:"16%",minWidth:120,ellipsis:{tooltip:!0}},$({onSelect:async(e,t)=>{await s({project_id:t.id,status:e}),Q()}}),{key:"num",title:f("Docker.Compose.index_5"),width:"14%",minWidth:120},{key:"time",title:f("Docker.Compose.index_6"),width:"16%",minWidth:140,render:e=>n(e.time)},{key:"remark",title:f("Docker.Compose.index_7"),minWidth:140,ellipsis:{tooltip:!0}},C({width:170,options:e=>[{label:f("Docker.Compose.index_8"),onClick:()=>{H(e)}},{label:f("Public.Btn.Edit"),onClick:()=>{J(e)}},{label:f("Public.Btn.Del"),onClick:()=>{M(e)}}]})]),G=i(f("Docker.Compose.index_8")),H=e=>{G.data.row=e,G.title=f("Docker.Compose.index_11",[e.name]),G.show=!0},J=e=>{z.data.row=e,z.data.isEdit=!0,z.title=f("Docker.Compose.index_12"),z.show=!0},M=e=>{o({title:f("Docker.Compose.index_13",[e.name]),content:()=>D("div",{class:"text-error"},[f("Docker.Compose.index_14",[e.name])]),onConfirm:async()=>{await c({project_id:e.id}),Q()}})},{loading:N,setLoading:O}=x(),Q=async()=>{await X(),await ee()},X=async()=>{try{O(!0);const{message:e}=await u();F.data=d(e)?e.map((e=>({...e,num:0}))):[],F.total=F.data.length}finally{Z.value=[],O(!1)}},ee=async()=>{const{message:e}=await r();d(e)&&F.data.forEach(((t,a)=>{t.num=e[a]||0}))};return v((()=>q.isRefresh),(e=>{e&&(q.setRefresh(!1),Q())})),Q(),(e,t)=>{const l=g,i=b,n=_,s=k,o=p;return W(),E(o,{class:"p-16px"},{default:U((()=>[D(n,null,{toolsLeft:U((()=>[D(l,{type:"primary",onClick:I},{default:U((()=>[T(B(e.$t("Docker.Compose.index_1")),1)])),_:1}),D(l,{onClick:V},{default:U((()=>[T(B(e.$t("Docker.Compose.index_2")),1)])),_:1})])),table:U((()=>[D(i,{page:K(Y),"onUpdate:page":t[0]||(t[0]=e=>L(Y)?Y.value=e:null),"is-page":!0,loading:K(N),columns:K(A),data:K(F).data},null,8,["page","loading","columns","data"])])),_:1}),D(s,{show:K(z).show,"onUpdate:show":t[1]||(t[1]=e=>K(z).show=e),title:K(z).title,data:K(z).data,width:560,"min-height":224,footer:!0,component:K(a)},null,8,["show","title","data","component"]),D(s,{show:K(G).show,"onUpdate:show":t[2]||(t[2]=e=>K(G).show=e),title:K(G).title,data:K(G).data,width:950,"min-height":106,component:K(j)},null,8,["show","title","data","component"])])),_:1})}}}))}}}));
