System.register(["./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1720690738171","./index-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1720690738171","./pinia-legacy.js?v=1720690738171","./index-legacy48.js?v=1720690738171","./vue-legacy.js?v=1720690738171","./Select-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1720690738171","./InputGroupLabel-legacy.js?v=1720690738171","./InputGroup-legacy.js?v=1720690738171","./index-legacy49.js?v=1720690738171","./useAccount-legacy.js?v=1720690738171","./useTableColumns-legacy.js?v=1720690738171","./Progress-legacy.js?v=1720690738171","./Tag-legacy.js?v=1720690738171","./Empty-legacy.js?v=1720690738171"],(function(e,l){"use strict";var a,s,r,u,t,n,d,c,o,i,p,g,_,v,m,y,b,f,h,w,j,x,P;return{setters:[e=>{a=e._,s=e.a},e=>{r=e.u,u=e.dx,t=e.a9,n=e.e,d=e.n},e=>{c=e._},e=>{o=e.s},e=>{i=e.g},e=>{p=e.l,g=e.r,_=e.f,v=e.k,m=e.S,y=e.U,b=e.V,f=e.P,h=e._,w=e.W,j=e.q,x=e.t},e=>{P=e._},null,null,null,null,null,null,null,null,null],execute:function(){const l={class:"w-240px"},U={class:"w-240px"},q={class:"w-240px"},k={class:"w-240px"},C={class:"ml-8px"};e("default",p({__name:"index",setup(e,{expose:p}){const E=r(),{remoteList:R}=o(E),S=g(null),A=_({sid:R.value.length>0?R.value[0].id:null,name:"",db_user:"",password:"",active:!1,ssl:""}),D=v((()=>R.value.map((e=>({label:`${e.ps} (${e.db_host})`,value:e.id}))))),G={name:{required:!0,message:"Please enter database name",trigger:["blur","change"]},db_user:{required:!0,message:"Please enter username",trigger:["blur","change"]},password:{required:!0,message:"Please enter password",trigger:["blur","change"]},sid:{trigger:"change",validator:(e,l)=>null!==l||new Error("Please select remote server")}},I=e=>{A.db_user=e},L=()=>{i()};return p({onConfirm:async({hide:e})=>{try{await(S.value?.validate());const l=(()=>{const{sid:e}=A;if(null===e)throw d.error("Please select remote server"),new Error("Please select remote server");return{...x(A),sid:e,ps:A.name}})();await u(E.type,l),E.setRefresh(!0),e()}catch(l){console.error(l)}}}),(e,r)=>{const u=t,d=a,o=c,i=P,p=n,g=s;return m(),y(g,{ref_key:"formRef",ref:S,model:w(A),rules:G,class:"p-20px"},{default:b((()=>[f(d,{label:"DBName",path:"name"},{default:b((()=>[h("div",l,[f(u,{value:w(A).name,"onUpdate:value":[r[0]||(r[0]=e=>w(A).name=e),I],placeholder:"New database name"},null,8,["value"])])])),_:1}),f(d,{label:"Username",path:"db_user"},{default:b((()=>[h("div",U,[f(u,{value:w(A).db_user,"onUpdate:value":r[1]||(r[1]=e=>w(A).db_user=e),placeholder:"Database user"},null,8,["value"])])])),_:1}),f(d,{label:"Password",path:"password"},{default:b((()=>[h("div",q,[f(o,{value:w(A).password,"onUpdate:value":r[2]||(r[2]=e=>w(A).password=e),placeholder:""},null,8,["value"])])])),_:1}),f(d,{label:"Add to",path:"sid"},{default:b((()=>[h("div",k,[f(i,{value:w(A).sid,"onUpdate:value":r[3]||(r[3]=e=>w(A).sid=e),options:w(D)},null,8,["value","options"])]),h("div",C,[f(p,{onClick:L},{default:b((()=>[j("Remote servers")])),_:1})])])),_:1})])),_:1},8,["model"])}}}))}}}));
