System.register(["./index-legacy.js?v=1720690738171","./index-legacy49.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy3.js?v=1720690738171","./useTableData-legacy.js?v=1720690738171","./pinia-legacy.js?v=1720690738171","./site-legacy.js?v=1720690738171","./useAccount-legacy.js?v=1720690738171","./useLoading-legacy.js?v=1720690738171","./useTableColumns-legacy.js?v=1720690738171","./site-legacy2.js?v=1720690738171","./vue-legacy.js?v=1720690738171","./index-legacy111.js?v=1720690738171","./index-legacy85.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1720690738171","./Select-legacy.js?v=1720690738171","./index-legacy57.js?v=1720690738171","./index-legacy53.js?v=1720690738171","./Checkbox-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1720690738171","./form.vue_vue_type_script_setup_true_lang-legacy.js?v=1720690738171","./php-legacy.js?v=1720690738171","./Space-legacy.js?v=1720690738171","./Alert-legacy.js?v=1720690738171","./InputGroupLabel-legacy.js?v=1720690738171","./InputGroup-legacy.js?v=1720690738171","./index-legacy112.js?v=1720690738171","./Spin-legacy.js?v=1720690738171","./Progress-legacy.js?v=1720690738171","./_createCompounder-legacy.js?v=1720690738171","./DataTable-legacy.js?v=1720690738171"],(function(e,t){"use strict";var a,l,i,n,o,r,s,d,u,c,p,m,h,v,g,f,w,b,y,_,C,x,S,k,P,L,$,T,R,E,U,D,O,W,j,M,B,A,I,z,N,H,q,V,Z,X,F,K,Y,G,J,Q,ee,te,ae,le,ie,ne,oe,re,se,de,ue,ce,pe,me,he,ve,ge,fe,we,be,ye,_e,Ce,xe,Se,ke,Pe,Le,$e,Te,Re,Ee,Ue,De,Oe,We,je,Me,Be,Ae,Ie,ze,Ne,He,qe,Ve,Ze,Xe,Fe,Ke,Ye,Ge,Je,Qe,et,tt,at,lt,it,nt,ot,rt,st,dt,ut,ct,pt,mt,ht,vt,gt,ft,wt,bt,yt,_t,Ct,xt,St,kt,Pt,Lt,$t,Tt,Rt,Et,Ut,Dt,Ot,Wt,jt,Mt,Bt,At,It,zt,Nt,Ht,qt,Vt,Zt,Xt,Ft,Kt,Yt,Gt,Jt,Qt,ea,ta,aa,la,ia,na,oa,ra,sa,da,ua,ca,pa,ma,ha,va,ga,fa,wa,ba,ya,_a,Ca,xa,Sa,ka;return{setters:[e=>{a=e.cy,l=e.cc,i=e.aG,n=e.aR,o=e.bu,r=e.aD,s=e.ce,d=e.av,u=e.ax,c=e.cE,p=e.aE,m=e.aP,h=e.bC,v=e.bL,g=e.aF,f=e.aI,w=e.c5,b=e.a_,y=e.cG,_=e.cH,C=e.bM,x=e.cf,S=e.bS,k=e.aU,P=e.ar,L=e.aq,$=e.H,T=e.j,R=e.e,E=e.v,U=e.h,D=e.k,O=e.n,W=e.B,j=e.G,M=e.p,B=e.a9,A=e.aj,I=e.g,z=e.q,N=e.b8,H=e.cC,q=e.cI,V=e.a,Z=e.b1,X=e.cJ,F=e.cp,K=e.z,Y=e._,G=e.m,J=e.r},e=>{Q=e._},e=>{ee=e._},e=>{te=e._,ae=e.a},e=>{le=e._},e=>{ie=e.u,ne=e._},e=>{oe=e.s},e=>{re=e.l},e=>{se=e.b,de=e.a},e=>{ue=e.u},e=>{ce=e.B,pe=e._,me=e.b,he=e.i,ve=e.d,ge=e.e,fe=e.j},e=>{we=e.V,be=e.W,ye=e.X,_e=e.Y,Ce=e.Z,xe=e._,Se=e.$,ke=e.a0,Pe=e.a1,Le=e.a2,$e=e.a3,Te=e.a4,Re=e.a5,Ee=e.a6,Ue=e.a7,De=e.a8,Oe=e.a9,We=e.aa,je=e.ab,Me=e.ac,Be=e.ad,Ae=e.ae,Ie=e.af,ze=e.ag,Ne=e.ah,He=e.ai,qe=e.aj,Ve=e.ak,Ze=e.al,Xe=e.am,Fe=e.an,Ke=e.ao,Ye=e.ap,Ge=e.aq,Je=e.ar,Qe=e.as,et=e.at,tt=e.au,at=e.av,lt=e.aw,it=e.ax,nt=e.ay,ot=e.az,rt=e.aA,st=e.aB,dt=e.aC,ut=e.aD,ct=e.aE,pt=e.aF,mt=e.aG,ht=e.a},e=>{vt=e.p,gt=e.l,ft=e.d,wt=e.r,bt=e.w,yt=e.y,_t=e.a,Ct=e.k,xt=e.B,St=e.J,kt=e.F,Pt=e.M,Lt=e.$,$t=e.A,Tt=e.v,Rt=e.x,Et=e.I,Ut=e.a1,Dt=e.P,Ot=e.q,Wt=e.ad,jt=e.s,Mt=e.S,Bt=e.Z,At=e._,It=e.V,zt=e.a3,Nt=e.W,Ht=e.b,qt=e.f,Vt=e.af,Zt=e.t,Xt=e.U,Ft=e.al,Kt=e.a5,Yt=e.a6,Gt=e.ai,Jt=e.ag,Qt=e.n},e=>{ea=e._},e=>{ta=e._},e=>{aa=e._,la=e.a},e=>{ia=e._},e=>{na=e._},e=>{oa=e._},e=>{ra=e._},e=>{sa=e._,da=e.a},e=>{ua=e._},e=>{ca=e._,pa=e.a,ma=e.b,ha=e.c},e=>{va=e.a,ga=e.b},e=>{fa=e._},e=>{wa=e._},e=>{ba=e._},e=>{ya=e._},e=>{_a=e._},e=>{Ca=e._},e=>{xa=e._},e=>{Sa=e.c},e=>{ka=e.d}],execute:function(){var Pa=document.createElement("style");Pa.textContent=".warning[data-v-43bec92c]{padding:8px;border-radius:4px;background-color:#fdf6ec;color:#e6a23c}.ul-style[data-v-d249cfd9]{margin:0 auto;display:flex;align-items:center;justify-content:center;gap:20px;font-size:16px}.ul-style li[data-v-d249cfd9]{display:flex;align-items:center}\n",document.head.appendChild(Pa),e("u",ol);var La=Sa((function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}));const $a=e("D",a("download",vt("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},vt("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},vt("g",{fill:"currentColor","fill-rule":"nonzero"},vt("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"})))))),Ta=a("rotateClockwise",vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),vt("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Ra=a("rotateClockwise",vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),vt("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Ea=a("zoomIn",vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),vt("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Ua=a("zoomOut",vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),vt("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Da=gt({name:"ResizeSmall",render:()=>vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},vt("g",{fill:"none"},vt("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}),Oa=l&&"loading"in document.createElement("img"),Wa=new WeakMap,ja=new WeakMap,Ma=new WeakMap,Ba=(e,t,a)=>{if(!e)return()=>{};const l=((e={})=>{var t;const{root:a=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):null!==(t=e.threshold)&&void 0!==t?t:"0"}`,options:Object.assign(Object.assign({},e),{root:("string"==typeof a?document.querySelector(a):a)||document.documentElement})}})(t),{root:i}=l.options;let n;const o=Wa.get(i);let r,s;o?n=o:(n=new Map,Wa.set(i,n)),n.has(l.hash)?(s=n.get(l.hash),s[1].has(e)||(r=s[0],s[1].add(e),r.observe(e))):(r=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=ja.get(e.target),a=Ma.get(e.target);t&&t(),a&&(a.value=!0)}}))}),l.options),r.observe(e),s=[r,new Set([e])],n.set(l.hash,s));let d=!1;const u=()=>{d||(ja.delete(e),Ma.delete(e),d=!0,s[1].has(e)&&(s[0].unobserve(e),s[1].delete(e)),s[1].size<=0&&n.delete(l.hash),n.size||Wa.delete(i))};return ja.set(e,u),Ma.set(e,a),u},Aa=Object.assign(Object.assign({},i.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),Ia=n("n-image"),za=o({name:"Image",common:r,peers:{Tooltip:s},self:function(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}}),Na=vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),Ha=vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),qa=vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),Va=d([d("body >",[u("image-container","position: fixed;")]),u("image-preview-container","\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n "),u("image-preview-overlay","\n z-index: -1;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n background: rgba(0, 0, 0, .3);\n ",[c()]),u("image-preview-toolbar","\n z-index: 1;\n position: absolute;\n left: 50%;\n transform: translateX(-50%);\n border-radius: var(--n-toolbar-border-radius);\n height: 48px;\n bottom: 40px;\n padding: 0 12px;\n background: var(--n-toolbar-color);\n box-shadow: var(--n-toolbar-box-shadow);\n color: var(--n-toolbar-icon-color);\n transition: color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n ",[u("base-icon","\n padding: 0 8px;\n font-size: 28px;\n cursor: pointer;\n "),c()]),u("image-preview-wrapper","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n pointer-events: none;\n ",[p()]),u("image-preview","\n user-select: none;\n -webkit-user-select: none;\n pointer-events: all;\n margin: auto;\n max-height: calc(100vh - 32px);\n max-width: calc(100vw - 32px);\n transition: transform .3s var(--n-bezier);\n "),u("image","\n display: inline-flex;\n max-height: 100%;\n max-width: 100%;\n ",[m("preview-disabled","\n cursor: pointer;\n "),d("img","\n border-radius: inherit;\n ")])]),Za=gt({name:"ImagePreview",props:Object.assign(Object.assign({},Aa),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=i("Image","-image",Va,za,e,ft(e,"clsPrefix"));let a=null;const l=wt(null),n=wt(null),o=wt(void 0),r=wt(!1),s=wt(!1),{localeRef:d}=h("Image");function u(t){var a,l;switch(t.key){case" ":t.preventDefault();break;case"ArrowLeft":null===(a=e.onPrev)||void 0===a||a.call(e);break;case"ArrowRight":null===(l=e.onNext)||void 0===l||l.call(e);break;case"Escape":B()}}bt(r,(e=>{e?C("keydown",document,u):v("keydown",document,u)})),yt((()=>{v("keydown",document,u)}));let c=0,p=0,m=0,b=0,y=0,_=0,k=0,P=0,L=!1;function $(e){const{clientX:t,clientY:a}=e;m=t-c,b=a-p,S(M)}function T(e){const{value:t}=l;if(!t)return{offsetX:0,offsetY:0};const a=t.getBoundingClientRect(),{moveVerticalDirection:i,moveHorizontalDirection:n,deltaHorizontal:o,deltaVertical:r}=e||{};let s=0,d=0;return s=a.width<=window.innerWidth?0:a.left>0?(a.width-window.innerWidth)/2:a.right<window.innerWidth?-(a.width-window.innerWidth)/2:"horizontalRight"===n?Math.min((a.width-window.innerWidth)/2,y-(null!=o?o:0)):Math.max(-(a.width-window.innerWidth)/2,y-(null!=o?o:0)),d=a.height<=window.innerHeight?0:a.top>0?(a.height-window.innerHeight)/2:a.bottom<window.innerHeight?-(a.height-window.innerHeight)/2:"verticalBottom"===i?Math.min((a.height-window.innerHeight)/2,_-(null!=r?r:0)):Math.max(-(a.height-window.innerHeight)/2,_-(null!=r?r:0)),{offsetX:s,offsetY:d}}function R(e){v("mousemove",document,$),v("mouseup",document,R);const{clientX:t,clientY:a}=e;L=!1;const l=function(e){const{mouseUpClientX:t,mouseUpClientY:a,mouseDownClientX:l,mouseDownClientY:i}=e,n=l-t,o=i-a;return{moveVerticalDirection:"vertical"+(o>0?"Top":"Bottom"),moveHorizontalDirection:"horizontal"+(n>0?"Left":"Right"),deltaHorizontal:n,deltaVertical:o}}({mouseUpClientX:t,mouseUpClientY:a,mouseDownClientX:k,mouseDownClientY:P}),i=T(l);m=i.offsetX,b=i.offsetY,M()}const E=_t(Ia,null);let U=0,D=1,O=0;function W(){D=1,U=0}function j(){const{value:e}=l;if(!e)return 1;const{innerWidth:t,innerHeight:a}=window,i=e.naturalHeight/(a-32),n=e.naturalWidth/(t-32);return i<1&&n<1?1:Math.max(i,n)}function M(e=!0){var t;const{value:a}=l;if(!a)return;const{style:i}=a,n=Lt(null===(t=null==E?void 0:E.previewedImgPropsRef.value)||void 0===t?void 0:t.style);let o="";if("string"==typeof n)o=n+";";else for(const l in n)o+=`${La(l)}: ${n[l]};`;const r=`transform-origin: center; transform: translateX(${m}px) translateY(${b}px) rotate(${O}deg) scale(${D});`;i.cssText=L?o+"cursor: grabbing; transition: none;"+r:o+"cursor: grab;"+r+(e?"":"transition: none;"),e||a.offsetHeight}function B(){r.value=!r.value,s.value=!0}const A={setPreviewSrc:e=>{o.value=e},setThumbnailEl:e=>{a=e},toggleShow:B},I=Ct((()=>{const{common:{cubicBezierEaseInOut:e},self:{toolbarIconColor:a,toolbarBorderRadius:l,toolbarBoxShadow:i,toolbarColor:n}}=t.value;return{"--n-bezier":e,"--n-toolbar-icon-color":a,"--n-toolbar-color":n,"--n-toolbar-border-radius":l,"--n-toolbar-box-shadow":i}})),{inlineThemeDisabled:z}=g(),N=z?f("image-preview",void 0,I,e):void 0;return Object.assign({previewRef:l,previewWrapperRef:n,previewSrc:o,show:r,appear:w(),displayed:s,previewedImgProps:null==E?void 0:E.previewedImgPropsRef,handleWheel(e){e.preventDefault()},handlePreviewMousedown:function(e){var t,a;if(null===(a=null===(t=null==E?void 0:E.previewedImgPropsRef.value)||void 0===t?void 0:t.onMousedown)||void 0===a||a.call(t,e),0!==e.button)return;const{clientX:l,clientY:i}=e;L=!0,c=l-m,p=i-b,y=m,_=b,k=l,P=i,M(),C("mousemove",document,$),C("mouseup",document,R)},handlePreviewDblclick:function(e){var t,a;null===(a=null===(t=null==E?void 0:E.previewedImgPropsRef.value)||void 0===t?void 0:t.onDblclick)||void 0===a||a.call(t,e);const l=j();D=D===l?1:l,M()},syncTransformOrigin:function(){const{value:e}=n;if(!a||!e)return;const{style:t}=e,l=a.getBoundingClientRect(),i=l.left+l.width/2,o=l.top+l.height/2;t.transformOrigin=`${i}px ${o}px`},handleAfterLeave:()=>{W(),O=0,s.value=!1},handleDragStart:e=>{var t,a;null===(a=null===(t=null==E?void 0:E.previewedImgPropsRef.value)||void 0===t?void 0:t.onDragstart)||void 0===a||a.call(t,e),e.preventDefault()},zoomIn:function(){const e=function(){const{value:e}=l;if(!e)return 1;const{innerWidth:t,innerHeight:a}=window,i=Math.max(1,e.naturalHeight/(a-32)),n=Math.max(1,e.naturalWidth/(t-32));return Math.max(3,2*i,2*n)}();D<e&&(U+=1,D=Math.min(e,Math.pow(1.5,U)),M())},zoomOut:function(){if(D>.5){const e=D;U-=1,D=Math.max(.5,Math.pow(1.5,U));const t=e-D;M(!1);const a=T();D+=t,M(!1),D-=t,m=a.offsetX,b=a.offsetY,M()}},handleDownloadClick:function(){const e=o.value;e&&ka(e,void 0)},rotateCounterclockwise:function(){O-=90,M()},rotateClockwise:function(){O+=90,M()},handleSwitchPrev:function(){var t;W(),O=0,null===(t=e.onPrev)||void 0===t||t.call(e)},handleSwitchNext:function(){var t;W(),O=0,null===(t=e.onNext)||void 0===t||t.call(e)},withTooltip:function(a,l){if(e.showToolbarTooltip){const{value:e}=t;return vt(x,{to:!1,theme:e.peers.Tooltip,themeOverrides:e.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>d.value[l],trigger:()=>a})}return a},resizeToOrignalImageSize:function(){D=j(),U=Math.ceil(Math.log(D)/Math.log(1.5)),m=0,b=0,M()},cssVars:z?void 0:I,themeClass:null==N?void 0:N.themeClass,onRender:null==N?void 0:N.onRender},A)},render(){var e,t;const{clsPrefix:a,renderToolbar:l,withTooltip:i}=this,n=i(vt(b,{clsPrefix:a,onClick:this.handleSwitchPrev},{default:()=>Na}),"tipPrevious"),o=i(vt(b,{clsPrefix:a,onClick:this.handleSwitchNext},{default:()=>Ha}),"tipNext"),r=i(vt(b,{clsPrefix:a,onClick:this.rotateCounterclockwise},{default:()=>vt(Ra,null)}),"tipCounterclockwise"),s=i(vt(b,{clsPrefix:a,onClick:this.rotateClockwise},{default:()=>vt(Ta,null)}),"tipClockwise"),d=i(vt(b,{clsPrefix:a,onClick:this.resizeToOrignalImageSize},{default:()=>vt(Da,null)}),"tipOriginalSize"),u=i(vt(b,{clsPrefix:a,onClick:this.zoomOut},{default:()=>vt(Ua,null)}),"tipZoomOut"),c=i(vt(b,{clsPrefix:a,onClick:this.handleDownloadClick},{default:()=>vt($a,null)}),"tipDownload"),p=i(vt(b,{clsPrefix:a,onClick:this.toggleShow},{default:()=>qa}),"tipClose"),m=i(vt(b,{clsPrefix:a,onClick:this.zoomIn},{default:()=>vt(Ea,null)}),"tipZoomIn");return vt(kt,null,null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e),vt(y,{show:this.show},{default:()=>{var e;return this.show||this.displayed?(null===(e=this.onRender)||void 0===e||e.call(this),xt(vt("div",{class:[`${a}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},vt(St,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?vt("div",{class:`${a}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?vt(St,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?vt("div",{class:`${a}-image-preview-toolbar`},l?l({nodes:{prev:n,next:o,rotateCounterclockwise:r,rotateClockwise:s,resizeToOriginalSize:d,zoomOut:u,zoomIn:m,download:c,close:p}}):vt(kt,null,this.onPrev?vt(kt,null,n,o):null,r,s,d,u,m,c,p)):null}):null,vt(St,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:e={}}=this;return xt(vt("div",{class:`${a}-image-preview-wrapper`,ref:"previewWrapperRef"},vt("img",Object.assign({},e,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${a}-image-preview`,e.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[Pt,this.show]])}})),[[_,{enabled:this.show}]])):null}}))}}),Xa=n("n-image-group"),Fa=(e("N",gt({name:"ImageGroup",props:Aa,setup(e){let t;const{mergedClsPrefixRef:a}=g(e),l=`c${k()}`,i=Tt(),n=e=>{var a;t=e,null===(a=r.value)||void 0===a||a.setPreviewSrc(e)};function o(a){var o,r;if(!(null==i?void 0:i.proxy))return;const s=i.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${l}]:not([data-error=true])`);if(!s.length)return;const d=Array.from(s).findIndex((e=>e.dataset.previewSrc===t));n(~d?s[(d+a+s.length)%s.length].dataset.previewSrc:s[0].dataset.previewSrc),1===a?null===(o=e.onPreviewNext)||void 0===o||o.call(e):null===(r=e.onPreviewPrev)||void 0===r||r.call(e)}$t(Xa,{mergedClsPrefixRef:a,setPreviewSrc:n,setThumbnailEl:e=>{var t;null===(t=r.value)||void 0===t||t.setThumbnailEl(e)},toggleShow:()=>{var e;null===(e=r.value)||void 0===e||e.toggleShow()},groupId:l,renderToolbarRef:ft(e,"renderToolbar")});const r=wt(null);return{mergedClsPrefix:a,previewInstRef:r,next:()=>{o(1)},prev:()=>{o(-1)}}},render(){return vt(Za,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},this.$slots)}})),Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Aa)),Ka=e("_",gt({name:"Image",props:Fa,inheritAttrs:!1,setup(e){const t=wt(null),a=wt(!1),l=wt(null),i=_t(Xa,null),{mergedClsPrefixRef:n}=i||g(e),o={click:()=>{if(e.previewDisabled||a.value)return;const n=e.previewSrc||e.src;if(i)return i.setPreviewSrc(n),i.setThumbnailEl(t.value),void i.toggleShow();const{value:o}=l;o&&(o.setPreviewSrc(n),o.setThumbnailEl(t.value),o.toggleShow())}},r=wt(!e.lazy);Rt((()=>{var e;null===(e=t.value)||void 0===e||e.setAttribute("data-group-id",(null==i?void 0:i.groupId)||"")})),Rt((()=>{if(e.lazy&&e.intersectionObserverOptions){let a;const l=Et((()=>{null==a||a(),a=void 0,a=Ba(t.value,e.intersectionObserverOptions,r)}));yt((()=>{l(),null==a||a()}))}})),Et((()=>{var t;e.src||null===(t=e.imgProps)||void 0===t||t.src,a.value=!1}));const s=wt(!1);return $t(Ia,{previewedImgPropsRef:ft(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:n,groupId:null==i?void 0:i.groupId,previewInstRef:l,imageRef:t,showError:a,shouldStartLoading:r,loaded:s,mergedOnClick:t=>{var a,l;o.click(),null===(l=null===(a=e.imgProps)||void 0===a?void 0:a.onClick)||void 0===l||l.call(a,t)},mergedOnError:t=>{if(!r.value)return;a.value=!0;const{onError:l,imgProps:{onError:i}={}}=e;null==l||l(t),null==i||i(t)},mergedOnLoad:t=>{const{onLoad:a,imgProps:{onLoad:l}={}}=e;null==a||a(t),null==l||l(t),s.value=!0}},o)},render(){var e,t;const{mergedClsPrefix:a,imgProps:l={},loaded:i,$attrs:n,lazy:o}=this,r=null===(t=(e=this.$slots).placeholder)||void 0===t?void 0:t.call(e),s=this.src||l.src,d=vt("img",Object.assign(Object.assign({},l),{ref:"imageRef",width:this.width||l.width,height:this.height||l.height,src:this.showError?this.fallbackSrc:o&&this.intersectionObserverOptions?this.shouldStartLoading?s:void 0:s,alt:this.alt||l.alt,"aria-label":this.alt||l.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Oa&&o&&!this.intersectionObserverOptions?"lazy":"eager",style:[l.style||"",r&&!i?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return vt("div",Object.assign({},n,{role:"none",class:[n.class,`${a}-image`,(this.previewDisabled||this.showError)&&`${a}-image--preview-disabled`]}),this.groupId?d:vt(Za,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:a,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},{default:()=>d,toolbar:()=>{var e,t;return null===(t=(e=this.$slots).toolbar)||void 0===t?void 0:t.call(e)}}),!i&&r)}})),Ya=(e("b",(e=>P.post("/site?action=AddWPSite",{...e,webname:JSON.stringify(e.webname),project_type:"WP2"},{requestOptions:{loading:"Creating website, please wait..."}}))),e("g",(e=>P.post("/site?action=get_wp_versions",e))),e("i",(e=>P.post("/site?action=wp_backup_list",e))),e("j",((e,t=!0)=>P.post("/site?action=wp_backup",e,{requestOptions:{loading:t?"Backing up, please wait...":"",successMessage:t}})))),{t:Ga}=(e("r",((e,t=!0)=>P.post("/site?action=wp_restore",e,{requestOptions:{loading:t?"Restoring, please wait...":"",successMessage:!0}}))),e("h",((e,t=!0)=>P.post("/site?action=wp_remove_backup",e,{requestOptions:{loading:t?"Processing, please wait...":"",successMessage:t}}))),e("e",(()=>P.post("/site?action=wp_can_migrate_from_website_to_wptoolkit"))),e("m",(()=>P.post("/site?action=wp_migrate_from_website_to_wptoolkit",{},{requestOptions:{loading:"Migrating, please wait...",successMessage:!0}}))),e("q",(e=>P.post("/site?action=get_wp_security_info",e))),e("o",(e=>P.post("/site?action=open_wp_file_protection",{paths:JSON.stringify(e.paths)},{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}))),e("l",(e=>P.post("/site?action=close_wp_file_protection",e,{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}))),e("k",(e=>P.post("/site?action=get_wp_file_info",e))),e("n",(e=>P.post("/site?action=open_wp_firewall_protection",{obj:"open",...e},{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}))),e("p",(e=>P.post("/site?action=close_wp_firewall_protection",e,{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}))),e("f",(e=>P.post("/site?action=wp_clone",e,{requestOptions:{loading:L.global.t("WP.api.index_1"),successMessage:!0}}))),e("c",(e=>P.post("/site?action=wp_create_with_aap_bak",e,{requestOptions:{loading:L.global.t("WP.api.index_2"),successMessage:!0}}))),e("d",(e=>P.post("/site?action=wp_create_with_plesk_or_cpanel_bak",e,{requestOptions:{loading:L.global.t("WP.api.index_2"),successMessage:!0}}))),L.global);function Ja(e){$({title:1===e.length?`${Ga("Site.Cert.DelSite")} [${e[0].name}]`:`${Ga("Site.Cert.BathDelSite")}`,width:480,minHeight:248,footer:!0,data:{rows:e},component:Ut((()=>E((()=>t.import("./index-legacy114.js?v=1720690738171")),void 0)))})}function Qa({onClick:e}){return{key:"ssl",title:Ga("Site.TableRow.SSL"),width:"9%",minWidth:100,render:t=>{const{ssl:a}=t;return T(a)?Dt(R,{type:a.endtime<0?"error":"primary",onClick:()=>{e(t)}},{default:()=>[a.endtime<0?"Expired":`Exp in ${a.endtime} days`]}):Dt(R,{type:"warning",onClick:()=>{e(t)}},{default:()=>[Ot("Not Set")]})}}}const el=e=>{const{row:t}=e;return Dt("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;"},[t.name])},tl=e=>{const{row:a}=e,{t:l}=Wt();return Dt(R,{type:a.backup_count>0?"primary":"warning",onClick:()=>{$({title:`${l("Site.Config.Back.Title")} [${a.name}]`,width:720,minHeight:200,data:{row:a},component:Ut((()=>E((()=>t.import("./index-legacy115.js?v=1720690738171")),void 0)))})}},{default:()=>[a.backup_count>0?`Exists(${a.backup_count})`:"Not exist"]})},al=e=>{let a;const{row:l}=e,{t:i}=Wt();return Dt(R,{onClick:()=>{$({title:`${i("WP.Config.Protection.Title")} [${l.name}]`,width:600,minHeight:228,data:{site:l},component:Ut((()=>E((()=>t.import("./index-legacy116.js?v=1720690738171")),void 0)))})}},"function"==typeof(n=a=i("Public.Btn.Setup"))||"[object Object]"===Object.prototype.toString.call(n)&&!jt(n)?a:{default:()=>[a]});var n},ll=e=>{const{row:t}=e;return Dt(R,null,{default:()=>[t.wp_version]})},il=e=>{const{row:t}=e;return Dt(R,null,{default:()=>[t.php_version]})},nl=Symbol("server-list");function ol(){return _t(nl)}const{t:rl}=L.global;function sl(){return{key:"name",title:rl("Site.TableRow.Domain"),render:e=>Dt(R,{href:`http://${e.name}:${e.port}`,target:"_blank"},{default:()=>[e.name]})}}function dl(){return{key:"port",title:rl("Site.TableRow.Port"),width:100}}function ul(){return{key:"action",title:rl("Site.TableRow.OPT"),width:80,align:"right",render:()=>Dt("span",{class:"text-default"},[rl("Site.TableOP.Inoperable")])}}function cl({delDomain:e}){return{key:"action",title:rl("Site.TableRow.OPT"),width:80,align:"right",render:t=>Dt(ce,{options:[{label:rl("Site.TableOP.Del"),onClick:()=>{U({title:`${rl("Site.Batch.DeleteDomain.Title")}[${t.name}]`,content:rl("Site.Batch.DeleteDomain.Content"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const pl={class:"flex justify-between items-center mb-24px"},ml={class:"w-400px"},hl={class:"pr-40px"},vl=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),{data:l}=ol(),i=wt(""),n=async()=>{""!==i.value.trim()?(await ye({id:l.id,webname:l.name,domain:i.value.trim().split("\n").join(",")}),i.value="",m()):O.error(a("Site.RulesError.Domain"))},o=async e=>{await we({id:l.id,webname:l.name,domain:e.name,port:e.port}),m()},{keys:r,table:s,columns:d}=ie([{type:"selection",width:40},sl(),dl(),cl({delDomain:o})]),u=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),api:e=>we({id:l.id,webname:l.name,domain:e.name,port:e.port},!1),done:()=>{m()},columns:[{key:"name",title:a("Site.Cert.HolderTable.Domain"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:c,setLoading:p}=ue(),m=async()=>{try{p(!0);const e={id:l.id},{message:t}=await be(e);s.data=D(t)?t:[],s.data.length>1?d.value[d.value.length-1]=cl({delDomain:o}):d.value[d.value.length-1]=ul()}finally{r.value=[],p(!1)}};return m(),t({init:m}),(e,t)=>{const a=ta,l=W,o=ne,p=le,m=ee;return Mt(),Bt("div",null,[At("div",pl,[At("div",ml,[Dt(a,{value:Nt(i),"onUpdate:value":t[0]||(t[0]=e=>Ht(i)?i.value=e:null)},{default:It((()=>[At("p",null,zt(e.$t("Site.Config.Domain.TopTips.0")),1),At("p",null,zt(e.$t("Site.Config.Domain.TopTips.1")),1),At("p",null,zt(e.$t("Site.Config.Domain.TopTips.2")),1)])),_:1},8,["value"])]),At("div",hl,[Dt(l,{type:"primary",onClick:n},{default:It((()=>[Ot(zt(e.$t("Site.Cert.Add")),1)])),_:1})])]),Dt(m,null,{table:It((()=>[Dt(o,{"checked-row-keys":Nt(r),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ht(r)?r.value=e:null),loading:Nt(c),"max-height":400,data:Nt(s).data,columns:Nt(d)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:It((()=>[Dt(p,{"checked-row-keys":Nt(r),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>Ht(r)?r.value=e:null),data:Nt(s).data,options:u},null,8,["checked-row-keys","data"])])),_:1})])}}}),gl={class:"pt-16px"},fl={class:"flex-1"},wl={class:"w-240px"},bl={class:"mt-8px text-desc"},yl={class:"flex-1"},_l={class:"w-240px"},Cl={class:"mt-12px text-desc"},xl={class:"my-16px"},Sl={class:"text-desc"},kl=At("div",{class:"text-desc"},null,-1),Pl={class:"my-20px"},Ll=At("div",{class:"text-desc"},null,-1),$l={class:"w-240px"},Tl={class:"w-240px"},Rl={class:"w-240px"},El=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),{data:l}=ol(),i=wt("");let n="";const o=async()=>{""!==i.value.trim()?i.value!==n?(await _e({id:l.id,name:l.name,path:i.value}),w()):O.success(a("Site.RulesError.OriginalPath")):O.error(a("Site.RulesError.Directory"))},r=wt(null),s=wt([]),d=async()=>{null!==r.value?(await Ce({id:l.id,runPath:r.value}),w()):O.error(a("Site.RulesError.RuntimeDirectory"))},u=wt(!1),c=async()=>{await xe({id:l.id,path:l.path}),w()},p=wt(!1),m=async()=>{await Se({id:l.id}),w()},h=wt(!1),v=qt({username_get:"",password_get_1:"",password_get_2:""}),g=async e=>{e||(await ke({id:l.id}),w())},f=async()=>{""!==v.username_get.trim()?""!==v.password_get_1.trim()?""!==v.password_get_2.trim()?v.username_get.trim().length<3||v.password_get_1.trim().length<3?O.error(a("Site.RulesError.UserName2")):v.password_get_1.trim()===v.password_get_2.trim()?(await Pe({id:l.id,username:v.username_get,password:v.password_get_1}),v.username_get="",v.password_get_1="",v.password_get_2="",w()):O.error(a("Site.RulesError.Password3")):O.error(a("Site.RulesError.Password2")):O.error(a("Site.RulesError.Password1")):O.error(a("Site.RulesError.UserName1"))},w=()=>{(async()=>{const{message:e}=await Le({id:l.id});T(e)&&(i.value=e.result||"/www",n=i.value)})(),(async()=>{const{message:e}=await $e({id:l.id,path:l.path});if(T(e)){r.value=A(e,"runPath.runPath",null),u.value=A(e,"userini",!1),p.value=A(e,"logs.result",!1),h.value=A(e,"pass.result",!1);const t=A(e,"runPath.dirs",[]);s.value=t.map((e=>({label:e,value:e})))}})()};return w(),t({init:w}),(e,t)=>{const a=ia,l=W,n=j,w=aa,b=na,y=M,_=pe,C=B,x=la;return Mt(),Bt("div",gl,[Dt(x,{"label-width":"140"},{default:It((()=>[Dt(w,{label:e.$t("Site.Lable.SiteDirectory"),"show-feedback":!1},{default:It((()=>[At("div",fl,[Dt(n,null,{default:It((()=>[At("div",wl,[Dt(a,{value:Nt(i),"onUpdate:value":t[0]||(t[0]=e=>Ht(i)?i.value=e:null)},null,8,["value"])]),Dt(l,{type:"primary",onClick:o},{default:It((()=>[Ot(zt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1}),At("div",bl,zt(e.$t("Site.Config.SiteDirectory.Content")),1)])])),_:1},8,["label"]),Dt(w,{class:"mt-16px",label:e.$t("Site.Lable.RunningDirectory"),"show-feedback":!1},{default:It((()=>[At("div",yl,[Dt(n,null,{default:It((()=>[At("div",_l,[Dt(b,{value:Nt(r),"onUpdate:value":t[1]||(t[1]=e=>Ht(r)?r.value=e:null),options:Nt(s)},null,8,["value","options"])]),Dt(l,{type:"primary",onClick:d},{default:It((()=>[Ot(zt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1}),At("div",Cl,zt(e.$t("Site.Config.SiteDirectory.Content1")),1)])])),_:1},8,["label"]),At("div",xl,[Dt(y,{dashed:""})]),Dt(w,{label:e.$t("Site.Lable.AntiXSS"),"show-feedback":!1},{default:It((()=>[Dt(n,{class:"items-center"},{default:It((()=>[Dt(_,{value:Nt(u),"onUpdate:value":[t[2]||(t[2]=e=>Ht(u)?u.value=e:null),c]},null,8,["value"]),At("div",Sl,zt(e.$t("Site.Config.SiteDirectory.Content2")),1)])),_:1})])),_:1},8,["label"]),Dt(w,{class:"mt-16px",label:e.$t("Site.Lable.WriteAL"),"show-feedback":!1},{default:It((()=>[Dt(n,{class:"items-center"},{default:It((()=>[Dt(_,{value:Nt(p),"onUpdate:value":[t[3]||(t[3]=e=>Ht(p)?p.value=e:null),m]},null,8,["value"]),kl])),_:1})])),_:1},8,["label"]),At("div",Pl,[Dt(y,{dashed:""})]),Dt(w,{label:e.$t("Site.Lable.PasswordAccess"),"show-feedback":!1},{default:It((()=>[Dt(n,{class:"items-center"},{default:It((()=>[Dt(_,{value:Nt(h),"onUpdate:value":[t[4]||(t[4]=e=>Ht(h)?h.value=e:null),g]},null,8,["value"]),Ll])),_:1})])),_:1},8,["label"]),Nt(h)?(Mt(),Bt(kt,{key:0},[Dt(w,{class:"mt-16px",label:e.$t("Site.Lable.Authorized"),"show-feedback":!1},{default:It((()=>[At("div",$l,[Dt(C,{value:Nt(v).username_get,"onUpdate:value":t[5]||(t[5]=e=>Nt(v).username_get=e),placeholder:"Please leave blank if not modified"},null,8,["value"])])])),_:1},8,["label"]),Dt(w,{class:"mt-16px",label:e.$t("Site.Lable.PasswordAccess"),"show-feedback":!1},{default:It((()=>[At("div",Tl,[Dt(C,{value:Nt(v).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>Nt(v).password_get_1=e),type:"password",placeholder:"Please leave blank if not modified"},null,8,["value"])])])),_:1},8,["label"]),Dt(w,{class:"mt-16px",label:e.$t("Site.Lable.RepeatPassword"),"show-feedback":!1},{default:It((()=>[At("div",Rl,[Dt(C,{value:Nt(v).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>Nt(v).password_get_2=e),type:"password",placeholder:"Please leave blank if not modified"},null,8,["value"])])])),_:1},8,["label"]),Dt(w,{class:"mt-16px",label:" ","show-feedback":!1},{default:It((()=>[Dt(l,{type:"primary",onClick:f},{default:It((()=>[Ot(zt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})],64)):Vt("",!0)])),_:1})])}}}),Ul={class:"p-20px"},Dl={class:"w-280px"},Ol={class:"w-280px"},Wl={class:"w-280px"},jl={class:"w-280px"},Ml=gt({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Wt(),l=e,{isEdit:i,siteId:n,row:o,getList:r}=l.data,s=wt(null),d=qt({name:"",site_dir:"",username:"",password:""}),u={name:{required:!0,message:a("Site.RulesError.Name"),trigger:["blur","input"]},site_dir:{required:!0,message:a("Site.RulesError.Path"),trigger:["blur","input"]},username:{required:!0,message:a("Site.RulesError.UserName1"),trigger:["blur","input"]},password:{required:!0,message:a("Site.RulesError.Password1"),trigger:["blur","input"]}};return i&&o&&(d.name=o.name,d.site_dir=o.site_dir),t({onConfirm:async({hide:e})=>{await(s.value?.validate()),i?await Te({id:n,name:d.name,username:d.username,password:d.password}):await Re({...Zt(d),id:n}),r?.(),e()}}),(e,t)=>{const a=B,l=aa,n=la,o=ra;return Mt(),Bt("div",Ul,[Dt(n,{ref_key:"formRef",ref:s,model:Nt(d),rules:u},{default:It((()=>[Dt(l,{label:e.$t("Site.TableRow.Name"),path:"name"},{default:It((()=>[At("div",Dl,[Dt(a,{value:Nt(d).name,"onUpdate:value":t[0]||(t[0]=e=>Nt(d).name=e),disabled:Nt(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.TableRow.Path"),path:"site_dir"},{default:It((()=>[At("div",Ol,[Dt(a,{value:Nt(d).site_dir,"onUpdate:value":t[1]||(t[1]=e=>Nt(d).site_dir=e),disabled:Nt(i),placeholder:"Enter the path: /text/，/test/api"},null,8,["value","disabled"])])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.UserName"),path:"username"},{default:It((()=>[At("div",Wl,[Dt(a,{value:Nt(d).username,"onUpdate:value":t[2]||(t[2]=e=>Nt(d).username=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.Password"),path:"password"},{default:It((()=>[At("div",jl,[Dt(a,{value:Nt(d).password,"onUpdate:value":t[3]||(t[3]=e=>Nt(d).password=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Dt(o,{class:"mt-4px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.LimitAccess.Tips.0")),1),At("li",null,zt(e.$t("Site.Config.LimitAccess.Tips.1")),1)])),_:1})])}}}),Bl=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),{data:l}=ol(),{keys:i,table:n,columns:o}=ie([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:a("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},me({width:130,options:e=>[{label:a("Site.TableOP.Edit"),onClick:()=>{m(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{U({title:`${a("Site.TableOP.Delete")} [${e.name}]`,content:a("Site.Batch.DeleteDomain.Content1"),onConfirm:async({hide:t})=>{await Ee({id:l.id,name:e.name}),u(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[o.value[1]],api:e=>Ee({id:l.id,name:e.name},!1),done:()=>{u()}}}],{loading:s,setLoading:d}=ue(),u=async()=>{try{d(!0);const{message:e}=await Ue({id:l.id});if(T(e)){n.data=[];for(const[t,a]of Object.entries(e))if(l.name===t){n.data=a;break}}}finally{i.value=[],d(!1)}},c=I(a("Site.Config.LimitAccess.Add"),{row:void 0,siteId:l.id,isEdit:!1,getList:u}),p=()=>{c.data.isEdit=!1,c.title=a("Site.Config.LimitAccess.Add"),c.show=!0},m=e=>{c.data.row=e,c.data.isEdit=!0,c.title=a("Site.Config.LimitAccess.Edit"),c.show=!0};return u(),t({init:u}),(e,t)=>{const a=W,l=ne,d=le,u=ee,m=ra,h=z;return Mt(),Bt("div",null,[Dt(u,null,{toolsLeft:It((()=>[Dt(a,{type:"primary",onClick:p},{default:It((()=>[Ot(zt(e.$t("Site.Config.LimitAccess.Add")),1)])),_:1})])),table:It((()=>[Dt(l,{"checked-row-keys":Nt(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ht(i)?i.value=e:null),"row-key":"name",loading:Nt(s),"max-height":440,data:Nt(n).data,columns:Nt(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:It((()=>[Dt(d,{"checked-row-keys":Nt(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ht(i)?i.value=e:null),"row-key":"name",data:Nt(n).data,options:r},null,8,["checked-row-keys","data"])])),_:1}),Dt(m,{class:"mt-16px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.LimitAccess.Tips.0")),1),At("li",null,zt(e.$t("Site.Config.LimitAccess.Tips.1")),1)])),_:1}),Dt(h,{show:Nt(c).show,"onUpdate:show":t[2]||(t[2]=e=>Nt(c).show=e),title:Nt(c).title,data:Nt(c).data,width:480,footer:!0,component:Ml},null,8,["show","title","data"])])}}}),Al={class:"p-20px"},Il={class:"w-280px"},zl={class:"w-280px"},Nl={class:"w-280px"},Hl=At("li",null,"Name: The rule name.",-1),ql=At("li",null," Suffix: Indicates the suffix that is not allowed to access, if there are more than one, separate with'|' ",-1),Vl=At("li",null,"Path: Quote rules in this directory. e.g: /a/",-1),Zl=At("li",null,"For Example, if you want to deny http://test.com/a/index.php",-1),Xl=At("li",null,"Please fill in [ /a/ ]",-1),Fl=gt({__name:"form",props:{data:{}},setup(e,{expose:t}){const a=e,{isEdit:l,siteName:i,row:n,getList:o}=a.data,r=wt(null),s=qt({deny_name:"",suffix:"php|jsp",dir:""}),d={deny_name:{required:!0,message:"Please enter the name",trigger:["blur","input"]},suffix:{required:!0,message:"Please enter the path",trigger:["blur","input"]},dir:{required:!0,message:"Please enter the username",trigger:["blur","input"]}},u=()=>({...Zt(s),dir:s.dir.replace(/\/$/,"")+"/",website:i});return l&&n&&(s.deny_name=n.name,s.suffix=n.suffix,s.dir=n.dir),t({onConfirm:async({hide:e})=>{await(r.value?.validate()),l?await De(u()):await Oe(u()),o?.(),e()}}),(e,t)=>{const a=B,i=aa,n=la,o=ra;return Mt(),Bt("div",Al,[Dt(n,{ref_key:"formRef",ref:r,model:Nt(s),rules:d},{default:It((()=>[Dt(i,{label:"Name",path:"deny_name"},{default:It((()=>[At("div",Il,[Dt(a,{value:Nt(s).deny_name,"onUpdate:value":t[0]||(t[0]=e=>Nt(s).deny_name=e),disabled:Nt(l),placeholder:"The rule name"},null,8,["value","disabled"])])])),_:1}),Dt(i,{label:"Suffix",path:"suffix"},{default:It((()=>[At("div",zl,[Dt(a,{value:Nt(s).suffix,"onUpdate:value":t[1]||(t[1]=e=>Nt(s).suffix=e),placeholder:"Suffixes that are not allowed"},null,8,["value"])])])),_:1}),Dt(i,{label:"Path",path:"dir"},{default:It((()=>[At("div",Nl,[Dt(a,{value:Nt(s).dir,"onUpdate:value":t[2]||(t[2]=e=>Nt(s).dir=e),placeholder:"Quote rules in this directory. e.g: /a/"},null,8,["value"])])])),_:1})])),_:1},8,["model"]),Dt(o,{class:"mt-4px"},{default:It((()=>[Hl,ql,Vl,Zl,Xl])),_:1})])}}}),Kl=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),{data:l}=ol(),{keys:i,table:n,columns:o}=ie([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.Suffix"),ellipsis:{tooltip:{width:"trigger"}}},me({width:130,options:e=>[{label:a("Site.TableOP.Edit"),onClick:()=>{m(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{U({title:`${a("Site.TableOP.Delete")} [${e.name}]`,content:a("Site.Batch.DeleteDomain.Content1"),onConfirm:async({hide:t})=>{await We({website:l.name,deny_name:e.name}),u(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[o.value[1]],api:e=>We({website:l.name,deny_name:e.name},!1),done:()=>{u()}}}],{loading:s,setLoading:d}=ue(),u=async()=>{try{d(!0);const{message:e}=await je({website:l.name});n.data=D(e)?e:[]}finally{i.value=[],d(!1)}},c=I(a("Site.Config.LimitAccess.Add"),{row:void 0,siteName:l.name,isEdit:!1,getList:u}),p=()=>{c.data.row=void 0,c.data.isEdit=!1,c.title=a("Site.Config.LimitAccess.Add"),c.show=!0},m=e=>{c.data.row=e,c.data.isEdit=!0,c.title=a("Site.Config.LimitAccess.Edit"),c.show=!0};return u(),t({init:u}),(e,t)=>{const a=W,l=ne,d=le,u=ee,m=ra,h=z;return Mt(),Bt("div",null,[Dt(u,null,{toolsLeft:It((()=>[Dt(a,{type:"primary",onClick:p},{default:It((()=>[Ot(zt(e.$t("Site.Config.LimitAccess.Add")),1)])),_:1})])),table:It((()=>[Dt(l,{"checked-row-keys":Nt(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ht(i)?i.value=e:null),"row-key":"name",loading:Nt(s),"max-height":440,data:Nt(n).data,columns:Nt(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:It((()=>[Dt(d,{"checked-row-keys":Nt(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ht(i)?i.value=e:null),"row-key":"name",data:Nt(n).data,options:r},null,8,["checked-row-keys","data"])])),_:1}),Dt(m,{class:"mt-16px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.LimitAccess.Tips.2"))+" |",1),At("li",null,zt(e.$t("Site.Config.LimitAccess.Tips.3")),1),At("li",null,zt(e.$t("Site.Config.LimitAccess.Tips.4")),1),At("li",null,zt(e.$t("Site.Config.LimitAccess.Tips.5")),1)])),_:1}),Dt(h,{show:Nt(c).show,"onUpdate:show":t[2]||(t[2]=e=>Nt(c).show=e),title:Nt(c).title,data:Nt(c).data,width:480,footer:!0,component:Fl},null,8,["show","title","data"])])}}}),Yl=gt({__name:"index",setup(e){const t=wt("limit"),a=[{key:"limit",label:"Limit access",component:Bl},{key:"deny",label:"Deny access",component:Kl}];return(e,l)=>{const i=oa;return Mt(),Xt(i,{value:Nt(t),"onUpdate:value":l[0]||(l[0]=e=>Ht(t)?t.value=e:null),data:a},null,8,["value"])}}}),Gl={class:"pt-8px"},Jl={class:"w-200px"},Ql={class:"flex flex-col"},ei={class:"w-200px"},ti={class:"mt-8px text-desc"},ai={class:"flex flex-col"},li={class:"w-200px"},ii={class:"mt-8px text-desc"},ni={class:"flex flex-col"},oi={class:"w-200px"},ri={class:"mt-8px text-desc"},si=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),{data:l}=ol(),i=wt(null),n=qt({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),o={perserver:{trigger:["blur","change"],validator:()=>!!n.perserver||new Error(a("Site.RulesError.Concurrency"))},perip:{trigger:["blur","change"],validator:()=>!!n.perip||new Error(a("Site.RulesError.SingleIP"))},limit_rate:{trigger:["blur","change"],validator:()=>!!n.limit_rate||new Error(a("Site.RulesError.Traffic"))}},r=wt([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),s=async e=>{e?c():(await Me({id:l.id}),p())},d=(e,t)=>{const{items:a}=t;T(a)&&u(a)},u=e=>{n.perserver=e.perserver,n.perip=e.perip,n.limit_rate=e.limit_rate},c=async()=>{await(i.value?.validate()),await Be({id:l.id,perserver:n.perserver,perip:n.perip,limit_rate:n.limit_rate}),p()},p=async()=>{const{message:e}=await Ae({id:l.id});T(e)&&(n.status=0!=e.perserver,u(r.value[0].items),N(e.perserver)&&0!=e.perserver&&(n.perserver=e.perserver),N(e.perip)&&0!=e.perip&&(n.perip=e.perip),N(e.limit_rate)&&0!=e.limit_rate&&(n.limit_rate=e.limit_rate))};return p(),t({init:p}),(e,t)=>{const a=sa,l=aa,u=na,p=H,m=W,h=la;return Mt(),Bt("div",Gl,[Dt(h,{ref_key:"formRef",ref:i,"label-width":"150",class:"px-8px",model:Nt(n),rules:o},{default:It((()=>[Dt(l,{label:" "},{default:It((()=>[Dt(a,{checked:Nt(n).status,"onUpdate:checked":[t[0]||(t[0]=e=>Nt(n).status=e),s]},{default:It((()=>[Ot(zt(e.$t("Site.Config.TrafficCofig.Tips.0")),1)])),_:1},8,["checked"])])),_:1}),Dt(l,{label:e.$t("Site.Lable.Limit"),path:"type"},{default:It((()=>[At("div",Jl,[Dt(u,{value:Nt(n).type,"onUpdate:value":[t[1]||(t[1]=e=>Nt(n).type=e),d],options:Nt(r)},null,8,["value","options"])])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.Concurrency"),path:"perserver"},{default:It((()=>[At("div",Ql,[At("div",ei,[Dt(p,{value:Nt(n).perserver,"onUpdate:value":t[2]||(t[2]=e=>Nt(n).perserver=e),"show-button":!1,min:0},null,8,["value"])]),At("div",ti,zt(e.$t("Site.Config.TrafficCofig.Tips.1")),1)])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.BlockIP"),path:"perip"},{default:It((()=>[At("div",ai,[At("div",li,[Dt(p,{value:Nt(n).perip,"onUpdate:value":t[3]||(t[3]=e=>Nt(n).perip=e),"show-button":!1,min:0},null,8,["value"])]),At("div",ii,zt(e.$t("Site.Config.TrafficCofig.Tips.2")),1)])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Config.Traffic"),path:"limit_rate"},{default:It((()=>[At("div",ni,[At("div",oi,[Dt(p,{value:Nt(n).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>Nt(n).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),At("div",ri,zt(e.$t("Site.Config.TrafficCofig.Tips.3")),1)])])),_:1},8,["label"]),Dt(l,{label:" "},{default:It((()=>[Dt(m,{type:"primary",onClick:c},{default:It((()=>[Ot(zt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),di={class:"mt-8px"},ui=gt({__name:"index",setup(e,{expose:t}){const{data:a}=ol(),l=q(),i=wt(null),n=wt((()=>{const{webserver:e}=l;return`/www/server/panel/vhost/${"openlitespeed"===e?`${e}/detail`:e}/${a.name}.conf`})()),o=async()=>{i.value?.getContent()},r=()=>{i.value?.saveFile()};return Rt((()=>{o()})),t({init:o}),(e,t)=>{const a=W,l=ra;return Mt(),Bt("div",null,[Dt(ua,{ref_key:"configRef",ref:i,path:Nt(n),"onUpdate:path":t[0]||(t[0]=e=>Ht(n)?n.value=e:null),height:"500"},null,8,["path"]),At("div",di,[Dt(a,{type:"primary",onClick:r},{default:It((()=>[Ot(zt(e.$t("Site.Cert.Save")),1)])),_:1})]),Dt(l,{class:"mt-16px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.ConfConfig.Tips.0")),1),At("li",null,zt(e.$t("Site.Config.ConfConfig.Tips.1")),1)])),_:1})])}}}),ci={class:"p-8"},pi=At("li",null,"Directory temporarily only supports reading alarm operation",-1),mi=gt({__name:"form",setup(e,{expose:t}){const a=wt(null),l=wt(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=qt({path:"",operation:[]}),o=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{await(a.value?.validate())}}),(e,t)=>{const r=ia,s=aa,d=sa,u=fa,c=da,p=la,m=j,h=ra;return Mt(),Bt("div",ci,[Dt(m,null,{default:It((()=>[Dt(p,{ref_key:"formRef",ref:a,model:Nt(n),rules:i},{default:It((()=>[Dt(s,{label:"Detection path",path:"path"},{default:It((()=>[Dt(r,{disabled:"",value:Nt(n).path,"onUpdate:value":t[0]||(t[0]=e=>Nt(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:o},null,8,["value"])])),_:1}),Dt(s,{label:"Alert operation",path:"operation"},{default:It((()=>[Dt(c,{value:Nt(n).operation,"onUpdate:value":t[1]||(t[1]=e=>Nt(n).operation=e)},{default:It((()=>[Dt(u,null,{default:It((()=>[Dt(d,{value:0},{default:It((()=>[Ot(" Read ")])),_:1}),Dt(d,{value:1,disabled:Nt(l)},{default:It((()=>[Ot(" delete ")])),_:1},8,["disabled"]),Dt(d,{value:2,disabled:Nt(l)},{default:It((()=>[Ot(" Modify/increase ")])),_:1},8,["disabled"])])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),Dt(h,{class:"mt-16px"},{default:It((()=>[pi])),_:1})])}}}),hi={class:"p-5"},vi=At("img",{src:ca,class:"w-5"},null,-1),gi={class:"mt-16px"},fi=At("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1),wi=At("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1),bi=gt({__name:"monitor",setup(e){const t=wt(!1),a=wt(!1),l=wt([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=wt([]);return(e,n)=>{const o=W,r=j,s=ne,d=ra,u=z;return Mt(),Bt("div",hi,[At("div",null,[Dt(r,{justify:"space-between"},{default:It((()=>[Dt(o,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:It((()=>[Ot(" Add monitor ")])),_:1}),Dt(o,null,{icon:It((()=>[vi])),_:1})])),_:1})]),At("div",gi,[Dt(s,{loading:Nt(a),"loading-num":6,data:Nt(i),columns:Nt(l)},null,8,["loading","data","columns"])]),At("div",null,[Dt(d,{class:"mt-16px"},{default:It((()=>[fi,wi,At("li",null,[Dt(o,{text:"",class:"color-#20a53a"},{default:It((()=>[Ot("Tutorial")])),_:1})])])),_:1})]),Dt(u,{show:Nt(t),"onUpdate:show":n[1]||(n[1]=e=>Ht(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:mi},null,8,["show"])])}}}),yi=V({},[["render",function(e,t){return Mt(),Bt("div",null,"555")}]]),_i=e=>(Kt("data-v-43bec92c"),e=e(),Yt(),e),Ci={class:"box mt-16px"},xi=_i((()=>At("div",null,"Site protection",-1))),Si=_i((()=>At("div",null,"today: 0",-1))),ki=_i((()=>At("div",null,"Total alarm: 0",-1))),Pi={key:0,class:"items-center warning"},Li=_i((()=>At("img",{src:ma,class:"h-8"},null,-1))),$i={class:"warning"},Ti={class:"color-#f23836"},Ri=_i((()=>At("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1))),Ei=_i((()=>At("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1))),Ui=_i((()=>At("img",{src:pa,class:"h-10"},null,-1))),Di=gt({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=q(),a=wt(!1),l=wt(!1),i=wt(!1),n=e,o=Z(),r=()=>{se({source:114})},s=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";U({title:e,content:t,onConfirm:async()=>{const e=va(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,d)=>{const u=pe,c=j,p=W,m=ra,h=R,v=Q,g=z;return Mt(),Bt(kt,null,[At("div",Ci,[Dt(v,{install:Nt(o).isPro,class:"install"},Ft({default:It((()=>[Dt(c,{class:"items-center color-#666"},{default:It((()=>[xi,At("div",null,[Dt(u,{value:Nt(a),"onUpdate:value":[d[0]||(d[0]=e=>Ht(a)?a.value=e:null),s]},null,8,["value"])]),Si,ki,Nt(a)?Vt("",!0):(Mt(),Bt("div",Pi,[Li,At("span",$i,[Ot(" Please open "),At("span",Ti,"PHP-"+zt(n.phpVersion),1),Ot(" protection first ")])]))])),_:1}),Dt(c,{class:"mt-16px"},{default:It((()=>[Dt(p,{onClick:d[1]||(d[1]=e=>l.value=!0)},{default:It((()=>[Ot("Monitor")])),_:1}),Dt(p,{onClick:d[2]||(d[2]=e=>i.value=!0)},{default:It((()=>[Ot("Trigger log")])),_:1})])),_:1}),Dt(m,{class:"mt-16px"},{default:It((()=>[Ri,Ei])),_:1})])),_:2},[n.isInstall?{name:"desc",fn:It((()=>[Dt(c,{class:"items-center"},{default:It((()=>[Ui,At("span",null,[Ot("If you need to use the [PHP website security alarm] function, please buy first "),Dt(h,{onClick:r},{default:It((()=>[Ot("click to buy")])),_:1})])])),_:1})])),key:"0"}:{name:"desc",fn:It((()=>[Dt(c,{class:"items-center"},{default:It((()=>[At("img",{src:pa,class:"h-10"}),At("span",null,[Ot("Currently not installed [PHP website security alarm], "),Dt(h,null,{default:It((()=>[Ot("Click to install")])),_:1})])])),_:1})])),key:"1"}]),1032,["install"])]),Dt(g,{show:Nt(l),"onUpdate:show":d[3]||(d[3]=e=>Ht(l)?l.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:bi},null,8,["show"]),Dt(g,{show:Nt(i),"onUpdate:show":d[4]||(d[4]=e=>Ht(i)?i.value=e:null),title:`[${Nt(t).siteName}] Site security log`,width:1e3,"min-height":148,footer:!1,component:yi},null,8,["show","title"])],64)}}}),Oi=V(Di,[["__scopeId","data-v-43bec92c"]]),Wi={class:"w-140px"},ji={class:"my-16px"},Mi={key:0,class:"my-16px"},Bi=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),{data:l}=ol(),i=q(),n=wt(null),o=wt(!1),r=wt(!1);let s="";const d=wt([]),u=async()=>{null!==n.value?(await Ie({siteName:l.name,version:n.value,other:s}),i.setRefresh(!0),m()):O.error(a("Site.RulesError.PHP"))},c=async()=>{const{message:e}=await qe({id:l.id});T(e)&&(o.value=e.result)},p=async e=>{await ze({id:l.id,act:e?1:0}),c()},m=()=>{(async()=>{const{message:e}=await ga();T(e)&&(r.value=e.php_status)})(),c(),(async()=>{const{message:e}=await He();D(e)&&(d.value=e.reverse().map((e=>({label:e.name,value:e.version}))))})(),(async()=>{const{message:e}=await Ne({siteName:l.name});T(e)&&(n.value=e.phpversion,s=e.php_other||"")})()};return m(),t({init:m}),(e,t)=>{const a=na,l=W,i=j,s=ra,c=M,m=pe;return Mt(),Bt("div",null,[Dt(i,{class:"items-center"},{default:It((()=>[At("div",null,zt(e.$t("Site.Lable.PHPVersion")),1),At("div",Wi,[Dt(a,{value:Nt(n),"onUpdate:value":t[0]||(t[0]=e=>Ht(n)?n.value=e:null),options:Nt(d)},null,8,["value","options"])]),At("div",null,[Dt(l,{type:"primary",onClick:u},{default:It((()=>[Ot(zt(e.$t("Site.Cert.Switch")),1)])),_:1})])])),_:1}),Dt(s,{class:"mt-16px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.PHP.Tips.0")),1),At("li",null,zt(e.$t("Site.Config.PHP.Tips.1")),1),At("li",null,zt(e.$t("Site.Config.PHP.Tips.2")),1),At("li",null,zt(e.$t("Site.Config.PHP.Tips.3")),1),At("li",null,zt(e.$t("Site.Config.PHP.Tips.4")),1),At("li",null,zt(e.$t("Site.Config.PHP.Tips.5")),1)])),_:1}),At("div",ji,[Dt(c,{dashed:""})]),Dt(i,{class:"items-center"},{default:It((()=>[At("div",null,zt(e.$t("Site.Config.PHP.SessionI")),1),At("div",null,[Dt(m,{value:Nt(o),"onUpdate:value":[t[1]||(t[1]=e=>Ht(o)?o.value=e:null),p]},null,8,["value"])])])),_:1}),Dt(s,{class:"mt-16px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.PHP.Tips.6")),1),At("li",null,zt(e.$t("Site.Config.PHP.Tips.7")),1)])),_:1}),Nt(X)?(Mt(),Bt("div",Mi,[Dt(c,{dashed:""}),Dt(Oi,{isInstall:Nt(r),phpVersion:Nt(n)},null,8,["isInstall","phpVersion"])])):Vt("",!0)])}}}),Ai=e("a",gt({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const t=Gt(e,"value"),{loading:a,setLoading:l}=ue(),i=wt([]);return(async()=>{try{l(!0);const{message:e}=await Ve();T(e)&&(i.value=Object.entries(e).map((([e,t])=>({label:t,value:e}))))}finally{l(!1)}})(),(e,l)=>{const n=na;return Mt(),Xt(n,{value:t.value,"onUpdate:value":l[0]||(l[0]=e=>t.value=e),loading:Nt(a),filterable:"",options:Nt(i)},null,8,["value","loading","options"])}}})),Ii={class:"w-200px"},zi={class:"w-200px mr-8px"},Ni={class:"flex flex-col"},Hi={class:"mt-8px text-desc"},qi={class:"flex flex-col"},Vi={class:"mt-8px text-desc"},Zi=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),l=q(),i=wt(null),{data:n}=ol(),o=qt({Login_url:"",redirection_url:"",wps:!1,admin_email:"",home_url:""}),r=wt(!1),s=wt("--"),d=wt("--"),u=Ct((()=>r.value?`${a("WP.RulesError.NewVersion")} (${d.value}) ${a("WP.RulesError.NewVersionLast")}`:`${a("WP.TableRow.WP")} ${s.value} ${a("WP.RulesError.LastVersion")}`)),c=wt(!1),p=wt(null),m=wt("en"),h=wt(""),v=wt("--"),g=async()=>{await(i.value?.validate()),await(e=>P.post("/site?action=save_wp_configurations",e,{requestOptions:{loading:"Processing, please wait...",successMessage:!0}}))({s_id:n.id,language:m.value,admin_password:h.value?h.value:null,admin_email:o.admin_email,whl_enabled:o.wps?1:0,whl_page:o.Login_url,whl_redirect_admin:o.redirection_url}),C()},f={admin_email:{required:!0,trigger:["blur","input"],validator:()=>""!==o.admin_email.trim()||new Error(a("WP.RulesError.Email"))},redirection_url:{required:!0,trigger:["blur","input"],validator:()=>""!==o.redirection_url.trim()||new Error(a("WP.RulesError.Redirection"))},Login_url:{required:!0,trigger:["blur","input"],validator:()=>""!==o.Login_url.trim()||new Error(a("WP.RulesError.Login"))}},w=async()=>{r.value?(await Ze({s_id:n.id,version:d.value}),C()):O.error(a("WP.RulesError.LastVersion"))},b=async e=>{await Xe({version:n.php_version,sitename:n.name,act:e}),n.cache_status=e,l.setRefresh(!0)},y=async()=>{await Fe({s_id:n.id})},_=async()=>{h.value=F(16,"wp")},C=async()=>{const{message:e}=await(e=>P.post("/site?action=get_wp_configurations",e,{requestOptions:{loading:"Processing, please wait..."}}))({s_id:n.id});T(e)&&(c.value=e.cache_enabled,s.value=e.local_version,d.value=e.latest_version,r.value=e.can_upgrade,v.value=e.login_url,p.value=e.admin_user,m.value=e.language,o.admin_email=e.admin_email,o.Login_url=e.whl_page,o.home_url=e.home_url,o.redirection_url=e.whl_redirect_admin,o.wps=e.whl_enabled)};return C(),t({init:C}),(e,t)=>{const a=R,l=aa,n=wa,s=W,d=pe,C=B,x=sa,S=j,k=la;return Mt(),Bt("div",null,[Dt(k,{"label-width":"160px",modelValue:Nt(o),"onUpdate:modelValue":t[8]||(t[8]=e=>Ht(o)?o.value=e:null),ref_key:"formRef",ref:i,rules:f},{default:It((()=>[Dt(l,{label:e.$t("WP.Config.LoginUrl")},{default:It((()=>[Dt(a,{href:Nt(v),target:"_blank"},{default:It((()=>[Ot(zt(Nt(v)),1)])),_:1},8,["href"])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.TableRow.Status")},{default:It((()=>[Dt(n,{type:Nt(r)?"warning":"default","show-icon":!1},{default:It((()=>[Ot(zt(Nt(u)),1)])),_:1},8,["type"]),Dt(s,{class:"ml-8px",type:"primary",onClick:w},{default:It((()=>[Ot(zt(e.$t("WP.Config.Upgrade")),1)])),_:1})])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.Cache")},{default:It((()=>[Dt(d,{value:Nt(c),"onUpdate:value":[t[0]||(t[0]=e=>Ht(c)?c.value=e:null),b],class:"mr-20px"},null,8,["value"]),Dt(s,{onClick:y},{default:It((()=>[Ot(zt(e.$t("WP.Config.Clear")),1)])),_:1})])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.UserName")},{default:It((()=>[At("div",Ii,[Dt(C,{value:Nt(p),"onUpdate:value":t[1]||(t[1]=e=>Ht(p)?p.value=e:null),readonly:""},null,8,["value"])])])),_:1},8,["label"]),Dt(l,{label:e.$t("WP.Label.RePassword")},{default:It((()=>[At("div",zi,[Dt(C,{value:Nt(h),"onUpdate:value":t[2]||(t[2]=e=>Ht(h)?h.value=e:null),placeholder:e.$t("WP.Placeholder.Password")},null,8,["value","placeholder"])]),Dt(s,{type:"primary",onClick:_},{default:It((()=>[Ot(zt(e.$t("WP.Config.Generate")),1)])),_:1})])),_:1},8,["label"]),Dt(l,{label:e.$t("WP.Label.EmailAddress"),path:"admin_email"},{default:It((()=>[Dt(C,{class:"w-410px!",value:Nt(o).admin_email,"onUpdate:value":t[3]||(t[3]=e=>Nt(o).admin_email=e),placeholder:e.$t("Site.Placeholder.Email")},null,8,["value","placeholder"])])),_:1},8,["label"]),Dt(l,{label:e.$t("WP.Label.Language")},{default:It((()=>[Dt(Ai,{class:"w-410px",value:Nt(m),"onUpdate:value":t[4]||(t[4]=e=>Ht(m)?m.value=e:null)},null,8,["value"])])),_:1},8,["label"]),Dt(l,{label:e.$t("WP.Label.WPS")},{default:It((()=>[Dt(x,{checked:Nt(o).wps,"onUpdate:checked":t[5]||(t[5]=e=>Nt(o).wps=e)},{default:It((()=>[At("span",null,zt(e.$t("WP.Add.EnableWPS")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),Nt(o).wps?(Mt(),Bt(kt,{key:0},[Dt(l,{label:e.$t("WP.Add.Login"),path:"Login_url"},{default:It((()=>[At("div",Ni,[At("div",null,[Dt(S,{class:"items-center"},{default:It((()=>[At("div",null,zt(Nt(o).home_url)+"/",1),Dt(C,{class:"w-200px!",value:Nt(o).Login_url,"onUpdate:value":t[6]||(t[6]=e=>Nt(o).Login_url=e),placeholder:e.$t("Site.Placeholder.Login")},null,8,["value","placeholder"])])),_:1})]),At("div",Hi,zt(e.$t("WP.Config.RedirectionTips.0")),1)])])),_:1},8,["label"]),Dt(l,{label:e.$t("WP.Add.Redirection"),path:"redirection_url"},{default:It((()=>[At("div",qi,[At("div",null,[Dt(S,{class:"items-center"},{default:It((()=>[At("div",null,zt(Nt(o).home_url)+"/",1),Dt(C,{class:"w-200px!",value:Nt(o).redirection_url,"onUpdate:value":t[7]||(t[7]=e=>Nt(o).redirection_url=e),placeholder:e.$t("Site.Placeholder.Redirection")},null,8,["value","placeholder"])])),_:1})]),At("div",Vi,zt(e.$t("WP.Config.RedirectionTips.1")),1)])])),_:1},8,["label"])],64)):Vt("",!0),Dt(l,{label:" "},{default:It((()=>[Dt(s,{type:"primary",onClick:g},{default:It((()=>[Ot(zt(e.$t("WP.Config.Save")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])}}}),Xi={class:"px-20px py-24px"},Fi={class:"w-120px"},Ki={class:"w-120px"},Yi={class:"w-200px"},Gi={class:"w-200px"},Ji={class:"w-200px"},Qi=gt({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Wt(),l=e,{isEdit:i,siteId:n,siteName:o,row:r,getList:s}=l.data,d=wt(null),u=qt({redirectname:`${(new Date).valueOf()}`,type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),c={redirectdomain:{trigger:["change"],validator:()=>0!==u.redirectdomain.length||new Error(a("Site.RulesError.RedirectedDomain"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==u.redirectpath.trim()||new Error(a("Site.RulesError.RedirectedPath"))},tourl:{trigger:["blur","input"],validator:()=>""!==u.tourl.trim()||new Error(a("Site.RulesError.RedirectedUrl"))}},p=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],h=wt([]),v=()=>{u.redirectdomain=[],u.redirectpath=""},{loading:g,setLoading:f}=ue();return i&&r&&(u.redirectname=r.redirectname,u.type=r.type,u.holdpath=r.holdpath,u.redirecttype=r.redirecttype,u.redirectpath=r.redirectpath,u.domainorpath=r.domainorpath,u.redirectdomain=r.redirectdomain,u.tourl=r.tourl),(async()=>{try{f(!0);const{message:e}=await be({id:n});h.value=D(e)?e.map((e=>({label:e.name,value:e.name}))):[]}finally{f(!1)}})(),t({onConfirm:async({hide:e})=>{await(d.value?.validate());const t={...Zt(u),sitename:o};i?await Ye(t):await Ke(t),s?.(),e()}}),(e,t)=>{const a=pe,l=aa,i=j,n=na,o=B,r=la,s=ra;return Mt(),Bt("div",Xi,[Dt(r,{ref_key:"formRef",ref:d,model:Nt(u),rules:c},{default:It((()=>[Dt(i,{size:60},{default:It((()=>[Dt(l,{label:e.$t("Site.Lable.Enable")},{default:It((()=>[Dt(a,{value:Nt(u).type,"onUpdate:value":t[0]||(t[0]=e=>Nt(u).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.TableRow.KeepUP"),"label-width":"120"},{default:It((()=>[Dt(a,{value:Nt(u).holdpath,"onUpdate:value":t[1]||(t[1]=e=>Nt(u).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),Dt(i,{size:30},{default:It((()=>[Dt(l,{label:e.$t("Site.TableRow.Type")},{default:It((()=>[At("div",Fi,[Dt(n,{value:Nt(u).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>Nt(u).domainorpath=e),v],options:p},null,8,["value"])])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.TableRow.Mode"),"label-width":"70"},{default:It((()=>[At("div",Ki,[Dt(n,{value:Nt(u).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>Nt(u).redirecttype=e),options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===Nt(u).domainorpath?(Mt(),Xt(l,{key:0,label:e.$t("Site.Lable.Source"),path:"redirectdomain"},{default:It((()=>[At("div",Yi,[Dt(n,{value:Nt(u).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>Nt(u).redirectdomain=e),multiple:!0,loading:Nt(g),options:Nt(h),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):Vt("",!0),"path"===Nt(u).domainorpath?(Mt(),Xt(l,{key:1,label:e.$t("Site.Lable.Redirect"),path:"redirectpath"},{default:It((()=>[At("div",Gi,[Dt(o,{value:Nt(u).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>Nt(u).redirectpath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Vt("",!0),Dt(l,{label:e.$t("Site.Lable.Target"),path:"tourl"},{default:It((()=>[At("div",Ji,[Dt(o,{value:Nt(u).tourl,"onUpdate:value":t[6]||(t[6]=e=>Nt(u).tourl=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Dt(s,{class:"mt-12px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.RedirectConfig.Tips.0")),1),At("li",null,zt(e.$t("Site.Config.RedirectConfig.Tips.1")),1),At("li",null,zt(e.$t("Site.Config.RedirectConfig.Tips.2")),1),At("li",null,zt(e.$t("Site.Config.RedirectConfig.Tips.3")),1),At("li",null,zt(e.$t("Site.Config.RedirectConfig.Tips.4")),1),At("li",null,zt(e.$t("Site.Config.RedirectConfig.Tips.5")),1)])),_:1})])}}}),en={class:"p-20px"},tn={class:"mt-12px"},an=gt({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:n}=a.data,o=t,r=q(),s=wt(""),d=wt(""),u=wt(""),c=async()=>{const{message:e}=await Je({path:u.value,data:s.value,encoding:d.value});T(e)&&O.success(e.msg),n?.(),o("close")};return(async()=>{const{message:e}=await Ge({sitename:i,redirectname:l.redirectname,webserver:r.webserver});T(e)&&(u.value=e.file,s.value=e.data,d.value=e.encoding)})(),(e,t)=>{const a=W,l=ra;return Mt(),Bt("div",en,[Dt(ua,{value:Nt(s),"onUpdate:value":t[0]||(t[0]=e=>Ht(s)?s.value=e:null),height:350,"show-tips":!1},null,8,["value"]),At("div",tn,[Dt(a,{type:"primary",onClick:c},{default:It((()=>[Ot(zt(e.$t("Site.Cert.Save")),1)])),_:1})]),Dt(l,{class:"mt-24px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),ln=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),{data:l}=ol(),i=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:n,table:o,columns:r}=ie([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.Type"),ellipsis:{tooltip:{width:"trigger"}}},{key:"redirecttype",title:a("Site.TableRow.Mode"),width:90},{key:"holdpath",title:a("Site.TableRow.KeepUP"),width:140,render:e=>Dt(R,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await Qe({...i(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?"Enable":"Turn off"]})},{key:"type",title:"Status",width:100,render:e=>Dt(he,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await Qe({...i(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},me({width:120,options:e=>[{label:a("Site.TableOP.Conf"),onClick:()=>{g(e)}},{label:a("Site.TableOP.Edit"),onClick:()=>{h(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{U({title:`${a("Site.Batch.DeleteRedirection.Label")} [${e.redirectname}]`,content:a("Site.Batch.DeleteRedirection.Content"),onConfirm:async({hide:t})=>{await et({sitename:l.name,redirectname:e.redirectname}),c(),t()}})}}]})]),s=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[r.value[1]],api:e=>et({sitename:l.name,redirectname:e.redirectname},!1),done:()=>{c()}}}],{loading:d,setLoading:u}=ue(),c=async()=>{try{u(!0);const{message:e}=await tt({sitename:l.name});o.data=D(e)?e:[]}finally{n.value=[],u(!1)}},p=I(a("Site.Config.RedirectConfig.Create"),{row:void 0,siteId:l.id,siteName:l.name,isEdit:!1,getList:c}),m=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.RedirectConfig.Create"),p.show=!0},h=e=>{p.data.row=e,p.data.isEdit=!0,p.title=`${a("Site.Config.RedirectConfig.Modify")} [${e.redirectname}]`,p.show=!0},v=I("",{row:void 0,siteName:l.name,getList:c}),g=e=>{v.data.row=e,v.title=`${a("Site.Config.RedirectConfig.Edit")} [${e.redirectname}]`,v.show=!0};return c(),t({init:c}),(e,t)=>{const a=W,l=ne,i=le,u=ee,c=z;return Mt(),Bt("div",null,[Dt(u,null,{toolsLeft:It((()=>[Dt(a,{type:"primary",onClick:m},{default:It((()=>[Ot(zt(e.$t("Site.Config.RedirectConfig.Add")),1)])),_:1})])),table:It((()=>[Dt(l,{"checked-row-keys":Nt(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ht(n)?n.value=e:null),"row-key":"redirectname",loading:Nt(d),"max-height":440,data:Nt(o).data,columns:Nt(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:It((()=>[Dt(i,{"checked-row-keys":Nt(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ht(n)?n.value=e:null),"row-key":"redirectname",data:Nt(o).data,options:s},null,8,["checked-row-keys","data"])])),_:1}),Dt(c,{show:Nt(p).show,"onUpdate:show":t[2]||(t[2]=e=>Nt(p).show=e),title:Nt(p).title,data:Nt(p).data,width:660,footer:!0,component:Qi},null,8,["show","title","data"]),Dt(c,{show:Nt(v).show,"onUpdate:show":t[3]||(t[3]=e=>Nt(v).show=e),title:Nt(v).title,data:Nt(v).data,width:580,component:an},null,8,["show","title","data"])])}}}),nn={class:"px-20px py-24px"},on={class:"w-220px"},rn={class:"w-220px"},sn={class:"w-220px"},dn={class:"w-220px"},un={class:"w-220px"},cn={class:"w-220px"},pn={class:"w-220px"},mn=gt({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Wt(),l=e,{isEdit:i,siteName:n,row:o,getList:r}=l.data,s=wt(null),d=qt({type:1,proxyname:"",cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advanced:0,sitename:n}),u={proxyname:{trigger:["blur","input"],validator:()=>""!==d.proxyname.trim()||new Error(a("Site.RulesError.ProxyName"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===d.cache&&!d.cachetime)||new Error(a("Site.RulesError.CacheTime"))},proxydir:{trigger:["blur","input"],validator:()=>1!==d.advanced||""!==d.proxydir.trim()||new Error(a("Site.RulesError.ProxyDir"))},proxysite:{trigger:["blur","input"],validator:()=>""!==d.proxysite.trim()||new Error(a("Site.RulesError.RedirectedUrl"))},todomain:{trigger:["blur","input"],validator:()=>""!==d.todomain.trim()||new Error(a("Site.RulesError.Sent"))}},c=e=>{e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)?d.todomain="$host":d.todomain=e},p=wt([]),m=()=>{p.value.length>=3||p.value.push({sub1:"",sub2:""})};return m(),(()=>{if(i&&o){d.type=o.type,d.cache=o.cache,d.advanced=o.advanced,d.proxyname=o.proxyname,d.cachetime=o.cachetime,d.proxydir=o.proxydir,d.proxysite=o.proxysite,d.todomain=o.todomain,d.sitename=o.sitename;const e=o.subfilter.filter((e=>""!==e.sub1||""!==e.sub2));e.length>0&&(p.value=e)}})(),t({onConfirm:async({hide:e})=>{await(s.value?.validate());const t=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];return e.forEach(((e,t)=>{p.value.length-1<t||(e.sub1=p.value[t].sub1,e.sub2=p.value[t].sub2)})),{...Zt(d),subfilter:e}})();i?await lt(t):await at(t),r?.(),e()}}),(e,t)=>{const a=pe,l=aa,n=j,o=B,r=H,h=ba,v=ya,g=R,f=W,w=la,b=ra;return Mt(),Bt("div",nn,[Dt(w,{ref_key:"formRef",ref:s,model:Nt(d),rules:u},{default:It((()=>[Dt(n,{size:32},{default:It((()=>[Dt(l,{label:e.$t("Site.Lable.EnableProxy")},{default:It((()=>[Dt(a,{value:Nt(d).type,"onUpdate:value":t[0]||(t[0]=e=>Nt(d).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.EnableCache"),"label-width":"100"},{default:It((()=>[Dt(a,{value:Nt(d).cache,"onUpdate:value":t[1]||(t[1]=e=>Nt(d).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.Advanced"),"label-width":"126"},{default:It((()=>[Dt(a,{value:Nt(d).advanced,"onUpdate:value":t[2]||(t[2]=e=>Nt(d).advanced=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),Dt(l,{label:e.$t("Site.Lable.ProxyName"),path:"proxyname"},{default:It((()=>[At("div",on,[Dt(o,{value:Nt(d).proxyname,"onUpdate:value":t[3]||(t[3]=e=>Nt(d).proxyname=e),disabled:Nt(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),1===Nt(d).cache?(Mt(),Xt(l,{key:0,label:e.$t("Site.Lable.CacheTime"),path:"cachetime"},{default:It((()=>[At("div",rn,[Dt(v,null,{default:It((()=>[Dt(r,{value:Nt(d).cachetime,"onUpdate:value":t[4]||(t[4]=e=>Nt(d).cachetime=e),min:1,"show-button":!1,placeholder:""},null,8,["value"]),Dt(h,{class:"w-70px text-center"},{default:It((()=>[Ot(zt(Nt(d).cachetime>1?"Minutes":"Minute"),1)])),_:1})])),_:1})])])),_:1},8,["label"])):Vt("",!0),1===Nt(d).advanced?(Mt(),Xt(l,{key:1,label:e.$t("Site.TableRow.ProxyDir"),path:"proxydir"},{default:It((()=>[At("div",sn,[Dt(o,{value:Nt(d).proxydir,"onUpdate:value":t[5]||(t[5]=e=>Nt(d).proxydir=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Vt("",!0),Dt(l,{label:e.$t("Site.Lable.Target")},{default:It((()=>[At("div",dn,[Dt(o,{value:Nt(d).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>Nt(d).proxysite=e),c],placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.Sent")},{default:It((()=>[At("div",un,[Dt(o,{value:Nt(d).todomain,"onUpdate:value":t[7]||(t[7]=e=>Nt(d).todomain=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Dt(l,{label:e.$t("Site.Lable.ContentReplace")},{default:It((()=>[Dt(n,{class:"flex-1",vertical:""},{default:It((()=>[(Mt(!0),Bt(kt,null,Jt(Nt(p),((t,a)=>(Mt(),Xt(n,{key:`${a+1}`,class:"items-center"},{default:It((()=>[At("div",cn,[Dt(o,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.Source")},null,8,["value","onUpdate:value","placeholder"])]),At("div",pn,[Dt(o,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.Replace")},null,8,["value","onUpdate:value","placeholder"])]),At("div",null,[Dt(g,{type:"error",disabled:0===a&&1===Nt(p).length,onClick:e=>(e=>{p.value.length<=1||p.value.splice(e,1)})(a)},{default:It((()=>[Ot(zt(e.$t("Site.TableOP.Del")),1)])),_:2},1032,["disabled","onClick"])])])),_:2},1024)))),128)),At("div",null,[Dt(f,{type:"primary",disabled:Nt(p).length>=3,onClick:m},{default:It((()=>[At("span",null,zt(e.$t("Site.Config.ProxyConfig.Replacement")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["label"])])),_:1},8,["model"]),Dt(b,{class:"mt-12px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.ProxyConfig.Tips.0")),1),At("li",null,zt(e.$t("Site.Config.ProxyConfig.Tips.1")),1),At("li",null,zt(e.$t("Site.Config.ProxyConfig.Tips.2")),1),At("li",null,zt(e.$t("Site.Config.ProxyConfig.Tips.3")),1)])),_:1})])}}}),hn={class:"p-20px"},vn={class:"mt-12px"},gn=gt({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:n}=a.data,o=t,r=q(),s=wt(""),d=wt(""),u=wt(""),c=async()=>{const{message:e}=await nt({path:u.value,data:s.value,encoding:d.value});T(e)&&O.success(e.msg),n?.(),o("close")};return(async()=>{const{message:e}=await it({sitename:i,proxyname:l.proxyname,webserver:r.webserver});T(e)&&(u.value=e.file,s.value=e.data,d.value=e.encoding)})(),(e,t)=>{const a=W,l=ra;return Mt(),Bt("div",hn,[Dt(ua,{value:Nt(s),"onUpdate:value":t[0]||(t[0]=e=>Ht(s)?s.value=e:null),height:350,"show-tips":!1},null,8,["value"]),At("div",vn,[Dt(a,{type:"primary",onClick:c},{default:It((()=>[Ot(zt(e.$t("Site.Cert.Save")),1)])),_:1})]),Dt(l,{class:"mt-24px"},{default:It((()=>[At("li",null,zt(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),fn=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),{data:l}=ol(),i=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime}),{keys:n,table:o,columns:r}=ie([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.Name"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.ProxyDir"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.Target"),ellipsis:{tooltip:{width:"trigger"}},render:e=>Dt("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.Cache"),width:90,render:e=>Dt(R,{type:1===e.cache?"primary":"error",onClick:async()=>{await lt({...i(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.Status"),width:90,render:e=>Dt(he,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await lt({...i(e),type:t,cache:e.cache}),e.type=t}},null)},me({width:120,options:e=>[{label:a("Site.TableOP.Conf"),onClick:()=>{g(e)}},{label:a("Site.TableOP.Edit"),onClick:()=>{h(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{U({title:`${a("Site.Batch.DeleteProxy.Label")} [${e.proxyname}]`,content:a("Site.Batch.DeleteProxy.Content"),onConfirm:async({hide:t})=>{await ot({sitename:l.name,proxyname:e.proxyname}),c(),t()}})}}]})]),s=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),api:e=>ot({sitename:l.name,proxyname:e.proxyname},!1),done:()=>{c()},columns:[{key:"proxyname",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:d,setLoading:u}=ue(),c=async()=>{try{u(!0);const{message:e}=await rt({sitename:l.name});o.data=D(e)?e:[]}finally{n.value=[],u(!1)}},p=I(a("Site.Config.ProxyConfig.Create"),{row:void 0,siteName:l.name,isEdit:!1,getList:c}),m=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.ProxyConfig.Create"),p.show=!0},h=e=>{p.data.row=e,p.data.isEdit=!0,p.title=`${a("Site.Config.RedirectConfig.Modify")} [${e.proxyname}]`,p.show=!0},v=I("",{row:void 0,siteName:l.name,getList:c}),g=e=>{v.data.row=e,v.title=`${a("Site.Config.RedirectConfig.Edit")} [${e.proxyname}]`,v.show=!0};return c(),t({init:c}),(e,t)=>{const a=W,l=ne,i=le,u=ee,c=z;return Mt(),Bt("div",null,[Dt(u,null,{toolsLeft:It((()=>[Dt(a,{type:"primary",onClick:m},{default:It((()=>[Ot(zt(e.$t("Site.Config.ProxyConfig.Add")),1)])),_:1})])),table:It((()=>[Dt(l,{"checked-row-keys":Nt(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ht(n)?n.value=e:null),"row-key":"proxyname",loading:Nt(d),"max-height":440,data:Nt(o).data,columns:Nt(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:It((()=>[Dt(i,{"checked-row-keys":Nt(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ht(n)?n.value=e:null),"row-key":"proxyname",data:Nt(o).data,options:s},null,8,["checked-row-keys","data"])])),_:1}),Dt(c,{show:Nt(p).show,"onUpdate:show":t[2]||(t[2]=e=>Nt(p).show=e),title:Nt(p).title,data:Nt(p).data,width:660,footer:!0,component:mn},null,8,["show","title","data"]),Dt(c,{show:Nt(v).show,"onUpdate:show":t[3]||(t[3]=e=>Nt(v).show=e),title:Nt(v).title,data:Nt(v).data,width:580,component:gn},null,8,["show","title","data"])])}}}),wn={class:"pt-8px"},bn=gt({__name:"index",setup(e,{expose:t}){const{data:a}=ol(),l=wt();return t({init:async()=>{l.value.init()}}),(e,t)=>(Mt(),Bt("div",wn,[Dt(ha,{ref_key:"formRef",ref:l,site:Nt(a)},null,8,["site"])]))}}),yn=gt({__name:"index",setup(e,{expose:t}){const{data:a}=ol(),l=wt("None"),{loading:i,setLoading:n}=ue(),o=async()=>{try{n(!0);const{message:e}=await st({siteName:a.name});T(e)&&(l.value=K(e.result)?e.result:"None")}finally{n(!1)}};return o(),t({init:o}),(e,t)=>{const a=_a,n=Ca;return Mt(),Xt(n,{class:"h-560px",show:Nt(i)},{default:It((()=>[Dt(a,{log:Nt(l)},null,8,["log"])])),_:1},8,["show"])}}}),_n=gt({__name:"index",setup(e,{expose:t}){const{data:a}=ol(),l=wt("None"),{loading:i,setLoading:n}=ue(),o=async()=>{try{n(!0);const{message:e}=await dt({siteName:a.name});T(e)&&(l.value=K(e.result)?e.result:"None")}finally{n(!1)}};return o(),t({init:o}),(e,t)=>{const a=_a,n=Ca;return Mt(),Xt(n,{class:"h-560px",show:Nt(i)},{default:It((()=>[Dt(a,{log:Nt(l)},null,8,["log"])])),_:1},8,["show"])}}}),Cn=gt({__name:"logs",props:{data:{}},setup(e){const t=e,{type:a,path:l}=t.data,i=wt(""),{loading:n,setLoading:o}=ue();return(async()=>{try{o(!0);const{message:e}=await ut({type:a,path:l});T(e)&&(i.value=e.result)}finally{o(!1)}})(),(e,t)=>{const a=_a,l=Ca;return Mt(),Xt(l,{class:"w-650px h-550px bg-#282C34",show:Nt(n)},{default:It((()=>[Dt(a,{log:Nt(i)},null,8,["log"])])),_:1},8,["show"])}}}),xn={class:"text-error"},Sn={class:"w-400px p-20px"},kn={class:"mb-16px"},Pn=gt({__name:"index",setup(e,{expose:t}){const a=q(),{t:l}=Wt(),{data:i}=ol(),n=Ct((()=>{let e="";switch(a.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return`/www/wwwlogs/${i.name}${e}`})),o=Ct((()=>{const e=n.value.split("/");return e[e.length-1]})),r=()=>{U({title:l("Site.Config.LogsConfig.ScanTitle"),content:`${l("Site.Config.LogsConfig.ScanContent")} [${o.value}] ${l("Site.Config.LogsConfig.ScanContent1")}`,onConfirm:async({hide:e})=>{await ct({path:n.value}),e(),u()}})},s=wt(!1),d=wt(0),u=async()=>{s.value=!0,c()},c=(e=0)=>{let t=setTimeout((async()=>{const{message:e}=await pt({path:n.value});T(e)&&(d.value=e.result,d.value>=100?(O.success(l("Site.Config.LogsConfig.Complete")),s.value=!1,d.value=0,f(),clearTimeout(t)):c(1e3))}),e)},p=e=>{$({title:`[${e}] ${l("Site.Config.LogsConfig.Details")}`,data:{type:e,path:n.value},component:Cn})},{table:m,columns:h}=ie([{key:"start_time",title:"Date"},{key:"time",title:l("Site.DelSite.Time"),render:e=>`${e.time.substring(0,4)} s`},{key:"xss",title:l("Site.TableRow.XSS"),render:e=>e.xss>0?Dt("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:l("Site.TableRow.SQL"),render:e=>e.sql>0?Dt("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:l("Site.TableRow.Sacn"),render:e=>e.san>0?Dt("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:l("Site.TableRow.PHP"),render:e=>e.php>0?Dt("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:l("Site.TableRow.IPTop"),render:e=>e.ip>0?Dt(R,{onClick:()=>{p("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:l("Site.TableRow.URLTop"),render:e=>e.url>0?Dt(R,{onClick:()=>{p("url")}},{default:()=>[e.url]}):e.url}]),{loading:v,setLoading:g}=ue(),f=async()=>{try{g(!0);const{message:e}=await mt({path:n.value});T(e)&&(m.data=[e])}finally{g(!1)}},w=()=>{f()};return w(),t({init:w}),(e,t)=>{const a=W,l=ne,i=ee,n=ra,o=xa,u=z;return Mt(),Bt("div",null,[Dt(i,null,{toolsLeft:It((()=>[Dt(a,{type:"primary",onClick:r},{default:It((()=>[Ot(zt(e.$t("Site.Config.LogsConfig.Scan")),1)])),_:1})])),table:It((()=>[Dt(l,{loading:Nt(v),"loading-num":1,data:Nt(m).data,columns:Nt(h)},null,8,["loading","data","columns"])])),_:1}),Dt(n,{class:"mt-16px"},{default:It((()=>[At("li",null,[Ot(zt(e.$t("Site.Config.LogsConfig.Tips.0"))+" ",1),At("span",xn,zt(e.$t("Site.Config.LogsConfig.Tips.1")),1),Ot(") ")]),At("li",null,zt(e.$t("Site.Config.LogsConfig.Tips.2")),1),At("li",null,zt(e.$t("Site.Config.LogsConfig.Tips.3"))+")",1),At("li",null,zt(e.$t("Site.Config.LogsConfig.Tips.4")),1),At("li",null,[Dt(R,{href:"https://forum.aapanel.com/d/3351-nginx-waf-instructions",target:"_blank"},{default:It((()=>[Ot(zt(e.$t("Site.Config.LogsConfig.Tips.5")),1)])),_:1}),Ot(" "+zt(e.$t("Site.Config.LogsConfig.Tips.6")),1)])])),_:1}),Dt(u,{show:Nt(s),"onUpdate:show":t[0]||(t[0]=e=>Ht(s)?s.value=e:null)},{default:It((()=>[At("div",Sn,[At("div",kn,zt(e.$t("Site.Config.LogsConfig.Tips.7")),1),Dt(o,{type:"line",status:"success",height:24,percentage:Nt(d),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),Ln=gt({__name:"index",setup(e,{expose:t}){const{t:a}=Wt(),{config:l}=ol(),i=wt("access"),n=wt(),o=[{key:"access",label:a("Site.Config.LogsConfig.Access"),component:yn},{key:"error",label:a("Site.Config.LogsConfig.Error"),component:_n},{key:"security",label:a("Site.Config.LogsConfig.Security"),component:Pn}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Qt((()=>{n.value?.init()}))}}),(e,t)=>{const a=oa;return Mt(),Xt(a,{value:Nt(i),"onUpdate:value":t[0]||(t[0]=e=>Ht(i)?i.value=e:null),ref_key:"tabsRef",ref:n,data:o},null,8,["value"])}}}),$n=gt({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:a}=Wt(),l=q(),{siteName:i}=oe(l),n=Ut((()=>E((()=>t.import("./index-legacy117.js?v=1720690738171")),void 0))),o=Ut((()=>E((()=>t.import("./old-legacy3.js?v=1720690738171")),void 0))),r=e,{siteInfo:s,config:d}=r;i.value=r.siteInfo.name;const u=wt();s&&$t(nl,{data:s,config:d});const c=wt("domain"),p=[{key:"domain",label:a("Site.Config.Manager"),component:vl},{key:"wordpress",label:a("Site.Config.Setting"),component:Zi},{key:"directory",label:a("Site.Config.Directory"),component:El},{key:"access",label:a("Site.Config.Limit"),component:Yl},{key:"traffic",label:a("Site.Config.Traffic"),component:si},{key:"rewrite",label:a("Site.Config.URL"),component:n},{key:"config",label:a("Site.Config.Conf"),component:ui},{key:"ssl",label:a("Site.TableRow.SSL"),component:o},{key:"php",label:a("Site.Lable.PHPVersion"),component:Bi},{key:"redirect",label:a("Site.Config.Redirect"),component:ln},{key:"proxy",label:a("Site.Config.Proxy"),component:fn},{key:"hotlink",label:a("Site.Config.Hotlink"),component:bn},{key:"logs",label:a("Site.Config.Response"),component:Ln}];return c.value=d.menu||"domain",d.menu="",(e,t)=>{const a=ea;return Mt(),Xt(a,{value:Nt(c),"onUpdate:value":t[0]||(t[0]=e=>Ht(c)?c.value=e:null),ref_key:"tabsRef",ref:u,data:p},null,8,["value"])}}}),Tn=e=>(Kt("data-v-d249cfd9"),e=e(),Yt(),e),Rn={class:"pt-50px pb-40px"},En=Tn((()=>At("div",{class:"mb-24px text-center text-22px font-bold"},"WordPress Toolkit introdution",-1))),Un={class:"mb-16px"},Dn={class:"ul-style"},On=Tn((()=>At("span",{class:"ml-4px"},"OneClick Install WordPress",-1))),Wn=Tn((()=>At("span",{class:"ml-4px"},"Special safety protection",-1))),jn=Tn((()=>At("span",{class:"ml-4px"},"Full Backup",-1))),Mn=Tn((()=>At("span",{class:"ml-4px"},"Fastcgi Cache",-1))),Bn=Tn((()=>At("div",{class:"text-center text-14px color-desc"}," More features are under development, looking forward to your feedback ",-1))),An={class:"text-center my-24px"},In={class:"flex justify-center"},zn={class:"w-76%"},Nn=V(gt({__name:"transition",setup(e){const t=()=>{se({source:180})};return(e,a)=>{const l=Y,i=W,n=Ka;return Mt(),Bt("div",Rn,[En,At("div",Un,[At("ul",Dn,[At("li",null,[Dt(l,{name:"wp-install",size:"22"}),On]),At("li",null,[Dt(l,{name:"wp-safe",size:"22"}),Wn]),At("li",null,[Dt(l,{name:"wp-backup",size:"22"}),jn]),At("li",null,[Dt(l,{name:"wp-cache",size:"22"}),Mn])])]),Bn,At("div",An,[Dt(i,{type:"primary",class:"h-36px text-14px",onClick:t},{default:It((()=>[Ot("Buy now")])),_:1})]),At("div",In,[At("div",zn,[Dt(n,{width:"100%",src:Nt("/static/vite/images/preview.png")},null,8,["src"])])])])}}}),[["__scopeId","data-v-d249cfd9"]]),Hn=At("span",null,"Web server is not installed, ",-1),qn=At("span",{class:"mx-4px"},"|",-1),Vn={class:"w-860px h-700px"},Zn=gt({__name:"index",setup(e){const a=Ut((()=>E((()=>t.import("./index-legacy118.js?v=1720690738171")),void 0))),l=Ut((()=>E((()=>t.import("./index-legacy119.js?v=1720690738171")),void 0))),i=Ut((()=>E((()=>t.import("./index-legacy120.js?v=1720690738171")),void 0))),{t:n}=Wt(),o=q(),r=Z(),{web:s}=oe(o),{isPro:d}=oe(r),u=I(n("WP.Migrate.Title")),c=I(n("WP.Add.Title")),p=()=>{c.show=!0},m=()=>{u.show=!0},h=qt({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),v=(e,t={})=>{h.title=`${n("Site.Cert.Modification")} [${e.name}] -- ${n("Site.Cert.Added")} [${e.addtime}]`,h.siteInfo=e,h.config=Object.assign({menu:"",subMenu:""},t),h.show=!0},{keys:g,table:f,columns:w}=ie([{type:"selection",width:40},{key:"name",title:n("Site.TableRow.SiteName"),width:"12%",minWidth:120,ellipsis:{tooltip:!0},render:e=>Dt(el,{row:e,onClick:()=>{v(e)}},null)},ve({width:"8%",minWidth:90,checkedLabel:"Running",uncheckedLabel:"Stopped",confirm:(e,t)=>({title:`${"1"===e?"Start":"Stop "} site [${t.name}]`,content:()=>{const t=n("Site.Cert.StatusConfirm.Start"),a=n("Site.Cert.StatusConfirm.Stop");return"1"===e?t:a},onConfirm:async({hide:a})=>{await ht("1"===e,{id:t.id,name:t.name}),t.status="1"===e?"1":"0",a()}})}),{key:"backup_count",title:n("Site.TableRow.BackUp"),width:"8%",minWidth:80,render:e=>Dt(tl,{row:e},null)},ge(),{key:"protection",title:n("WP.TableRow.Protection"),width:"8%",minWidth:80,render:e=>Dt(al,{row:e},null)},fe({key:"cache_status",title:"Cache",width:"6%",minWidth:60,onClick:async(e,t)=>{await Xe({version:t.php_version,sitename:t.name,act:e})}}),{key:"wp_version",title:n("WP.TableRow.WP"),width:"8%",minWidth:80,render:e=>Dt(ll,{row:e,onClick:()=>{v(e,{menu:"wordpress"})}},null)},{key:"php_version",title:n("Site.TableRow.PHP"),width:"6%",minWidth:60,render:e=>Dt(il,{row:e,onClick:()=>{v(e,{menu:"wordpress"})}},null)},Qa({onClick:e=>{v(e,{menu:"ssl"})}}),me({title:n("Site.TableRow.Operation"),width:168,options:e=>[{label:n("Site.TableOP.Login"),onClick:()=>{window.open(e.login_url,"_blank")}},{label:n("WP.index_1"),onClick:()=>{y(e)}},{label:n("Site.TableOP.Conf"),onClick:()=>{v(e)}},{label:n("Public.Btn.Del"),onClick:()=>{Ja([e])}}]})]),b=I(n("WP.index_2")),y=async e=>{b.data.row=e,b.show=!0},_=[{key:"enable",type:"confirm",label:n("Site.Batch.EnableWeb.Label"),confirm:{title:n("Site.Batch.EnableWeb.Title"),desc:n("Site.Batch.EnableWeb.Content"),columns:[w.value[1]],api:e=>ht(!0,{id:e.id,name:e.name},!1),done:()=>{k()}}},{key:"disable",type:"confirm",label:n("Site.Batch.DisableWeb.Label"),confirm:{title:n("Site.Batch.DisableWeb.Title"),desc:n("Site.Batch.DisableWeb.Content"),columns:[w.value[1]],api:e=>ht(!1,{id:e.id,name:e.name},!1),done:()=>{k()}}},{key:"backup",type:"confirm",label:n("Site.Batch.BackupWeb.Label"),confirm:{title:n("Site.Batch.BackupWeb.Title"),desc:n("Site.Batch.BackupWeb.Content"),columns:[w.value[1]],api:e=>Ya({s_id:e.id,bak_type:3},!1),done:()=>{k()}}},{key:"delete",label:n("Site.Batch.DeleteWeb.Label"),onBatch:e=>{Ja(e)}}],{loading:C,setLoading:x}=ue(!0),S=qt({p:1,limit:10,table:"sites",search:""}),k=async()=>{try{x(!0);const{message:t}=await(e=Zt(S),P.post("/data?action=getData",{...e,table:"sites",project_type:"WP2"}));T(t)?(f.data=D(t.data)?t.data:[],f.total=G(t.page)):(f.data=[],f.total=0)}finally{g.value=[],x(!1)}var e};return bt((()=>o.isRefresh),(e=>{e&&(o.setRefresh(!1),k())})),(async()=>{try{await o.getConfig(),o.web.setup?k():(x(!1),re())}catch{x(!1)}})(),(e,t)=>{const n=R,o=W,r=te,v=ne,y=le,x=ae,P=ee,L=z,$=Q,T=J;return Mt(),Xt(T,null,{default:It((()=>[Nt(d)?(Mt(),Xt($,{key:0,install:Nt(s).setup},{desc:It((()=>[Hn,Dt(n,{class:"ml-4px",onClick:t[0]||(t[0]=e=>Nt(de)("nginx"))},{default:It((()=>[Ot("Install Nginx")])),_:1}),qn,Dt(n,{onClick:t[1]||(t[1]=e=>Nt(de)("apache"))},{default:It((()=>[Ot("Install Apache")])),_:1})])),default:It((()=>[Dt(P,{class:"p-16px",feedback:!0},{toolsLeft:It((()=>[Dt(o,{type:"primary",onClick:p},{default:It((()=>[Ot("Add Wordpress")])),_:1}),Dt(o,{onClick:m},{default:It((()=>[Ot("Migrate Site")])),_:1})])),toolsRight:It((()=>[Dt(r,{value:Nt(S).search,"onUpdate:value":t[2]||(t[2]=e=>Nt(S).search=e),placeholder:"Domain or Remarks",onSearch:k},null,8,["value"])])),table:It((()=>[Dt(v,{"checked-row-keys":Nt(g),"onUpdate:checkedRowKeys":t[3]||(t[3]=e=>Ht(g)?g.value=e:null),loading:Nt(C),data:Nt(f).data,columns:Nt(w)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:It((()=>[Dt(y,{"checked-row-keys":Nt(g),"onUpdate:checkedRowKeys":t[4]||(t[4]=e=>Ht(g)?g.value=e:null),data:Nt(f).data,options:_},null,8,["checked-row-keys","data"])])),pageRight:It((()=>[Dt(x,{page:Nt(S).p,"onUpdate:page":t[5]||(t[5]=e=>Nt(S).p=e),"page-size":Nt(S).limit,"onUpdate:pageSize":t[6]||(t[6]=e=>Nt(S).limit=e),"item-count":Nt(f).total,"store-key":"wp-toolkit",onRefresh:k},null,8,["page","page-size","item-count"])])),_:1}),Dt(L,{show:Nt(c).show,"onUpdate:show":t[7]||(t[7]=e=>Nt(c).show=e),title:Nt(c).title,width:640,height:590,footer:!0,component:Nt(a)},null,8,["show","title","component"]),Dt(L,{show:Nt(u).show,"onUpdate:show":t[8]||(t[8]=e=>Nt(u).show=e),title:Nt(u).title,width:640,footer:!1,component:Nt(l)},null,8,["show","title","component"]),Dt(L,{show:Nt(b).show,"onUpdate:show":t[9]||(t[9]=e=>Nt(b).show=e),title:Nt(b).title,data:Nt(b).data,width:640,"min-height":268,footer:!0,component:Nt(i)},null,8,["show","title","data","component"]),Dt(L,{show:Nt(h).show,"onUpdate:show":t[10]||(t[10]=e=>Nt(h).show=e),title:Nt(h).title},{default:It((()=>[At("div",Vn,[Dt($n,{"site-info":Nt(h).siteInfo,config:Nt(h).config},null,8,["site-info","config"])])])),_:1},8,["show","title"])])),_:1},8,["install"])):(Mt(),Xt(Nn,{key:1}))])),_:1})}}}),Xn=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"}));e("s",Xn)}}}));
