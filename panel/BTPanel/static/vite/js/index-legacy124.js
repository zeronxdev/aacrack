System.register(["./index-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1720690738171","./index-legacy53.js?v=1720690738171","./site-legacy2.js?v=1720690738171","./index-legacy108.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1720690738171","./file-legacy2.js?v=1720690738171","./uniq-legacy.js?v=1720690738171","./vue-legacy.js?v=1720690738171","./Select-legacy.js?v=1720690738171","./pinia-legacy.js?v=1720690738171","./index-legacy111.js?v=1720690738171","./Tabs-legacy.js?v=1720690738171","./omit-legacy.js?v=1720690738171","./Ellipsis-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1720690738171","./useTableColumns-legacy.js?v=1720690738171","./Progress-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy3.js?v=1720690738171","./Checkbox-legacy.js?v=1720690738171","./useTableData-legacy.js?v=1720690738171","./Skeleton-legacy.js?v=1720690738171","./DataTable-legacy.js?v=1720690738171","./Empty-legacy.js?v=1720690738171","./index-legacy85.js?v=1720690738171","./use-theme-vars-legacy.js?v=1720690738171","./useLoading-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1720690738171","./InputGroupLabel-legacy.js?v=1720690738171","./InputGroup-legacy.js?v=1720690738171","./index-legacy57.js?v=1720690738171","./index-legacy49.js?v=1720690738171","./form.vue_vue_type_script_setup_true_lang-legacy.js?v=1720690738171","./useAccount-legacy.js?v=1720690738171","./php-legacy.js?v=1720690738171","./Space-legacy.js?v=1720690738171","./index-legacy112.js?v=1720690738171","./Spin-legacy.js?v=1720690738171","./_baseUniq-legacy.js?v=1720690738171","./_baseFindIndex-legacy.js?v=1720690738171","./Tag-legacy.js?v=1720690738171"],(function(e,l){"use strict";var a,t,n,s,u,c,i,r,p,g,o,_,y,v,d,j,m,f,x,h,w,b,C,S,k,T,U,q,P,I,$,G;return{setters:[e=>{a=e.cv,t=e.j,n=e.n,s=e.k,u=e.e,c=e.G,i=e.B,r=e.a9,p=e.q},e=>{g=e._,o=e.a},e=>{_=e._},e=>{y=e.bf,v=e.bg},e=>{d=e.u},e=>{j=e._},e=>{m=e.s},e=>{f=e.u},e=>{x=e.l,h=e.r,w=e.f,b=e.x,C=e.S,S=e.Z,k=e.P,T=e.V,U=e._,q=e.W,P=e.b,I=e.q,$=e.t},e=>{G=e._},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l={class:"w-160px"},R=U("span",null,"Rewrite rule converter: ",-1),A=U("li",null,"Please select your application.",-1),D=U("li",null," If the site cannot be accessed after the rewrite rules set, please try to reset to default. ",-1),E=U("li",null,"You are able to modify rewrite rules, just save it after modification.",-1),L={class:"w-380px px-20px pt-24px pb-8px"},N={class:"w-180px"};e("default",x({__name:"index",setup(e,{expose:x}){const{data:B}=d(),F=a(),V=h(null),W=h(null),Y=h([]),Z=h("");let z="";const H=e=>{Z.value=J(e),V.value?.getContent()},J=e=>{const{webserver:l}=F;return"0.Current"===e?"apache"===l||"openlitespeed"===l?`${z}/.htaccess`:`/www/server/panel/vhost/rewrite/${B.name}.conf`:`/www/server/panel/rewrite/${"openlitespeed"===l?"apache":l}/${W.value}.conf`},K=async()=>{const e=J("0.Current"),{message:l}=await m({path:e,data:X.data,encoding:"utf-8"});t(l)&&n.success(l.msg);const a=Y.value[0].value;W.value=a,H(a)},M=h(!1),O=()=>{M.value=!0},Q=h(null),X=w({name:"",data:""}),ee={name:{required:!0,trigger:["blur","change"],message:"Please enter the template name"}},le=async({hide:e})=>{await(Q.value?.validate()),await y($(X)),X.name="",ae(),e()},ae=async()=>{const{message:e}=await v({siteName:B.name});if(t(e)){z=e.sitePath;const l=s(e.rewrite)?e.rewrite:[];Y.value=f(l).map((e=>({label:e,value:e}))),l.length&&(W.value=l[0],Z.value=J(l[0]))}V.value?.getContent()},te=async()=>{ae()};return b((()=>{te()})),x({init:te}),(e,a)=>{const t=G,n=u,s=c,y=i,v=_,d=r,m=g,f=o,x=p;return C(),S("div",null,[k(s,{class:"items-center mb-12px"},{default:T((()=>[U("div",l,[k(t,{value:q(W),"onUpdate:value":[a[0]||(a[0]=e=>P(W)?W.value=e:null),H],options:q(Y)},null,8,["value","options"])]),U("div",null,[R,k(n,{href:"https://winginx.com/en/htaccess",target:"_blank"},{default:T((()=>[I("Apache to Nginx")])),_:1})])])),_:1}),k(j,{ref_key:"configRef",ref:V,path:q(Z),"onUpdate:path":a[1]||(a[1]=e=>P(Z)?Z.value=e:null),value:q(X).data,"onUpdate:value":a[2]||(a[2]=e=>q(X).data=e),height:400,"show-tips":!1},null,8,["path","value"]),k(s,{class:"items-center mt-12px"},{default:T((()=>[k(y,{type:"primary",onClick:K},{default:T((()=>[I("Save")])),_:1}),k(y,{onClick:O},{default:T((()=>[I("Save as template")])),_:1})])),_:1}),k(v,{class:"mt-24px"},{default:T((()=>[A,D,E])),_:1}),k(x,{show:q(M),"onUpdate:show":a[4]||(a[4]=e=>P(M)?M.value=e:null),title:"Save as rewrite template",footer:!0,onConfirm:le},{default:T((()=>[U("div",L,[k(f,{ref_key:"formRef",ref:Q,model:q(X),rules:ee},{default:T((()=>[k(m,{label:"Template name",path:"name"},{default:T((()=>[U("div",N,[k(d,{value:q(X).name,"onUpdate:value":a[3]||(a[3]=e=>q(X).name=e),placeholder:"Template name"},null,8,["value"])])])),_:1})])),_:1},8,["model"])])])),_:1},8,["show"])])}}}))}}}));
