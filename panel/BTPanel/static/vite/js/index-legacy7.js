System.register(["./index-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy3.js?v=1720690738171","./useTableData-legacy.js?v=1720690738171","./useLoading-legacy.js?v=1720690738171","./useTableColumns-legacy.js?v=1720690738171","./hooks-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1720690738171","./vue-legacy.js?v=1720690738171","./index-legacy48.js?v=1720690738171","./pinia-legacy.js?v=1720690738171","./DataTable-legacy.js?v=1720690738171","./Checkbox-legacy.js?v=1720690738171","./Ellipsis-legacy.js?v=1720690738171","./Select-legacy.js?v=1720690738171","./Tag-legacy.js?v=1720690738171","./Empty-legacy.js?v=1720690738171","./omit-legacy.js?v=1720690738171","./Skeleton-legacy.js?v=1720690738171","./Progress-legacy.js?v=1720690738171","./index-legacy50.js?v=1720690738171","./index-legacy49.js?v=1720690738171","./useAccount-legacy.js?v=1720690738171"],(function(e,a){"use strict";var t,l,s,n,i,c,o,d,u,r,y,p,g,h,m,_,k,v,w,b,j,f,x,D,S,C,B,R,U,W,L,P,T,q,z,A,E,G,K,H,I,N,V,F,J;return{setters:[e=>{t=e.u,l=e.g,s=e.s,n=e.o,i=e.h,c=e.t,o=e.w,d=e.j,u=e.k,r=e.m,y=e.B,p=e.p,g=e.q,h=e.r,m=e.v},e=>{_=e._},e=>{k=e._,v=e.a},e=>{w=e._},e=>{b=e.u,j=e._},e=>{f=e.u},e=>{x=e.a,D=e.b},e=>{S=e.g},e=>{C=e._},e=>{B=e.P,R=e.l,U=e.f,W=e.w,L=e.S,P=e.U,T=e.V,q=e._,z=e.q,A=e.W,E=e.b,G=e.a1,K=e.t},e=>{H=e.d,I=e._,N=e.e,V=e.g,F=e.u,J=e.c},null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const M={class:"p-16px"};e("default",R({__name:"index",setup(e){const R=G((()=>m((()=>a.import("./index-legacy51.js?v=1720690738171")),void 0))),O=t(),Q=l(),X=()=>{Q.show=!0},Y=()=>{V()},Z=async()=>{await s(O.type,{ids:[]}),ie()},{keys:$,table:ee,columns:ae}=b([{type:"selection",width:40},{key:"name",title:"Database name",width:"12%",minWidth:120},{key:"username",title:"Username",width:"12%",minWidth:120},{key:"password",title:"Password",minWidth:150,render:e=>B(C,{value:e.password},null)},{key:"sid",title:"Location",width:"12%",minWidth:120,render:e=>S(e)},x({onBlur:async(e,a)=>{await n({id:a.id,ps:e})}}),D({width:100,options:e=>[{label:"CHG PW",onClick:()=>{F(e)}},{label:"Del",onClick:()=>{J([e])}}]})]),te=[{key:"sync",label:"Sync to Server",onBatch:e=>{i({title:"Batch Sync to Server",content:"Please be cautious, The selected item will be [Sync to Server] after confirmation",onConfirm:async({hide:a})=>{await s(O.type,{ids:e.map((e=>e.id))}),a()}})}},{key:"backup",type:"confirm",label:"DB backup",confirm:{title:"Batch backup database",desc:"Do you continue to operate in batch backup database?",api:e=>c(O.type,{id:e.id},!1),done:()=>{ie()},columns:[{key:"name",title:"Database Name"}]}},{key:"delete",label:"Delete database",onBatch:e=>{J(e)}}],{loading:le,setLoading:se}=f(),ne=U({p:1,limit:10,sid:-1,search:""}),ie=async()=>{try{se(!0);const{message:e}=await o(O.type,(()=>{const e={...K(ne)};return-1===e.sid&&delete e.sid,e})());d(e)?(ee.data=u(e.data)?e.data:[],ee.total=r(e.page)):(ee.data=[],ee.total=0)}finally{$.value=[],se(!1)}};return W((()=>O.isRefresh),(e=>{e&&(O.setRefresh(!1),O.delRemoteId===ne.sid&&(ne.sid=-1),ie())})),(async()=>{await O.getRemote(),O.install&&ie()})(),(e,a)=>{const t=y,l=p,s=k,n=j,i=w,c=v,o=_,d=g,u=h;return L(),P(A(N),null,{default:T((()=>[B(u,null,{default:T((()=>[q("div",M,[B(o,null,{toolsLeft:T((()=>[B(t,{type:"primary",onClick:X},{default:T((()=>[z("Add DB")])),_:1}),B(t,{onClick:Y},{default:T((()=>[z("Remote DB")])),_:1}),B(l,{class:"mx-0!",vertical:""}),B(t,{onClick:Z},{default:T((()=>[z("Sync all")])),_:1}),B(t,{onClick:A(H)},{default:T((()=>[z("Get DB from server")])),_:1},8,["onClick"])])),toolsRight:T((()=>[B(A(I),{value:A(ne).sid,"onUpdate:value":a[0]||(a[0]=e=>A(ne).sid=e),"store-key":"database-sqlserver-page",onChange:ie},null,8,["value"]),B(s,{value:A(ne).search,"onUpdate:value":a[1]||(a[1]=e=>A(ne).search=e),placeholder:"Database search",onSearch:ie},null,8,["value"])])),table:T((()=>[B(n,{"checked-row-keys":A($),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>E($)?$.value=e:null),loading:A(le),data:A(ee).data,columns:A(ae)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:T((()=>[B(i,{"checked-row-keys":A($),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>E($)?$.value=e:null),data:A(ee).data,options:te},null,8,["checked-row-keys","data"])])),pageRight:T((()=>[B(c,{page:A(ne).p,"onUpdate:page":a[4]||(a[4]=e=>A(ne).p=e),"page-size":A(ne).limit,"onUpdate:pageSize":a[5]||(a[5]=e=>A(ne).limit=e),"item-count":A(ee).total,onRefresh:ie},null,8,["page","page-size","item-count"])])),_:1}),B(d,{show:A(Q).show,"onUpdate:show":a[6]||(a[6]=e=>A(Q).show=e),title:"Add Database",width:540,"min-height":280,footer:!0,component:A(R)},null,8,["show","component"])])])),_:1})])),_:1})}}}))}}}));
