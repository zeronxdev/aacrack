import{s as e}from"./pinia.js?v=1720690738171";import{bb as t,cY as a,h as o,cZ as s,a as n}from"./index.js?v=1720690738171";import{l,r as i,S as r,U as p,W as c,P as d,q as u,s as m,Z as x,_ as f,F as v,ag as b,a3 as y,a5 as w,a6 as _}from"./vue.js?v=1720690738171";import{_ as h}from"./Tag.js?v=1720690738171";import{_ as g}from"./Countdown.js?v=1720690738171";import{_ as j}from"./Select.js?v=1720690738171";import"./Empty.js?v=1720690738171";function C(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!m(e)}const D=l({__name:"time",props:{endtime:{default:0}},setup(e){const t=e,a=i(0),o=e=>e.toString().padStart(2,"0"),s=({hours:e,minutes:t,seconds:a})=>{let s,n,l;return d("div",{class:"flex justify-center items-center text-default text-16px"},[d("span",null,[u("End at ")]),d(h,{type:"error",size:"small",class:"h-30px mx-10px px-4px text-18px font-bold",bordered:!1},C(s=o(e))?s:{default:()=>[s]}),d("span",null,[u(":")]),d(h,{type:"error",size:"small",class:"h-30px mx-10px px-4px text-18px font-bold",bordered:!1},C(n=o(t))?n:{default:()=>[n]}),d("span",null,[u(":")]),d(h,{type:"error",size:"small",class:"h-30px mx-10px px-4px text-18px font-bold",bordered:!1},C(l=o(a))?l:{default:()=>[l]})])};return a.value=1e3*t.endtime-Math.floor(Date.now()),(e,t)=>{const o=g;return r(),p(o,{duration:c(a),render:s},null,8,["duration"])}}}),S=e=>(w("data-v-11bc948f"),e=e(),_(),e),k={class:"coupon-box"},F={class:"pt-24px bg-#fff rounded-4px"},L={class:"px-36px"},T=S((()=>f("div",{class:"text-20px text-[#FFB04C]"},"Get coupons for a limited time",-1))),z={class:"coupon-list"},M=S((()=>f("div",{class:"decoration"},"OFF",-1))),N={class:"coupon-amount"},O={class:"coupon-price"},E=S((()=>f("span",{class:"text-20px mr-4px"},"$",-1))),G={class:"text-34px"},R={class:"coupon-info"},U={class:"coupon-name"},Z={class:"coupon-time"},q=S((()=>f("span",null,"Valid for ",-1))),B={class:"text-error text-20px"},I={class:"pt-14px px-36px pb-10px"},P={class:"mt-24px text-center"},V={class:"w-200px mt-10px mx-auto"},W=n(l({__name:"index",props:{couponList:{default:()=>[]}},emits:["close","receive"],setup(n,{emit:l}){const p=l,u=t(),{receiveCoupon:m}=e(u),w=e=>Math.floor(e/86400),_=i(null),h=[{label:"No more reminders for today",value:"today"},{label:"No reminders in the past 7 days",value:"week"},{label:"Never remind you forever",value:"forver"}],g=async()=>{await a({obtain_id:"".concat(m.value.obtain_id)}),u.getReceiveCoupon(),p("close"),p("receive")},C=(e,t)=>{o({title:"Tips",content:"".concat(t.label,", do you confirm?"),onConfirm:async()=>{let t=0;switch(e){case"today":t=new Date((new Date).toLocaleDateString()).getTime()+864e5-1;break;case"week":t=new Date((new Date).toLocaleDateString()).getTime()+6048e5-1;break;case"forver":t=-100}t=Math.floor(t>0?t/1e3:t),await s({limit_time:t}),u.getReceiveCoupon(),p("close")}})};return(e,t)=>{const a=j;return r(),x("div",k,[f("div",F,[f("div",L,[T,f("div",z,[(r(!0),x(v,null,b(e.couponList,((e,t)=>(r(),x("div",{key:"".concat(t),class:"coupon-item"},[M,f("div",N,[f("div",O,[E,f("span",G,y(e.deduct_amount),1)])]),f("div",R,[f("div",U,y(e.title),1),f("div",Z,[q,f("span",B,y(w(e.expires)),1),f("span",null," day"+y(w(e.expires)>1?"s":""),1)])])])))),128))])])]),f("div",I,[f("div",P,[d(D,{endtime:c(m).end_time},null,8,["endtime"])]),f("div",{class:"coupon-btn",onClick:g},"Get it now"),f("div",V,[d(a,{value:c(_),options:h,"consistent-menu-width":!1,placeholder:"Choose time without notice","onUpdate:value":C},null,8,["value"])])])])}}}),[["__scopeId","data-v-11bc948f"]]);export{W as default};
