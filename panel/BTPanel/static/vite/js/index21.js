const __vite__fileDeps=["js/index86.js?v=1720690738171","js/index53.js?v=1720690738171","js/index.js?v=1720690738171","js/vue.js?v=1720690738171","js/pinia.js?v=1720690738171","css/index29.css?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang5.js?v=1720690738171","js/Select.js?v=1720690738171","js/Tag.js?v=1720690738171","js/Empty.js?v=1720690738171","js/index87.js?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang10.js?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang7.js?v=1720690738171","js/InputGroupLabel.js?v=1720690738171","js/InputGroup.js?v=1720690738171","js/index88.js?v=1720690738171","js/index.vue_vue_type_script_setup_true_lang11.js?v=1720690738171","js/useLoading.js?v=1720690738171","js/file2.js?v=1720690738171","js/Spin.js?v=1720690738171"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{I as e,ag as t,ah as a,e as l,q as s,g as n,ai as i,j as o,aj as r,ak as c,al as u,H as d,am as _,an as p,h as m,n as x,ao as f,G as g,B as v,a9 as k,r as h,v as w}from"./index.js?v=1720690738171";import{_ as b,a as y}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1720690738171";import{s as D}from"./pinia.js?v=1720690738171";import{_ as S}from"./index49.js?v=1720690738171";import{l as $,ad as j,r as C,f as P,U as E,V as U,W as B,S as I,_ as O,a3 as R,P as T,q as V,B as A,M as L,b as M,D as q,aj as z,af as G,a1 as H,s as W}from"./vue.js?v=1720690738171";import{_ as F}from"./Select.js?v=1720690738171";import{_ as J}from"./index53.js?v=1720690738171";import{_ as K}from"./Checkbox.js?v=1720690738171";import"./Tag.js?v=1720690738171";import"./Empty.js?v=1720690738171";const N={class:"mr-8px"},Q={class:"w-470px"},X={class:"w-470px"},Y=$({__name:"install",setup(n){const{t:i}=j(),o=e(),{setting:r}=D(o),c=C(!1),u=C(null),d=P({type:"default",url:null}),_=[{label:i("Docker.install.index_4"),value:"default"},{label:i("Docker.install.index_5"),value:"custom"},{label:i("Docker.install.index_6"),value:"binary"}],p=[{label:i("Docker.install.index_7"),value:"download.docker.com"}],m={url:{trigger:["change"],validator:()=>"custom"!==d.type||null!==d.url||new Error(i("Docker.install.index_8"))}},x=()=>{c.value=!0},f=async()=>{var e;await(null==(e=u.value)?void 0:e.validate());let l={type:"binary"===d.type?1:0};"custom"===d.type&&(l=Object.assign(l,{url:d.url})),await t(l),a(),o.getSetting()};return(e,t)=>{const a=l,n=F,i=b,o=y,g=s,v=S;return I(),E(v,{install:B(r).docker_installed&&B(r).docker_compose_installed},{desc:U((()=>[O("span",N,R(e.$t("Docker.index_2")),1),T(a,{class:"font-bold!",onClick:x},{default:U((()=>[V(R(e.$t("Public.Btn.Install")),1)])),_:1}),T(g,{show:B(c),"onUpdate:show":t[2]||(t[2]=e=>M(c)?c.value=e:null),title:e.$t("Public.Btn.Install"),footer:!0,onConfirm:f},{default:U((()=>[T(o,{ref_key:"formRef",ref:u,class:"w-640px p-20px",model:B(d),rules:m},{default:U((()=>[T(i,{label:e.$t("Docker.install.index_2")},{default:U((()=>[O("div",Q,[T(n,{value:B(d).type,"onUpdate:value":t[0]||(t[0]=e=>B(d).type=e),options:_},null,8,["value"])])])),_:1},8,["label"]),A(T(i,{label:e.$t("Docker.install.index_3"),path:"url"},{default:U((()=>[O("div",X,[T(n,{value:B(d).url,"onUpdate:value":t[1]||(t[1]=e=>B(d).url=e),options:p},null,8,["value"])])])),_:1},8,["label"]),[[L,"custom"===B(d).type]])])),_:1},8,["model"])])),_:1},8,["show","title"])])),default:U((()=>[q(e.$slots,"default")])),_:3},8,["install"])}}}),Z={class:"flex items-center text-14px"},ee={class:"mr-4px"},te={class:"w-300px"},ae={class:"w-300px"},le={class:"ml-20px text-desc"};const se=$({__name:"index",setup(t){const a=H((()=>w((()=>import("./index86.js?v=1720690738171")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))),l=H((()=>w((()=>import("./index87.js?v=1720690738171")),__vite__mapDeps([10,6,3,2,4,5,11,12,13,14])))),S=H((()=>w((()=>import("./index88.js?v=1720690738171")),__vite__mapDeps([15,2,3,4,5,16,17,18,7,8,9,19])))),$=e(),{setting:P}=D($),{t:A}=j(),L=async()=>{await c({act:P.value.service_status?"stop":"start"}),$.getSetting()},M=async()=>{await u(),$.getSetting()},q=async()=>{d({title:A("Docker.Setting.index_13"),content:A("Docker.Setting.index_14"),onConfirm:async()=>{await _()}})},F=C(""),N=C({}),Q=async()=>{const{message:e}=await i();if(o(e)){const t=r(e,"registry_mirrors",[]);F.value=t.length>0?t[0]:"",N.value=r(e,"com_reg_mirrors",{})}return e},X=n(A("Docker.Setting.index_15"),{url:"",mirrors:N.value,onRefresh:async e=>{await Q(),null==e||e(N.value)}}),se=()=>{X.data.url=F.value,X.data.mirrors=N.value,X.show=!0},ne=n(A("Docker.Setting.index_16")),ie=()=>{ne.show=!0},oe=n(A("Docker.Setting.index_17")),re=()=>{oe.show=!0},ce=async()=>{const{message:e}=await p(),t=C(!1),a=!r(e,"status",!1),l=r(e,"msg","");m({width:400,title:A("Docker.Setting.index_18"),content:()=>{let e;return T("div",null,[T("div",{class:"mb-16px"},[l]),T(K,{checked:t.value,class:"mb-16px",onUpdateChecked:e=>{t.value=e}},(a=e=A("Docker.Setting.index_19"),"function"==typeof a||"[object Object]"===Object.prototype.toString.call(a)&&!W(a)?e:{default:()=>[e]})),T(J,{class:"text-12px"},{default:()=>[T("li",null,[A("Docker.Setting.index_20")])]})]);var a},onConfirm:async()=>{if(a&&!t.value)return x.error(A("Docker.Setting.index_21")),!1;await f({type:t.value?1:0}),$.getSetting()}})};return Q(),(e,t)=>{const n=g,i=v,o=b,r=k,c=y,u=s,d=h;return I(),E(Y,null,{default:U((()=>[T(d,{class:"p-16px"},{default:U((()=>[T(c,null,{default:U((()=>[T(o,{label:e.$t("Docker.Setting.index_1")},{default:U((()=>[O("div",Z,[O("span",ee,R(e.$t("Docker.Setting.index_2"))+R(e.$t("Public.Punctuation.Colon")),1),T(n,{class:"items-center",size:4},{default:U((()=>[O("span",null,R(B(P).service_status?e.$t("Public.Status.Enable"):e.$t("Public.Status.Stopped")),1),O("span",{class:z(["iconfont","icon-".concat(B(P).service_status?"start":"stop")])},null,2)])),_:1})]),T(i,{class:"ml-32px",onClick:L},{default:U((()=>[V(R(B(P).service_status?e.$t("Docker.Setting.index_4"):e.$t("Docker.Setting.index_3")),1)])),_:1}),T(i,{class:"ml-12px",onClick:M},{default:U((()=>[V(R(e.$t("Docker.Setting.index_5")),1)])),_:1}),B(P).service_status?G("",!0):(I(),E(i,{key:0,class:"ml-12px",onClick:q},{default:U((()=>[V(R(e.$t("Docker.Setting.index_6")),1)])),_:1}))])),_:1},8,["label"]),T(o,{label:e.$t("Docker.Setting.index_7")},{default:U((()=>[O("div",te,[T(r,{value:B(F)||e.$t("Docker.Setting.index_8"),disabled:!0,placeholder:""},null,8,["value"])]),T(i,{type:"primary",class:"ml-5px",onClick:se},{default:U((()=>[V(R(e.$t("Public.Btn.Modify")),1)])),_:1})])),_:1},8,["label"]),T(o,{label:"Docker compose"},{default:U((()=>[O("div",ae,[T(r,{value:B(P).docker_compose_path,disabled:!0,placeholder:""},null,8,["value"])]),T(i,{type:"primary",class:"ml-5px",onClick:ie},{default:U((()=>[V(R(e.$t("Public.Btn.Modify")),1)])),_:1}),O("span",le,R(e.$t("Docker.Setting.index_10")),1)])),_:1}),T(o,{label:e.$t("Docker.Setting.index_11")},{default:U((()=>[T(i,{type:"primary",onClick:re},{default:U((()=>[V(R(e.$t("Docker.Setting.index_12")),1)])),_:1})])),_:1},8,["label"]),T(o,{label:e.$t("Docker.Setting.index_18")},{default:U((()=>[T(i,{onClick:ce},{default:U((()=>[V(R(e.$t("Public.Btn.Uninstall")),1)])),_:1})])),_:1},8,["label"])])),_:1}),T(u,{show:B(X).show,"onUpdate:show":t[0]||(t[0]=e=>B(X).show=e),title:B(X).title,data:B(X).data,width:640,"min-height":164,footer:!0,component:B(a)},null,8,["show","title","data","component"]),T(u,{show:B(ne).show,"onUpdate:show":t[1]||(t[1]=e=>B(ne).show=e),title:B(ne).title,width:450,"min-height":80,footer:!0,component:B(l)},null,8,["show","title","component"]),T(u,{show:B(oe).show,"onUpdate:show":t[2]||(t[2]=e=>B(oe).show=e),title:B(oe).title,width:640,"min-height":530,footer:!0,component:B(S)},null,8,["show","title","component"])])),_:1})])),_:1})}}});export{se as default};
