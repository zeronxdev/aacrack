System.register(["./index-legacy.js?v=1720690738171","./vue-legacy.js?v=1720690738171"],(function(t,n){"use strict";var e,i,s,a,o,c,d,l,r,p,f,u;return{setters:[t=>{e=t.ar,i=t.n,s=t.l,a=t.c,o=t.d,c=t.H,d=t.bc,l=t.aj,r=t.v,p=t.b1,f=t.j},t=>{u=t.a1}],execute:function(){t({a:b,b:_,c:function(t){return new Promise(((n,e)=>{if(p().isFree)return _(t),void e(!1);n(!0)}))},d:g,e:async function(t){await m(),t.admin?bt.soft.set_lib_config(t.name,t.title,t.version):soft.set_soft_config(t.name,t.title)},f:async function(){await async function(){await s(),await a(),await o("/static/vite/oldjs/polyfill.min.js?v=1720690738171"),await o("/static/ace/ace.js?v=1720690738171"),await o("/static/vite/oldjs/jquery.qrcode.min.js?v=1720690738171"),await o("/static/vite/oldjs/jquery.dragsort-0.5.2.min.js?v=1720690738171"),await o("/static/vite/oldjs/soft.js?v=1720690738171",$("#soft-main").get(0))}(),$("#soft-main").append('\n\t\t<div class="main-content">\n\t\t\t<div class="container-fluid" style="padding: 0;">\n\t\t\t\t<div class="softbox bgw">\n\t\t\t\t\t\t<div class="softlist">\n\t\t\t\t<div class="soft-filter pd15">\n\t\t\t\t\t<div class="row soft-filter-box">\n\t\t\t\t\t\t<div class="col-md-12">\n\t\t\t\t\t\t\t<span class="filter-title f14 c4">Search App</span>\n\t\t\t\t\t\t\t<div class="soft-search">\n\t\t\t\t\t\t\t\t\x3c!-- <form target="hid" onsubmit=\'soft.get_list(1,0,$("#SearchValue").val())\'> --\x3e\n\t\t\t\t\t\t\t\t\t<input type="text" id="SearchValue" class="ser-text pull-left" placeholder="search" style="width:232px" />\n\t\t\t\t\t\t\t\t\t<button type="button" class="ser-sub pull-left" onclick=\'soft.get_list(1,0,$("#SearchValue").val())\'></button>\n\t\t\t\t\t\t\t\t\x3c!-- </form> --\x3e\n\t\t\t\t\t\t\t\t<iframe name=\'hid\' id="hid" style="display:none"></iframe>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="row soft-filter-box">\n\t\t\t\t\t\t<div class="col-md-12">\n\t\t\t\t\t\t\t<span class="filter-title f14 c4">App Sort</span>\n\t\t\t\t\t\t\t<div class="menu-sub softtype"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\t\t<div class="divtable pd15 relative">\n\t\t\t\t\t\t\t<button class="btn btn-default btn-sm" onclick="soft.flush_cache()" title="Update From Cloud" style="position:absolute;top:-49px;right:15px">Update App List</button>\n\t\t\t\t\t\t\t\t<div id="updata_pro_info">\n\t\t\t\t\t\t\t\t\t<div class="alert alert-success" style="margin-bottom:15px"><strong>Upgrade to Pro edition, all plugins, free to use!</strong><button class="btn btn-success btn-xs va0 updata_pro" onclick="bt.soft.updata_pro()" title="Upgrade to Pro edition now" style="margin-left:8px">Upgrade now</button></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id="commonly_software" class="commonly_software">\n\t\t\t\t\t\t\t\t\t<div class="commonly_software_title">Recently visited plugin:</div><div class="commonly_software_list"></div></div>\n\t\t\t\t\t\t\t<table id="softList" class="table table-hover" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-top:10px"></table>\n\t\t\t\t\t\t\t<div id=\'softPage\' class="dataTables_paginate paging_bootstrap page"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'),window.usePay=_,$("#soft-main").append("\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\tbt.set_cookie('sites_path', window.sites_path);\n\t\t\t\tbt.set_cookie('serverType', window.webserver);\n\t\t\t\tbt.set_cookie('distribution', window.distribution);\n\t\t\t\t$(document).ready(function () {\n\t\t\t\t\t\tsoft.get_list();\n\t\t\t\t\t\tsoft.render_soft_recommend()\n\t\t\t\t$('#SearchValue').keyup(function (e) {\n\t\t\t\t\tif (e.keyCode == 13) {\n\t\t\t\t\t\tsoft.get_list(1, 0, $(\"#SearchValue\").val());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tsoft_td_width_auto();\n\t\t\t\t\t\t}, 500);\n\t\t\t\t});\n\t\t\t\t$(window).resize(function () {\n\t\t\t\t\t\tsoft_td_width_auto();\n\t\t\t\t});\n\n\t\t\t\t// 获取支付状态\n\t\t\t\tfunction getPaymentStatus(){\n\t\t\t\t\tbt.send('get_pd', 'ajax/get_pd', {}, function (res) {\n\t\t\t\t\t\tvar tab = $('.pos-box .tab-list'),\n\t\t\t\t\t\t\t\tproHTML = '',\n\t\t\t\t\t\t\t\t_index = res[1] > 0 ? 1 : 2,\n\t\t\t\t\t\t\t\tis_pay = res[1] >= 0 || res[2] > 0, //是否购买\n\t\t\t\t\t\t\t\tadvanced = res[1] == 0 || res[1] > 0 ? 'pro':'ltd';\n\n\t\t\t\t\t\tbt.set_cookie('pro_end', res[1]);\n\t\t\t\t\t\tbt.set_cookie('ltd_end', res[2]);\n\n\t\t\t\t\t\t// 已购买\n\t\t\t\t\t\tif (is_pay) {\n\t\t\t\t\t\t\tproHTML = '<div class=\"product-buy\" style=\"margin-right:0;font-size: 12px;\">Expire: <span style=\"vertical-align: initial\">' + (res[1] === 0?' Lifetime':((res[1] === -2 && res[2] === -2)?'Expired':bt.format_data(res[_index],'yyyy-MM-dd'))+ '&nbsp;&nbsp;<a class=\"btlink\" href=\"javascript:;\" onclick=\"product_recommend.pay_product_sign(\\''+ advanced +'\\',81,\\''+ advanced +'\\')\">RENEW</a>')+'</span></div>'\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tproHTML = '<div class=\"product-buy\" style=\"margin-right:0;\"><button type=\"button\" class=\"btn btn-success btn-xs\" style=\"vertical-align: 1px;\" onclick=\"product_recommend.pay_product_sign(\\'pro\\',80,\\'pro\\')\">Upgrade now</button></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t$(window).resize(function () {\n\t\t\t\t\t\t\tif ($(window).innerWidth() < 1080) {\n\t\t\t\t\t\t\t\t$('.recommend-immediate-icon').next().addClass('hide');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('.recommend-immediate-icon').next().removeClass('hide');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif ((tab.children().length * 105 + 306.28) < tab.parent().width()) {\n\t\t\t\t\t\t\ttab.parent().css({display:'flex','justify-content':'space-between'});\n\n\t\t\t\t\t\t\tvar _html = '<div class=\"authState\" style=\"line-height: 45px;padding-right: 20px;\"><span class=\"'+(!is_pay? 'btpro-gray' : 'bt'+advanced)+'\" '+ (is_pay ? 'onclick=\"product_recommend.pay_product_sign(\\''+ advanced +'\\',90,\\''+ advanced +'\\')\"' : 'onclick=\"product_recommend.pay_product_sign(\\'pro\\',80,\\'pro\\')\"') +' style=\"vertical-align: bottom;\"></span><div style=\"display: inline-block;font-size: 12px;color:#666\" class=\" product_version mr10\">'+(!is_pay?'FREE&nbsp;&nbsp;':'')+' ' + window.panelVersion + '</div> ' + proHTML +'</div>';\n\n\t\t\t\t\t\t\tif(tab.next().hasClass('authState')) tab.next().remove();\n\n\t\t\t\t\t\t\ttab.after(_html);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tgetPaymentStatus();\n\t\t\t<\/script>\n\t\t")},g:async function(t){const{message:n}=await v({sName:t});if(f(n)&&!n.status)return b(t),Promise.reject(!1)},u:async function(){await m(),bt.soft.get_soft_find("pgsql_manager",(function(t){for(let n=0;n<t.versions.length;n++){if(1==t.versions[n].setup){bt.soft.set_lib_config("pgsql_manager","PostgreSQL manager");break}bt.soft.install("pgsql_manager");break}}))}});const v=t("h",(t=>e.post("/plugin?action=get_soft_find",t)));async function m(){const t=i.loading("Loading, please wait...");try{await s(),await a(),await o("/static/vite/oldjs/soft.js?v=1720690738171")}finally{t.close()}}async function b(t,n){await m(),bt.soft.install(t,(function(){n?.()}))}function g(){c({title:"Bind aaPanel account",width:400,minHeight:324,component:u((()=>r((()=>n.import("./index-legacy98.js?v=1720690738171")),void 0)))})}async function _(t){try{const{message:e}=await d(),i=l(e,"data.username","");c({width:1024,minHeight:690,data:{username:i,...t},component:u((()=>r((()=>n.import("./index-legacy99.js?v=1720690738171")),void 0)))})}catch{g()}}t("i",(t=>e.post("/plugin?action=install_plugin",t,{requestOptions:{prefix:"",isOriginalResult:!0}})))}}}));
