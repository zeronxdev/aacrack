System.register(["./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1720690738171","./index-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1720690738171","./vue-legacy.js?v=1720690738171","./pinia-legacy.js?v=1720690738171","./index-legacy48.js?v=1720690738171","./Select-legacy.js?v=1720690738171","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1720690738171","./InputGroupLabel-legacy.js?v=1720690738171","./InputGroup-legacy.js?v=1720690738171","./index-legacy49.js?v=1720690738171","./useAccount-legacy.js?v=1720690738171","./useTableColumns-legacy.js?v=1720690738171","./Progress-legacy.js?v=1720690738171","./Tag-legacy.js?v=1720690738171","./Empty-legacy.js?v=1720690738171"],(function(e,a){"use strict";var l,s,u,r,t,n,d,c,i,o,p,g,_,v,y,m,b,f,h,j,w,x,U,q,k;return{setters:[e=>{l=e._,s=e.a},e=>{u=e.u,r=e.dx,t=e.a9,n=e.e,d=e.n},e=>{c=e._},e=>{i=e.l,o=e.r,p=e.f,g=e.k,_=e.S,v=e.U,y=e.V,m=e.P,b=e._,f=e.W,h=e.B,j=e.M,w=e.q,x=e.t},e=>{U=e.s},e=>{q=e.g},e=>{k=e._},null,null,null,null,null,null,null,null,null],execute:function(){const a={class:"w-240px"},C={class:"w-240px"},E={class:"w-240px"},P={class:"w-240px"},R={class:"ml-8px"};e("default",i({__name:"index",props:{data:{}},setup(e,{expose:i}){const S=e,{status:A}=S.data,B=u(),{remoteList:D}=U(B),G=o(null),I=p({sid:D.value.length>0?D.value[0].id:null,name:"",db_user:"",password:"",active:!1,ssl:""}),L=g((()=>D.value.map((e=>({label:`${e.ps} (${e.db_host})`,value:e.id}))))),N={name:{required:!0,message:"请输入数据库名",trigger:["blur","change"]},db_user:{required:!0,message:"请输入用户名",trigger:["blur","change"]},password:{required:!0,message:"请输入管理员密码",trigger:["blur","change"]},sid:{trigger:"change",validator:(e,a)=>null!==a||new Error("请选择远程服务器")}},T=e=>{I.db_user=e},$=()=>{q()};return i({onConfirm:async({hide:e})=>{try{await(G.value?.validate());const a=(()=>{const{sid:e}=I;if(null===e)throw d.error("请选择远程服务器"),new Error("请选择远程服务器");return{...x(I),sid:e,ps:I.name}})();await r(B.type,a),B.setRefresh(!0),e()}catch(a){console.error(a)}}}),(e,u)=>{const r=t,d=l,i=c,o=k,p=n,g=s;return _(),v(g,{ref_key:"formRef",ref:G,model:f(I),rules:N,class:"p-20px"},{default:y((()=>[m(d,{label:"DBName",path:"name"},{default:y((()=>[b("div",a,[m(r,{value:f(I).name,"onUpdate:value":[u[0]||(u[0]=e=>f(I).name=e),T],placeholder:"New database name"},null,8,["value"])])])),_:1}),h(m(d,{label:"Username",path:"db_user"},{default:y((()=>[b("div",C,[m(r,{value:f(I).db_user,"onUpdate:value":u[1]||(u[1]=e=>f(I).db_user=e),placeholder:"Database user"},null,8,["value"])])])),_:1},512),[[j,f(A)]]),h(m(d,{label:"Password",path:"password"},{default:y((()=>[b("div",E,[m(i,{value:f(I).password,"onUpdate:value":u[2]||(u[2]=e=>f(I).password=e)},null,8,["value"])])])),_:1},512),[[j,f(A)]]),m(d,{label:"Add to",path:"sid"},{default:y((()=>[b("div",P,[m(o,{value:f(I).sid,"onUpdate:value":u[3]||(u[3]=e=>f(I).sid=e),options:f(L)},null,8,["value","options"])]),b("div",R,[m(p,{onClick:$},{default:y((()=>[w("Remote servers")])),_:1})])])),_:1})])),_:1},8,["model"])}}}))}}}));
